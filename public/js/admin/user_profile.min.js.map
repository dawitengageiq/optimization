{"version":3,"sources":["user_profile.js"],"names":["$","document","ready","uploadImage","defaultProfilePath","defaultAlt","currentProfileImage","val","fileinput","overwriteInitial","maxFileSize","showClose","showCaption","browseLabel","removeLabel","browseIcon","removeIcon","removeTitle","elErrorContainer","msgErrorClass","defaultPreviewContent","layoutTemplates","main2","allowedFileExtensions","profileImage","find","ajax","url","error","success","attr","click","fullName","html","fullNameArray","split","currentTitle","currentFirstName","currentMiddleName","currentLastName","currentGender","currentAddress","currentPosition","currentEmail","currentMobileNumber","currentPhoneNumber","currentIM","modal","hide","on","event"],"mappings":"AAAAA,EAAAC,UAAAC,MAAA,WAKA,GAAAC,GAAA,sFAEAC,EAAA,wCACAC,EAAA,sBACAC,EAAAN,EAAA,0BAAAO,KAEAP,GAAA,sBAAAQ,WACAC,kBAAA,EACAC,YAAA,KACAC,WAAA,EACAC,aAAA,EACAC,YAAA,eACAC,YAAA,SACAC,WAAA,gDAEAC,WAAA,GACAC,YAAA,uBACAC,iBAAA,8BACAC,cAAA,iCACAC,sBAAA,aAAAhB,EAAA,UAAAC,EAAA,yBAEAgB,iBAAAC,MAAA,qBAAAnB,EAAA,cACAoB,uBAAA,MAAA,MAAA,QAIA,IAAAC,GAAAxB,EAAA,4BAAAyB,KAAA,MAEA,KAAAnB,GAEAN,EAAA0B,MACAC,IAAArB,EACAsB,MAAA,aAIAC,QAAA,WAEAL,EAAAM,KAAA,MAAAxB,MAKAN,EAAA,gBAAA+B,MAAA,WAGA,GAAAC,GAAAhC,EAAA,sBAAAiC,OACAC,EAAAF,EAAAG,MAAA,KACAC,EAAAF,EAAA,GACAG,EAAAH,EAAA,GACAI,EAAAJ,EAAA,GACAK,EAAAL,EAAA,GACAM,EAAAxC,EAAA,mBAAAiC,OACAQ,EAAAzC,EAAA,oBAAAiC,OACAS,EAAA1C,EAAA,qBAAAiC,OACAU,EAAA3C,EAAA,kBAAAiC,OACAW,EAAA5C,EAAA,0BAAAiC,OACAY,EAAA7C,EAAA,yBAAAiC,OACAa,EAAA9C,EAAA,eAAAiC,MAGAjC,GAAA,UAAAO,IAAA6B,GACApC,EAAA,eAAAO,IAAA8B,GACArC,EAAA,gBAAAO,IAAA+B,GACAtC,EAAA,cAAAO,IAAAgC,GACAvC,EAAA,WAAAO,IAAAiC,GACAxC,EAAA,YAAAO,IAAAkC,GACAzC,EAAA,aAAAO,IAAAmC,GACA1C,EAAA,UAAAO,IAAAoC,GACA3C,EAAA,kBAAAO,IAAAqC,GACA5C,EAAA,iBAAAO,IAAAsC,GACA7C,EAAA,sBAAAO,IAAAuC,GAEA9C,EAAA,qBAAA+C,MAAA,UAGA/C,EAAA,mBAAA+B,MAAA,WAEA/B,EAAA,eAAAO,IAAA,IACAP,EAAA,uBAAAgD,OACAhD,EAAA,wBAAA+C,MAAA,YAIA/C,EAAA,sBAAAiD,GAAA,YAAA,SAAAC,GAEAlD,EAAA,0BAAAO,IAAA","file":"user_profile.min.js","sourcesContent":["$(document).ready(function()\r\n{\r\n    // var uploadImage = '<button type=\"submit\" class=\"btn btn-primary\" title=\"Save Image\" >' +\r\n    //     '<i id=\"uploadImageIcon\" class=\"fa fa-save fa-fw fa-lg\"></i>' +\r\n    //     ' Save</button>';\r\n    var uploadImage = '<br>'+ '<button type=\"submit\" class=\"btn btn-primary\" title=\"Save Image\" >' + 'Save</button>';\r\n\r\n    var defaultProfilePath = '../images/profile/profile_default.png';\r\n    var defaultAlt = 'profile_default.png';\r\n    var currentProfileImage = $('#current_profile_image').val();\r\n\r\n    $(\"#profileImageInput\").fileinput({\r\n        overwriteInitial: true,\r\n        maxFileSize: 1500,\r\n        showClose: false,\r\n        showCaption: false,\r\n        browseLabel: 'Upload Image',\r\n        removeLabel: 'Remove',\r\n        browseIcon: '<i class=\"fa fa-folder-open fa-fw fa-lg\"></i>',\r\n        // removeIcon: '<i class=\"fa fa-remove fa-fw fa-lg\"></i>',\r\n        removeIcon: '',\r\n        removeTitle: 'Remove Current Image',\r\n        elErrorContainer: '#profileImageErrorContainer',\r\n        msgErrorClass: 'alert alert-block alert-danger',\r\n        defaultPreviewContent: '<img src=\"'+defaultProfilePath+'\" alt=\"'+defaultAlt+'\" style=\"width:160px\">',\r\n        // layoutTemplates: {main2: '{preview} ' +  uploadImage + ' {remove} {browse}'},\r\n        layoutTemplates: {main2: '{preview} ' + '{browse}'  + uploadImage + '  ' + '{remove}'},\r\n        allowedFileExtensions: ['jpg','png','gif']\r\n    });\r\n\r\n    //set the initial image\r\n    var profileImage = $('div.file-default-preview').find('img');\r\n\r\n    if(currentProfileImage!='')\r\n    {\r\n        $.ajax({\r\n            url: currentProfileImage,\r\n            error: function()\r\n            {\r\n                //file not exists\r\n            },\r\n            success: function()\r\n            {\r\n                profileImage.attr('src',currentProfileImage);\r\n            }\r\n        });\r\n    }\r\n\r\n    $('#editProfile').click(function()\r\n    {\r\n        //fill in the modal form\r\n        var fullName = $('#current_full_name').html();\r\n        var fullNameArray = fullName.split(' ');\r\n        var currentTitle = fullNameArray[0];\r\n        var currentFirstName = fullNameArray[1];\r\n        var currentMiddleName = fullNameArray[2];\r\n        var currentLastName = fullNameArray[3];\r\n        var currentGender = $('#current_gender').html();\r\n        var currentAddress = $('#current_address').html();\r\n        var currentPosition = $('#current_position').html();\r\n        var currentEmail = $('#current_email').html();\r\n        var currentMobileNumber = $('#current_mobile_number').html();\r\n        var currentPhoneNumber = $('#current_phone_number').html();\r\n        var currentIM = $('#current_im').html();\r\n\r\n        //set the modal fields\r\n        $('#title').val(currentTitle);\r\n        $('#first_name').val(currentFirstName);\r\n        $('#middle_name').val(currentMiddleName);\r\n        $('#last_name').val(currentLastName);\r\n        $('#gender').val(currentGender);\r\n        $('#address').val(currentAddress);\r\n        $('#position').val(currentPosition);\r\n        $('#email').val(currentEmail);\r\n        $('#mobile_number').val(currentMobileNumber);\r\n        $('#phone_number').val(currentPhoneNumber);\r\n        $('#instant_messaging').val(currentIM);\r\n\r\n        $('#editProfileModal').modal('show');\r\n    });\r\n\r\n    $('#changePassword').click(function()\r\n    {\r\n        $('.this_field').val('');\r\n        $('.this_error_wrapper').hide();\r\n        $('#changePasswordModal').modal('show');\r\n    });\r\n});\r\n\r\n$('#profileImageInput').on('fileclear', function(event) {\r\n    //triggered when profile image is cleared\r\n    $('#current_profile_image').val('');\r\n});"]}