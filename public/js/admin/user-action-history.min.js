function diffUsingJS(e){"use strict";var t=function(e){return document.getElementById(e)},a=difflib.stringAsLines(t("old-value-textarea").value),i=difflib.stringAsLines(t("new-value-textarea").value),n=new difflib.SequenceMatcher(a,i),l=n.get_opcodes(),r=t("diffoutput");r.innerHTML="",r.appendChild(diffview.buildView({baseTextLines:a,newTextLines:i,opcodes:l,baseTextName:"Old Value",newTextName:"New Value",viewType:e}))}function convertHTMLEntity(e){var t=document.createElement("span");return e.toString().replace(/&[#A-Za-z0-9]+;/gi,function(e,a,i){return t.innerHTML=e,t.innerText})}$(document).ready(function(){$("#user_id").select2({theme:"bootstrap"}),$("#section").select2({theme:"bootstrap"}),$("#sub_section_id").select2({theme:"bootstrap"}),$("#severity_id").select2({theme:"bootstrap"}),$(".input-group.date").datepicker({format:"yyyy-mm-dd",clearBtn:!0,autoclose:!0,todayHighlight:!0});var e=$("#baseUrl"),t=e.html()+"/admin/userActionHistoryReport",a=$("#history-table").DataTable({processing:!0,serverSide:!0,searching:!0,language:{searchPlaceholder:"ID, User, Reference ID or Summary"},order:[[0,"asc"]],ajax:{url:t,type:"POST",data:function(e){e.user_id=$("#user_id").val();var t=$("#section").val();console.log(t);var a=null,i=null;if(""!==t){var n=t.split(" ");n.length>1?(a=n[0],i=n[1]):1===n.length&&(a=n[0])}e.section_id=a,e.sub_section_id=i,e.change_severity=$("#change_severity").val(),e.date_from=$("#date_from").val(),e.date_to=$("#date_to").val()},error:function(){},dataSrc:function(e){return e.data}},columns:[{data:"id",width:"5%"},{data:"user"},{data:"section",orderable:!1},{data:"sub_section",orderable:!1},{data:"reference_id",width:"10%"},{data:"summary"},{data:"severity"},{data:"datetime"},{data:"details",width:"5%",orderable:!1}],lengthMenu:[[25,50,100,-1],[25,50,100,"ALL"]]});$("#view_logs").click(function(){a.ajax.reload()}),$("#clear").click(function(){$("#date_from").val(""),$("#date_to").val(""),$("#user_id").val("").trigger("change"),$("#section").val("").trigger("change"),$("#severity_id").val("").trigger("change"),a.ajax.reload()}),$(document).on("click",".show-details",function(){var e=$(this),t=e.data("id"),a=e.data("section"),i=e.data("subsection"),n=e.data("refid"),l=e.data("fullname"),r=e.data("severity"),o=convertHTMLEntity(e.data("summary")),d=convertHTMLEntity(e.data("date"));"object"==typeof e.data("oldvalue")?oldV=JSON.stringify(e.data("oldvalue")):oldV=e.data("oldvalue"),"object"==typeof e.data("newvalue")?newV=JSON.stringify(e.data("newvalue")):newV=e.data("newvalue");var s=convertHTMLEntity(oldV),c=convertHTMLEntity(newV);$(".modal-title").html(l+" | "+d),$("#id-value").html(t),$("#section-value").html(a),$("#sub-section-value").html(i),$("#reference-id-value").html(n),$("#user-value").html(l),$("#severity-value").html(r),$("#summary-value").html(o),$("#old-value-textarea").val(s),$("#new-value-textarea").val(c),console.log(s),console.log(c),diffUsingJS(0),$("#details-modal").modal("show")})});
//# sourceMappingURL=user-action-history.min.js.map
