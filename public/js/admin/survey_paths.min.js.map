{"version":3,"sources":["survey_paths.js"],"names":["$","document","ready","the_modal","DataTable","aoColumnDefs","bSortable","aTargets","columns","width","the_form","find","click","modal","on","url","html","id","this","data","sp_name","attr","val","show","e","each","removeClass","hide","this_path","confirmation","confirm","the_url","ajax","type","success","table","row","parents","remove","draw"],"mappings":"AAAAA,EAAAC,UAAAC,MAAA,WACA,GAaAC,IAbAH,EAAA,gBAAAI,WACAC,eACAC,WAAA,EACAC,gBAEAC,UACAC,MAAA,OACAA,MAAA,QACAA,MAAA,QACAA,MAAA,UAIAT,EAAA,qBACAU,EAAAP,EAAAQ,KAAA,iBAEAX,GAAA,oBAAAY,MAAA,WACAT,EAAAU,MAAA,UAGAb,EAAAC,UAAAa,GAAA,QAAA,YAAA,WAEA,GAAAC,GAAAf,EAAA,YAAAgB,OAAA,aACAC,EAAAjB,EAAAkB,MAAAC,KAAA,MACAC,EAAA,OAAAH,EAAA,GAEAd,GAAAQ,KAAA,gBAAAK,KAAA,aACAN,EAAAW,KAAA,SAAAN,GACAL,EAAAS,KAAA,UAAA,aACAT,EAAAW,KAAA,eAAA,aACAX,EAAAS,KAAA,eAAA,4CACAT,EAAAW,KAAA,oBAAA,4CACAX,EAAAC,KAAA,YAAAW,IAAAL,GACAP,EAAAC,KAAA,OAAAW,IAAAL,GACAP,EAAAC,KAAA,SAAAW,IAAAtB,EAAAoB,EAAA,QAAAJ,QACAN,EAAAC,KAAA,QAAAW,IAAAtB,EAAAoB,EAAA,OAAAJ,QAEAhB,EAAA,cAAAuB,OAEApB,EAAAU,MAAA,UAIAV,EAAAW,GAAA,kBAAA,SAAAU,GACA,GAAAT,GAAAf,EAAA,YAAAgB,OAAA,WAEAN,GAAAW,KAAA,SAAAN,GACAL,EAAAS,KAAA,UAAA,YACAT,EAAAW,KAAA,eAAA,YACAX,EAAAS,KAAA,eAAA,IACAT,EAAAW,KAAA,oBAAA,IACAX,EAAAC,KAAA,YAAAW,IAAA,IACAZ,EAAAC,KAAA,OAAAW,IAAA,IACAZ,EAAAC,KAAA,SAAAW,IAAA,IACAZ,EAAAC,KAAA,QAAAW,IAAA,IACAnB,EAAAQ,KAAA,gBAAAK,KAAA,YAEAN,EAAAC,KAAA,UAAAc,KAAA,WACAzB,EAAAkB,MAAAQ,YAAA,SACA1B,EAAAkB,MAAAQ,YAAA,eACA1B,EAAAkB,MAAAQ,YAAA,iBAEA1B,EAAA,uBAAA2B,OAEA3B,EAAA,cAAA2B,SAGA3B,EAAAC,UAAAa,GAAA,QAAA,cAAA,WAEA,GAAAc,GAAA5B,EAAAkB,MACAD,EAAAjB,EAAAkB,MAAAC,KAAA,MAEAU,EAAAC,QAAA,6CAEA,IAAAD,KAAA,EAAA,CACA,GAAAE,GAAA/B,EAAA,YAAAgB,OAAA,cACAhB,GAAAgC,MACAC,KAAA,OACAlB,IAAAgB,EACAZ,MACAF,GAAAA,GAEAiB,QAAA,SAAAf,GACA,GAAAgB,GAAAnC,EAAA,gBAAAI,WACA+B,GAAAC,IAAAR,EAAAS,QAAA,OAAAC,SAAAC","file":"survey_paths.min.js","sourcesContent":["$(document).ready(function() {\r\n    var paths_table = $('#paths-table').DataTable({\r\n        'aoColumnDefs': [{\r\n            'bSortable': false,\r\n            'aTargets': [-1]\r\n        }],\r\n        \"columns\": [\r\n            { \"width\": \"5%\" },\r\n            { \"width\": \"40%\" },\r\n            { \"width\": \"40%\" },\r\n            { \"width\": \"15%\" }\r\n        ]\r\n    });\r\n\r\n    var the_modal = $('#path_form_modal');\r\n    var the_form = the_modal.find('form.this_form');\r\n\r\n    $('#add_path_button').click(function() {\r\n        the_modal.modal('show');\r\n    });\r\n\r\n    $(document).on('click','.editPath',function()\r\n    {\r\n        var url = $('#baseUrl').html() + '/edit_path';\r\n        var id = $(this).data('id');\r\n        var sp_name = '#sp-' + id + '-';\r\n\r\n        the_modal.find('.modal-title').html('Edit Path');\r\n        the_form.attr('action',url);\r\n        the_form.data('process','edit_path');\r\n        the_form.attr('data-process', 'edit_path');\r\n        the_form.data('confirmation','Are you sure you want to edit this path?');\r\n        the_form.attr('data-confirmation', 'Are you sure you want to edit this path?');\r\n        the_form.find('#this_id').val(id);\r\n        the_form.find('#id').val(id);\r\n        the_form.find('#name').val( $(sp_name+'name').html() );\r\n        the_form.find('#url').val( $(sp_name+'url').html() );\r\n\r\n        $('#pathIdDiv').show();\r\n\r\n        the_modal.modal('show');\r\n    });\r\n\r\n    /* Close Confirmation Modal */\r\n    the_modal.on('hidden.bs.modal', function (e) {\r\n        var url = $('#baseUrl').html() + '/add_path';\r\n\r\n        the_form.attr('action',url);\r\n        the_form.data('process','add_path');\r\n        the_form.attr('data-process', 'add_path');\r\n        the_form.data('confirmation','');\r\n        the_form.attr('data-confirmation', '');\r\n        the_form.find('#this_id').val('');\r\n        the_form.find('#id').val('');\r\n        the_form.find('#name').val('');\r\n        the_form.find('#url').val('');\r\n        the_modal.find('.modal-title').html('Add Path');\r\n\r\n        the_form.find('.error').each(function(){\r\n            $(this).removeClass('error');\r\n            $(this).removeClass('error_field');\r\n            $(this).removeClass('error_label');\r\n        });\r\n        $('.this_error_wrapper').hide();\r\n\r\n        $('#pathIdDiv').hide();\r\n    });\r\n\r\n    $(document).on('click','.deletePath',function()\r\n    {\r\n        var this_path = $(this);\r\n        var id = $(this).data('id');\r\n\r\n        var confirmation = confirm('Are you sure you want to delete this path?');\r\n\r\n        if(confirmation === true) {\r\n            var the_url = $('#baseUrl').html() + '/delete_path';\r\n            $.ajax({\r\n                type : 'POST',\r\n                url  : the_url,\r\n                data : {\r\n                    'id' : id\r\n                },\r\n                success : function(data) {\r\n                    var table = $('#paths-table').DataTable();\r\n                    table.row(this_path.parents('tr')).remove().draw();\r\n                }\r\n            });\r\n        }\r\n    });\r\n});"]}