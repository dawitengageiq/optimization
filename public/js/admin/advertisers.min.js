function getAvailableUsers(t,e){var a=$("#baseUrl").val()+"/get_available_users_as_advertiser";$.ajax({type:"POST",data:{id:t},url:a,success:function(t){e(t)}})}$(document).ready(function(){$(".search-select").select2({theme:"bootstrap",dropdownParent:$("#AdvFormModal")}),$("#website_url").change(function(){var t=$(this).val(),e=t.indexOf("http://")>-1,a=t.indexOf("https://")>-1;e||a||(t="http://"+t),$(this).val(t)});var t=$("#baseUrl").html()+"/advertisers";$("#advertiser-table").DataTable({processing:!0,serverSide:!0,columns:[null,null,null,{orderable:!1},null,{orderable:!1}],order:[[0,"desc"]],ajax:{url:t,type:"post",error:function(){}},lengthMenu:[[25,50,100,1e3,2e3,3e3],[25,50,100,1e3,2e3,3e3]]}),$("#addAdvBtn").click(function(){var t=$("#AdvFormModal"),e=$("#baseUrl").html()+"/admin/advertiser/store";$("#tab-with-history").hide(),t.find(".this_form").attr("action",e),t.find(".this_form").data("process","add_advertiser"),t.find(".this_form").attr("data-process","add_advertiser"),t.find(".this_form").data("confirmation",""),t.find(".this_form").attr("data-confirmation",""),t.find(".modal-title").html("Add Advertiser"),$("#adv_form input:text").val(""),$("#adv_form textarea").val(""),$("#adv_form select").prop("selectedIndex",0),$("#state").val("").trigger("change"),$("#AdvFormModal").modal("show"),getAvailableUsers(0,function(t){$("#id option").remove(),$("#id").append('<option value=""> </option>'),$.each(t,function(t,e){$("#id").append('<option value="'+t+'">'+e+"</option>")})}),$(".this_error_wrapper").hide()}),$(document).on("click",".editAdvertiser",function(){var t=$("#AdvFormModal"),e=$(this).data("id"),a=$("#baseUrl").html()+"/admin/advertiser/update/"+e;$("#tab-with-history").show(),t.find(".this_form").attr("action",a),t.find(".this_form").data("process","edit_advertiser"),t.find(".this_form").attr("data-process","edit_advertiser"),t.find(".this_form").data("confirmation","Are you sure you want to edit this attribute?"),t.find(".this_form").attr("data-confirmation",""),t.find(".modal-title").html("Edit Advertiser"),t.find("#this_id").val(e),t.find(".table-history #reference_id").val(e);var r="#adv-"+e+"-";$("#company").val($(r+"comp").html()),$("#website_url").val($(r+"web").html()),$("#phone").val($(r+"phn").html()),$("#address").val($(r+"add").html()),$(".state_zip_wrapper").show();var i=$(r+"cty").html(),o=$(r+"zip").html();$("#city").data("current_city",i),$("#state").val($(r+"ste").html()).trigger("change"),$("#zip").val(o),console.log(i),console.log(o),$("#description").val($(r+"desc").val()),$('input[name="status"][value="'+$(r+"stat").data("status")+'"]').prop("checked",!0),t.modal("show")}),$(document).on("click",".deleteAdvertiser",function(){var t=$(this),e=t.data("id"),a=$("#baseUrl").val()+"/admin/advertiser/destroy",r=!0;r=confirm("Are you sure you want to delete "+$("#adv-"+e+"-comp").html()+"?"),r===!0&&$.ajax({type:"POST",data:{id:e},url:a,success:function(){var e=$("#advertiser-table").DataTable();e.row(t.parents("tr")).remove().draw()}})}),$("#AdvFormModal").on("hide.bs.modal",function(t){var e=$(this).find(".this_form");e.find(".this_field").each(function(){"status"==$(this).attr("name")?$('input[name="status"][value="1"]').prop("checked",!0):$(this).val("")}),e.find(".error").each(function(){$(this).removeClass("error"),$(this).removeClass("error_field"),$(this).removeClass("error_label")}),$(".state_zip_wrapper").hide(),$(".this_error_wrapper").hide()}),$("#close-AddAffCol").click(function(){$("#AffFormCol").collapse("hide"),$(".this_field").val(""),$("#addAffColBtn").fadeIn("slow")}),$(document).on("change",".state_select",function(t){""!=$(this).val()?($("#city option").remove(),$("#city").append("<option value=>Processing cities for the state...</option>"),getCitiesByState($("#state option:selected").html(),function(t){$("#city option").remove(),$("#city").attr("required","true"),$("#zip").attr("required","true"),$("#city").append("<option value=></option>"),$.each(t,function(t,e){$("#city").append('<option value="'+e+'">'+e+"</option>")}),$(".state_zip_wrapper").fadeIn("slow"),$("#address").attr("rows",4);var e=$("#city").data("current_city");$("#city").val(e).trigger("change")})):($("#city").attr("required","false"),$("#zip").attr("required","false"),$(".state_zip_wrapper").fadeOut("fast"),$("#address").attr("rows",1))}),$("#AffFormModal").on("hide.bs.modal",function(t){var e=$(this).find(".this_form");e.find(".this_field").each(function(){"status"==$(this).attr("name")?$('input[name="status"][value="1"]').prop("checked",!0):$(this).val("")}),e.find(".error").each(function(){$(this).removeClass("error"),$(this).removeClass("error_field"),$(this).removeClass("error_label")}),$(".state_zip_wrapper").hide(),$(".this_error_wrapper").hide()})});
//# sourceMappingURL=advertisers.min.js.map
