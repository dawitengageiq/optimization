{"version":3,"sources":["dashboard.js"],"names":["getDashboardGraphStatistics","the_url","baseURL","$","ajax","type","url","success","data","getDashboardGraphsStatisticsChart","getTopCampaignsByLeads","date","val","displayDate","html","length","Morris","Bar","element","xkey","ykeys","labels","resize","xLabelMargin","getMostChangeCampaigns","table","body","DataTable","destroy","empty","predefined_date_range","term","affiliates","each","x","stat","console","log","ratio","parseFloat","to","toFixed","change_factor","net","row","name","indicator","append","draw","getTotalRevStatsChart","daily_total_revenue_data","daily_total_revenue","Line","parseTime","preUnits","hoverCallback","index","options","content","total","hideHover","getAffRevStatsChart","daily_affiliate_revenue_data","daily_revenue_affiliate","data_set","the_date","button","getAffSurveyersStatsChart","daily_affiliate_registrations_data","daily_affilate_registrations","document","on","e","preventDefault","this","parents","popover","ready","getNotesCategory","fn","isDataTable","nCatList","categories","cat","editBtn","id","deleteBtn","tracking","category_id","count","getCategoryNotes","removeClass","addClass","show","hide","nNotesList","loadingLink","theNoteIds","push","n","newCount","noNotesStr","note","ifNewClass","ifNew","subject","theNotes","newCountStr","offer_goes_down_table","processing","serverSide","order","searching","d","filter","error","ordering","drawCallback","settings","placement","title","lengthMenu","sDom","clear","reload","dataTable","tooltip","datepicker","format","clearBtn","autoclose","todayHighlight","endDate","click","trigger","tbody","find","jQuery","i","campaign","Number","revenue","affiliate","lead_type","lead_count","select2","placeholder","minimumInputLength","theme","language","inputTooShort","args","dataType","params","queryParameters","processResults","results","map","items","item","text","nCatBtn","nCatOrigHtml","exIcon","nCatForm","nCatAddUrl","nCatEditUrl","nNoteForm","nNoteAddUrl","nNoteEditUrl","notesQuill","getElementsByClassName","toolbarOptions","list","script","indent","direction","header","color","background","align","quill","Quill","modules","toolbar","delta","source","container","firstChild","innerHTML","attr","btn","closest","collapse","this_category","confirmation","confirm","remove","hasClass","category","updated_at","from_date","to_date","form","submit","the_data","serialize","ifPassed","return_count","modal"],"mappings":"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","file":"dashboard.min.js","sourcesContent":["var baseURL = $('#baseUrl').val();\r\n\r\nfunction getDashboardGraphStatistics()\r\n{\r\n    // the_url = baseURL+'/admin/getTotalRevenueStatistics';\r\n    var the_url = baseURL+'/get_dashboard_graphs_by_date';\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        success: function(data){\r\n            getDashboardGraphsStatisticsChart(data);\r\n        }\r\n    });\r\n}\r\n\r\nfunction getTopCampaignsByLeads()\r\n{\r\n    var date = $('#date_top_campaigns_by_leads').val();\r\n    var the_url = baseURL+'/admin/getTopCampaignsByLeads';\r\n\r\n    $.ajax({\r\n\r\n        type: 'POST',\r\n        url: the_url,\r\n        data: {\r\n            'date'  : date\r\n        },\r\n\r\n        success: function(data)\r\n        {\r\n            if(date == '') {\r\n                var displayDate = $('#dateYesterday').html();\r\n            }\r\n            else\r\n            {\r\n                var displayDate = date;\r\n            }\r\n\r\n            $('#topCampaignsByLeadsDate').html(displayDate);\r\n            $('#topCampaignsByLeadsBarChart').html('');\r\n\r\n            if(data.length != 0) {\r\n                // console.log(data);\r\n                Morris.Bar({\r\n                    element: 'topCampaignsByLeadsBarChart',\r\n                    data: data,\r\n                    xkey: 'lead',\r\n                    ykeys: [1,2],\r\n                    labels: ['Success', 'Rejected'],\r\n                    resize: true,\r\n                    // xLabelAngle: 5,\r\n                    xLabelMargin: 2\r\n                });\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\n\r\nfunction getMostChangeCampaigns() {\r\n    the_url = baseURL+'/admin/getMostChangeCampaigns';\r\n\r\n    var table = $('#top-ten-campaigns-most-changes'),\r\n        body = $('#top-ten-campaigns-most-changes tbody');\r\n    table.DataTable().destroy();\r\n    body.empty();\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        data: {\r\n            predefined_date_range: $('#predefined_date_range').val(),\r\n            term : $('#term').val(),\r\n            affiliates: $('#affiliate_ids_most_changes').val()\r\n        },\r\n        success: function(data){\r\n            $.each(data, function(x, stat){\r\n                console.log(stat)\r\n                var ratio = parseFloat(stat.to.ratio).toFixed(2),\r\n                    change_factor = parseFloat(stat.change_factor).toFixed(2),\r\n                    net = parseFloat(stat.net).toFixed(2);\r\n                var row = '<tr><td>'+stat.name+'</td><td>'+ratio+'</td><td>'+change_factor+' '+stat.indicator+'</td><td>'+net+'</td></tr>';\r\n                body.append(row);\r\n            });\r\n            table.DataTable().draw();\r\n        }\r\n    });\r\n}\r\n\r\n$(document).on('click','#update-top-ten-most-changes-report',function(e) \r\n{\r\n    e.preventDefault();\r\n    console.log('update');\r\n    getMostChangeCampaigns();\r\n});\r\n\r\n$(document).on('click','.close_me_popover',function(e) \r\n{\r\n    e.preventDefault();\r\n    console.log('CLOSE');\r\n    $(this).parents('.popover').popover('hide');\r\n});\r\n\r\n/**\r\n * Created by magbanua-ariel on 02/02/2016.\r\n */\r\n$(document).ready(function()\r\n{\r\n    var offer_goes_down_table = $('#offer-goes-down').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'order': [[ 0, \"desc\" ]],\r\n        'searching': false,\r\n        'ajax':{\r\n            url: $('#baseUrl').val()+'/dashboard/offerGoesDownStats',\r\n            type: 'post',\r\n            'data': function(d)\r\n            {\r\n                d.filter = $('#ogd_filter').val();\r\n            },\r\n            error: function(error){  // error handling\r\n                console.log(error);\r\n            }\r\n        },\r\n        'ordering': false,\r\n        'drawCallback': function(settings)\r\n        {\r\n            $('[data-toggle=\"popover\"]').popover({\r\n                placement: 'bottom',\r\n                html: 'true',\r\n                title : '<span style=\"color:#f7f7f7\"><strong>title</strong></span>'+\r\n                        '<button type=\"button\" class=\"close close_me_popover\">&times;</button>',\r\n                // content : 'test'\r\n            });\r\n        },\r\n        lengthMenu: [[20, 50,100,250],[20, 50,100,250]],\r\n        \"sDom\": 'l<\"offer-goes-down_Toolbar\">frtip'\r\n    });\r\n    $(\"div.offer-goes-down_Toolbar\").html('<label>Filter Revenue: </label><input type=\"number\" name=\"ogd_filter\" id=\"ogd_filter\" class=\"form-control\" value=\"30\">');\r\n\r\n    $(document).on('change', '#ogd_filter', function(){\r\n        console.log('Refresh');\r\n        offer_goes_down_table.clear();\r\n        offer_goes_down_table.ajax.reload();\r\n    });\r\n\r\n    $('#allInbox-table').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'order': [[ 0, \"desc\" ]],\r\n        'searching': false,\r\n        'ajax':{\r\n            url: $('#baseUrl').val()+'/dashboard/campaignRevenueBreakdown/' + $('#allInboxCampaignID').val(),\r\n            type: 'post',\r\n            error: function(error){  // error handling\r\n                console.log(error);\r\n            }\r\n        },\r\n        lengthMenu: [[20, 50,100,250],[20, 50,100,250]]\r\n    });\r\n\r\n    $('#pushPros-table').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'order': [[ 0, \"desc\" ]],\r\n        'searching': false,\r\n        'ajax':{\r\n            url: $('#baseUrl').val()+'/dashboard/campaignRevenueBreakdown/' + $('#pushProCampaignID').val(),\r\n            type: 'post',\r\n            error: function(error){  // error handling\r\n                console.log(error);\r\n            }\r\n        },\r\n        lengthMenu: [[20, 50,100,250],[20, 50,100,250]]\r\n    });\r\n\r\n    $('#path6-table').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'order': [[ 0, \"desc\" ]],\r\n        'searching': false,\r\n        'ajax':{\r\n            url: $('#baseUrl').val()+'/dashboard/pathSpeed/path6',\r\n            type: 'post',\r\n            error: function(error){  // error handling\r\n                console.log(error);\r\n            }\r\n        },\r\n        lengthMenu: [[20, 50,100,250],[20, 50,100,250]]\r\n    });\r\n\r\n    $('#path18-table').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'order': [[ 0, \"desc\" ]],\r\n        'searching': false,\r\n        'ajax':{\r\n            url: $('#baseUrl').val()+'/dashboard/pathSpeed/path18',\r\n            type: 'post',\r\n            error: function(error){  // error handling\r\n                console.log(error);\r\n            }\r\n        },\r\n        lengthMenu: [[20, 50,100,250],[20, 50,100,250]]\r\n    });\r\n\r\n    $('#path19-table').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'order': [[ 0, \"desc\" ]],\r\n        'searching': false,\r\n        'ajax':{\r\n            url: $('#baseUrl').val()+'/dashboard/pathSpeed/path19',\r\n            type: 'post',\r\n            error: function(error){  // error handling\r\n                console.log(error);\r\n            }\r\n        },\r\n        lengthMenu: [[20, 50,100,250],[20, 50,100,250]]\r\n    });\r\n\r\n    $('#path17-table').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'order': [[ 0, \"desc\" ]],\r\n        'searching': false,\r\n        'ajax':{\r\n            url: $('#baseUrl').val()+'/dashboard/pathSpeed/path17',\r\n            type: 'post',\r\n            error: function(error){  // error handling\r\n                console.log(error);\r\n            }\r\n        },\r\n        lengthMenu: [[20, 50,100,250],[20, 50,100,250]]\r\n    });\r\n\r\n    $('#top-ten-campaigns-most-changes').dataTable();\r\n    getMostChangeCampaigns();\r\n\r\n    $('.active_tooltip[data-toggle=\"tooltip\"]').tooltip();\r\n\r\n    $('.input-group.date').datepicker({\r\n        format: \"yyyy-mm-dd\",\r\n        clearBtn: true,\r\n        autoclose: true,\r\n        todayHighlight: true,\r\n        endDate: '-0d'\r\n    });\r\n\r\n    $('#getStatisticsByDateModal').on('hidden.bs.modal', function () {\r\n        console.log('Close');\r\n        $('#from_date').val('');\r\n        $('#to_date').val('');\r\n    });\r\n\r\n    // var baseURL = $('#baseUrl').val();\r\n\r\n    $('#getTopCampaignsByDateSubmit').click(function() {\r\n        getTopCampaignsByLeads();\r\n    });\r\n\r\n    $('.refreshGraphs').click(function() {\r\n        console.log('Refresh');\r\n        $('#from_date').val('');\r\n        $('#to_date').val('');\r\n        // getDashboardGraphStatistics();\r\n        $('#getStatisticsByDateForm').trigger('submit');\r\n    });\r\n\r\n    // getDashboardGraphStatistics();\r\n    getTopCampaignsByLeads();\r\n\r\n    // var the_url = baseURL+'/admin/activeCampaigns';\r\n    // $.ajax({\r\n    //     type: 'POST',\r\n    //     url: the_url,\r\n    //     success: function(data){\r\n    //         var tbody = $('#dashboard-campaigns tbody');\r\n    //\r\n    //         //loop through all top 10 campaigns\r\n    //         jQuery.each(data, function(i, val) {\r\n    //             var row = '<tr>'+'<td>'+val.id+'</td>'+'<td>'+val.name+'</td>'+'<td>'+val.cap_type+'</td>'+'<td>'+val.cap_value+'</td>'+'</tr>';\r\n    //             tbody.append(row);\r\n    //         });\r\n    //     }\r\n    // });\r\n\r\n    the_url = baseURL+'/admin/topTenCampaignsByRevenueYesterday';\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        success: function(data){\r\n            var tbody = $('#top-ten-revenue-yesterday-campaign tbody');\r\n            \r\n            if(data.length == 0) {\r\n                tbody.find('em').html('No data found.');\r\n            }else {\r\n                tbody.empty();\r\n                jQuery.each(data, function(i, val) {\r\n                    // console.log(val)\r\n                    var row = '<tr>'+'<td>'+val.campaign+'</td><td>'+Number(val.revenue).toFixed(2)+'</td></tr>';\r\n                    tbody.append(row);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    the_url = baseURL+'/admin/topTenCampaignsByRevenueForCurrentWeek';\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        success: function(data){\r\n\r\n            var tbody = $('#top-ten-revenue-week-campaign tbody');\r\n            if(data.length == 0) {\r\n                tbody.find('em').html('No data found.');\r\n            }else {\r\n                tbody.empty();\r\n                //loop through all top 10 campaigns\r\n                jQuery.each(data, function(i, val) {\r\n                    // console.log(val)\r\n                    var row = '<tr>'+'<td>'+val.campaign+'</td><td>'+Number(val.revenue).toFixed(2)+'</td></tr>';\r\n                    tbody.append(row);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    the_url = baseURL+'/admin/topTenCampaignsByRevenueForCurrentMonth';\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        success: function(data){\r\n            var tbody = $('#top-ten-revenue-month-campaign tbody');\r\n            if(data.length == 0) {\r\n                tbody.find('em').html('No data found.');\r\n            }else {\r\n                tbody.empty();\r\n                //loop through all top 10 campaigns\r\n                jQuery.each(data, function(i, val) {\r\n                    // console.log(val)\r\n                    var row = '<tr>'+'<td>'+val.campaign+'</td><td>'+Number(val.revenue).toFixed(2)+'</td></tr>';\r\n                    tbody.append(row);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    the_url = baseURL+'/admin/topTenAffiliatesByRevenueYesterday';\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        success: function(data){\r\n            var tbody = $('#top-ten-revenue-yesterday-affiliate tbody');\r\n\r\n            if(data.length == 0) {\r\n                tbody.find('em').html('No data found.');\r\n            }else {\r\n                tbody.empty();\r\n                //loop through all top 10 campaigns\r\n                jQuery.each(data, function(i, val) {\r\n                    // console.log(val)\r\n                    var row = '<tr>'+'<td>'+val.affiliate+'<td><td>'+Number(val.revenue).toFixed(2)+'</td></tr>';\r\n                    tbody.append(row);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    the_url = baseURL+'/admin/topTenAffiliatesByRevenueForCurrentWeek';\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        success: function(data){\r\n\r\n            var tbody = $('#top-ten-revenue-week-affiliate tbody');\r\n            if(data.length == 0) {\r\n                tbody.find('em').html('No data found.');\r\n            }else {\r\n                tbody.empty();\r\n                //loop through all top 10 campaigns\r\n                jQuery.each(data, function(i, val) {\r\n                    // console.log(val)\r\n                    var row = '<tr>'+'<td>'+val.affiliate+'<td><td>'+Number(val.revenue).toFixed(2)+'</td></tr>';\r\n                    tbody.append(row);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    the_url = baseURL+'/admin/topTenAffiliatesByRevenueForCurrentMonth';\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        success: function(data){\r\n\r\n            var tbody = $('#top-ten-revenue-month-affiliate tbody');\r\n\r\n            if(data.length == 0) {\r\n                tbody.find('em').html('No data found.');\r\n            }else {\r\n                tbody.empty();\r\n                //loop through all top 10 campaigns\r\n                jQuery.each(data, function(i, val) {\r\n                    // console.log(val)\r\n                    var row = '<tr>'+'<td>'+val.affiliate+'<td><td>'+Number(val.revenue).toFixed(2)+'</td></tr>';\r\n                    tbody.append(row);\r\n                });\r\n            }\r\n        }\r\n    });\r\n\r\n    the_url = baseURL+'/admin/leadCounts';\r\n    $.ajax({\r\n        type: 'POST',\r\n        url: the_url,\r\n        success: function(data){\r\n\r\n            //loop through all top 10 campaigns\r\n            jQuery.each(data, function(i, val) {\r\n                // console.log(val)\r\n                $(val.lead_type).html(val.lead_count);\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n    // $('#getStatisticsByDateForm').trigger('submit');\r\n\r\n    $('#affiliate_ids_most_changes').select2({\r\n        //tags: true,\r\n        placeholder: 'Select the id or name of the affiliate.',\r\n        minimumInputLength: 1,\r\n        theme: 'bootstrap',\r\n        language: {\r\n            inputTooShort: function(args) {\r\n                return \"Please enter the id or name of the affiliate. (Enter 1 or more characters)\";\r\n            }\r\n        },\r\n        ajax: {\r\n            url: $('#baseUrl').html()+'/search/select/activeAffiliatesIDName',\r\n            dataType: \"json\",\r\n            type: \"POST\",\r\n            'data': function (params) {\r\n\r\n                var queryParameters = {\r\n                    term: params.term\r\n                };\r\n\r\n                return queryParameters;\r\n            },\r\n            processResults: function (data) {\r\n                // console.log(data);\r\n                return {\r\n                    results: $.map(data.items, function (item) {\r\n                        return {\r\n                            text: item.name,\r\n                            id: item.id\r\n                        }\r\n                    })\r\n                };\r\n            }\r\n        }\r\n    });\r\n\r\n    // //top-ten-campaigns-most-changes\r\n    // var topTenCampaignsMostChangesDataTable = $('#top-ten-campaigns-most-changes').DataTable({\r\n    //     'processing': true,\r\n    //     'serverSide': true,\r\n    //     'searching': false,\r\n    //     'order': [[ 0, \"asc\" ]], //disable the initial ordering\r\n    //     'ajax': {\r\n    //         url: $('#baseUrl').html()+'/admin/campaignRevenueViewChangeServerSide',\r\n    //         type: 'POST',  // method  , by default get\r\n    //         'data': function(d)\r\n    //         {\r\n    //             d.predefined_date_range = $('#predefined_date_range').val();\r\n    //             d.term = $('#term').val();\r\n    //             d.affiliate_ids_most_changes = $('#affiliate_ids_most_changes').val();\r\n    //         },\r\n    //         error: function(error)\r\n    //         {\r\n    //             // error handling\r\n    //             console.log(error);\r\n    //         }\r\n    //     },\r\n    //     'columns':[\r\n    //         {\r\n    //             'data': 'campaign',\r\n    //             'width': '60%'\r\n    //         },\r\n    //         {'data': 'revenue_view'},\r\n    //         {'data': 'change'},\r\n    //         {'data': 'net_percentage'}\r\n    //     ],\r\n    // });\r\n\r\n    // $('#update-top-ten-most-changes-report').click(function()\r\n    // {\r\n    //     console.log('Update Report Click');\r\n    //     topTenCampaignsMostChangesDataTable.ajax.reload();\r\n    // });\r\n\r\n    /* NOTES */\r\n    var nCatBtn = $('button[data-target=\"#noteCategoryCollapse\"]'),\r\n        nCatOrigHtml = nCatBtn.html(),\r\n        exIcon = '<span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span>'\r\n        nCatForm = $('#notes_category_form'),\r\n        nCatAddUrl = $('#baseUrl').html() + '/add_notes_category',\r\n        nCatEditUrl = $('#baseUrl').html() + '/edit_notes_category',\r\n        nCatList = $('#notesCategoryList'),\r\n        nNotesList = $('#notesList'),\r\n        theNotes = [],\r\n        theNoteIds = [],\r\n        loadingLink = '<a href=\"#\" class=\"list-group-item text-center\"><small><em>Loading...</em></small></a>',\r\n        nNoteForm = $('#notes_form'),\r\n        nNoteAddUrl = $('#baseUrl').html() + '/add_note',\r\n        nNoteEditUrl = $('#baseUrl').html() + '/edit_note',\r\n        notesQuill = document.getElementsByClassName('ql-editor'),\r\n        noNotesStr = '<a href=\"#\" class=\"list-group-item text-center isEmpty\"><small><em>No Notes Found...</em></small></a>';\r\n    \r\n    getNotesCategory();\r\n\r\n    // noteTracking();\r\n\r\n    var toolbarOptions = [\r\n      ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\r\n      ['blockquote'],\r\n\r\n      // [{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n      [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n      [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\r\n      [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\r\n      [{ 'direction': 'rtl' }],                         // text direction\r\n\r\n      // [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\r\n      [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n\r\n      [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\r\n      // [{ 'font': [] }],\r\n      [{ 'align': [] }],\r\n\r\n      ['clean']                                         // remove formatting button\r\n    ];\r\n\r\n    var quill = new Quill('#noteEditorQuill', {\r\n        modules: {\r\n        toolbar: toolbarOptions\r\n      },\r\n      theme: 'snow'\r\n    });\r\n\r\n    quill.on('text-change', function(delta, source) {\r\n      nNoteForm.find('[name=\"content\"]').html(quill.container.firstChild.innerHTML)\r\n    });\r\n\r\n    $('#noteCategoryCollapse').on('hidden.bs.collapse', function () {\r\n        nCatBtn.html(nCatOrigHtml);\r\n        $(nCatForm).attr('action', nCatAddUrl);\r\n        $(nCatForm).attr('data-process', 'add_notes_category').data('process', 'add_notes_category');\r\n        $(nCatForm).find('[name=\"name\"]').val('');\r\n        $(nCatForm).find('[name=\"id\"]').val('');\r\n    });\r\n\r\n    $('#noteCategoryCollapse').on('show.bs.collapse', function () {\r\n        nCatBtn.html(exIcon);\r\n        $(nCatForm).find('.error').removeClass('error error_label error_field')\r\n    });\r\n\r\n    function noteTracking() {\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: baseURL+'/notes_tracking',\r\n            success: function(data){\r\n                // console.log(data);\r\n                $('#notesCategoryList > a span').html('');\r\n                $.each(data, function(x, tracking){\r\n                    $('#notesCategoryList > a[data-id=\"'+tracking.category_id+'\"] span').html(tracking.count);\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    function getNotesCategory() {\r\n        // $('#notes_category-table').dataTable();\r\n        if ( ! $.fn.DataTable.isDataTable( '#notes_category-table' ) ) {\r\n            the_url = baseURL+'/notes_category';\r\n\r\n            var table = $('#notes_category-table'),\r\n                body = $('#notes_category-table tbody');\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: the_url,\r\n                success: function(data){\r\n                    body.empty();\r\n                    nCatList.empty();\r\n                    $.each(data.categories, function(x, cat){\r\n                        var editBtn = '<button data-id=\"'+cat.id+'\" class=\"editNoteCategoryBtn btn btn-primary btn-xs\" type=\"button\" style=\"margin-right:5px\"><span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span></button>';\r\n                        var deleteBtn = '<button data-id=\"'+cat.id+'\" class=\"deleteNoteCategoryBtn btn btn-danger btn-xs\" type=\"button\"><span class=\"glyphicon glyphicon-trash\" aria-hidden=\"true\"></span></button>';\r\n                        var row = '<tr><td>'+cat.id+'</td><td>'+cat.name+'</td><td>'+editBtn+deleteBtn+'</td></tr>';\r\n                        body.append(row);\r\n                        \r\n                        nCatList.append('<a href=\"#\" data-id=\"'+cat.id+'\" class=\"list-group-item\">'+cat.name+' <span class=\"badge\"></span></a>');\r\n                    });\r\n\r\n                    table.DataTable().draw();\r\n\r\n                    $('#notesCategoryList > a span').html('');\r\n                    $.each(data.tracking, function(x, tracking){\r\n                        $('#notesCategoryList > a[data-id=\"'+tracking.category_id+'\"] span').html(tracking.count);\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function getCategoryNotes(id) {\r\n        $('#notesCategoryList a').removeClass('active');\r\n        $('#notesCategoryList a[data-id=\"'+id+'\"]').addClass('active');\r\n\r\n        $('.nCat-notes-div').show();\r\n        $('.nCat-note-div').hide();\r\n        nNotesList.html(loadingLink);\r\n\r\n        // console.log(id);\r\n\r\n        $.ajax({\r\n            type: 'POST',\r\n            url: baseURL+'/get_notes_by_category/' + id,\r\n            success: function(data){\r\n                // console.log(data);\r\n                theNoteIds.push(id);\r\n                // theNotes[id] = data;\r\n                nNotesList.empty();\r\n                var n = [];\r\n                var newCount = 0\r\n                if(data.length == 0) {\r\n                    nNotesList.append(noNotesStr);\r\n                }else {\r\n                    \r\n                    $.each(data, function(x, note){\r\n                        n[note.id] = note;\r\n                        var ifNewClass = note.ifNew === null ? 'new_note' : '';\r\n                        if(note.ifNew === null) newCount++;\r\n                        // console.log(note.ifNew);\r\n                        // console.log(ifNewClass)\r\n                        nNotesList.append('<a href=\"#\" data-id=\"'+note.id+'\" data-cat=\"'+id+'\" class=\"list-group-item '+ifNewClass+'\">'+note.subject+'</a>');\r\n                    });\r\n                }\r\n\r\n                theNotes[id] = n;\r\n\r\n                var newCountStr = newCount == 0 ? '' : newCount;\r\n                $('#notesCategoryList > a[data-id=\"'+id+'\"] span').html(newCountStr);\r\n\r\n                // console.log(theNoteIds);\r\n                // console.log(theNotes);\r\n            }\r\n        });\r\n    }\r\n\r\n    $(document).on('click','.editNoteCategoryBtn',function() \r\n    {\r\n        var id = $(this).data('id'),\r\n            btn = $(this),\r\n            row = btn.closest('tr'),\r\n            name = $(this).closest('tr').find('td:nth-child(2)').html();\r\n            // console.log(name)\r\n        $(nCatForm).attr('action', nCatEditUrl);\r\n        $(nCatForm).attr('data-process', 'edit_notes_category').data('process', 'edit_notes_category');\r\n        $(nCatForm).find('[name=\"id\"]').val(id);\r\n        $(nCatForm).find('[name=\"name\"]').val(name);\r\n        $('#noteCategoryCollapse').collapse('show');\r\n\r\n    });\r\n\r\n    $(document).on('click','.deleteNoteCategoryBtn',function()\r\n    {\r\n        var this_category = $(this);\r\n        var id = $(this).data('id');\r\n\r\n        var confirmation = confirm('Are you sure you want to delete this category?');\r\n\r\n        if(confirmation === true) {\r\n            var the_url = $('#baseUrl').html() + '/delete_notes_category';\r\n            $.ajax({\r\n                type : 'POST',\r\n                url  : the_url,\r\n                data : {\r\n                    'id' : id\r\n                },\r\n                success : function(data) {\r\n                    var table = $('#notes_category-table').DataTable();\r\n                    table.row(this_category.parents('tr')).remove().draw();\r\n\r\n                    $('#notesCategoryList a[data-id=\"'+id+'\"]').remove()\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    $(document).on('click','#notesCategoryList > a',function(e) \r\n    {\r\n        e.preventDefault();\r\n\r\n        var id = $(this).data('id');\r\n\r\n        if(typeof id == 'undefined') return;\r\n        if($(this).hasClass('active')) return;\r\n\r\n        getCategoryNotes(id);\r\n\r\n        // if(theNoteIds.includes(id) && false) {\r\n        //     //Exists\r\n        //     console.log('Exists');\r\n        //     console.log(theNoteIds);\r\n        //     console.log(theNotes);\r\n\r\n        //     nNotesList.empty();\r\n        //     var notes = theNotes[id];\r\n        //     console.log(notes);\r\n        //     if(notes.length == 0) {\r\n        //         nNotesList.append('<a href=\"#\" class=\"list-group-item text-center isEmpty\"><small><em>No Notes Found...</em></small></a>');\r\n        //     }else {\r\n        //         $.each(notes, function(x, note){\r\n        //             console.log(x);\r\n        //             console.log(note);\r\n        //             nNotesList.append('<a href=\"#\" data-id=\"'+note.id+'\" class=\"list-group-item\">'+note.subject+'</a>');\r\n        //         });\r\n        //     }\r\n                \r\n\r\n        // }else {\r\n        //     console.log('Get');\r\n            \r\n        // }\r\n\r\n            \r\n\r\n    });\r\n\r\n    //Edit Note\r\n    $(document).on('click','#notesList > a',function(e) \r\n    {\r\n        e.preventDefault();\r\n\r\n        var id = $(this).data('id'),\r\n            category = $(this).data('cat');\r\n\r\n        if(typeof id == 'undefined') return;\r\n        if($(this).hasClass('active')) return;\r\n\r\n        $('#notesList a').removeClass('active');\r\n        $(this).addClass('active');\r\n\r\n        $('.nCat-note-div').show();\r\n\r\n        $(nNoteForm).attr('action', nNoteEditUrl);\r\n        $(nNoteForm).attr('data-process', 'edit_note').data('process', 'edit_note');\r\n\r\n        var note = theNotes[category][id];\r\n        notesQuill[0].innerHTML = note.content\r\n\r\n        nNoteForm.find('[name=\"subject\"]').val(note.subject)\r\n        nNoteForm.find('[name=\"category_id\"]').val(note.category_id)\r\n        nNoteForm.find('[name=\"id\"]').val(note.id)\r\n\r\n        if($(this).hasClass('new_note')) {\r\n            $(this).removeClass('new_note')\r\n            theNotes[category][id]['ifNew'] = 1;\r\n\r\n            var newCount = Number($('#notesCategoryList a[data-id=\"'+category+'\"] span').html());\r\n                newCountStr = (newCount - 1) == 0 ? ''  : newCount - 1;\r\n            $('#notesCategoryList a[data-id=\"'+category+'\"] span').html(newCountStr);\r\n\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: baseURL+'/notes/'+id+'/viewed',\r\n            });\r\n        }\r\n\r\n        $('.noteInfo').show();\r\n        nNoteForm.find('#updated_at').html(note.updated_at);\r\n    });\r\n\r\n\r\n    //Add Note\r\n    $(document).on('click','#addNoteBtn',function(e) \r\n    {\r\n        e.preventDefault();\r\n\r\n        var category = $('#notesCategoryList a.active').data('id');\r\n\r\n        $('#notesList a').removeClass('active');\r\n\r\n        $(nNoteForm).attr('action', nNoteAddUrl);\r\n        $(nNoteForm).attr('data-process', 'add_note').data('process', 'add_note');\r\n\r\n        nNoteForm.find('[name=\"subject\"]').val('')\r\n        nNoteForm.find('[name=\"category_id\"]').val(category)\r\n        nNoteForm.find('[name=\"id\"]').val('')\r\n        notesQuill[0].innerHTML = ''\r\n\r\n        $('.nCat-note-div').show();\r\n        $('.noteInfo').hide();\r\n    });\r\n\r\n    $(document).on('click','#deleteNote',function(e) \r\n    {\r\n        e.preventDefault();\r\n\r\n        var category = $('#notesCategoryList a.active').data('id')\r\n        var id = $('#notesList a.active').data('id')\r\n\r\n        var confirmation = confirm('Are you sure you want to delete this note?');\r\n\r\n        if(confirmation === true) {\r\n            var the_url = $('#baseUrl').html() + '/delete_note';\r\n            $.ajax({\r\n                type : 'POST',\r\n                url  : the_url,\r\n                data : {\r\n                    'id' : id\r\n                },\r\n                success : function(data) {\r\n                    getCategoryNotes(category);\r\n                    // if($('#notesList a[data-id=\"'+id+'\"]').hasClass('new_note')) {\r\n                    //     theNotes[category][id]['ifNew'] = 1;\r\n\r\n                    //     var newCount = Number($('#notesCategoryList a[data-id=\"'+category+'\"] span').html());\r\n                    //         newCountStr = (newCount - 1) == 0 ? ''  : newCount - 1;\r\n                    //     $('#notesCategoryList a[data-id=\"'+category+'\"] span').html(newCountStr);\r\n                    // }\r\n                    // $('#notesList a[data-id=\"'+id+'\"]').remove();\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    \r\n\r\n});\r\n\r\n$(document).on('click','.downloadAffiliateRevenueReport',function() \r\n{\r\n    console.log('REVENUE');\r\n    $('#report_type').val('revenue');\r\n    var from_date, to_date;\r\n    if(typeof $(this).data('date') == 'undefined') {\r\n        if($('#currentFromDate').html() == '') {\r\n            from_date = $('#date7DaysAgo').html();\r\n        }else from_date = $('#currentFromDate').html();\r\n        if($('#currentToDate').html() == '') {\r\n            to_date = $('#dateYesterday').html();\r\n        }else to_date = $('#currentToDate').html();\r\n    }else {\r\n        from_date = $(this).data('date');\r\n        to_date = $(this).data('date');\r\n    }\r\n    $('#report_from_date').val(from_date);\r\n    $('#report_to_date').val(to_date);\r\n\r\n    // console.log(from_date);\r\n    // console.log(to_date);\r\n    form = $('#downloadReportForm');\r\n    form.submit();\r\n\r\n});\r\n\r\n$(document).on('click','.downloadAffiliateRegistrationsReport',function() \r\n{\r\n    console.log('REGISTRATIONS');\r\n    $('#report_type').val('registration');\r\n    var from_date, to_date;\r\n    if(typeof $(this).data('date') == 'undefined') {\r\n        from_date = $('#currentFromDate').html();\r\n        to_date = $('#currentToDate').html();\r\n    }else {\r\n        from_date = $(this).data('date');\r\n        to_date = $(this).data('date');\r\n    }\r\n    $('#report_from_date').val(from_date);\r\n    $('#report_to_date').val(to_date);\r\n\r\n    form = $('#downloadReportForm');\r\n    form.submit();\r\n});\r\n\r\nfunction getTotalRevStatsChart(data) {\r\n    console.log(data);\r\n    var daily_total_revenue_data = data.daily_total_revenue;\r\n    /* DAILY TOTAL REVENUE */\r\n    $('#totalRevenueStatisticsChart').html('');\r\n    var revenue_chart =  Morris.Line({\r\n      // ID of the element in which to draw the chart.\r\n      element: 'totalRevenueStatisticsChart',\r\n      // Chart data records -- each entry in this array corresponds to a point on\r\n      // the chart.\r\n      data: daily_total_revenue_data,\r\n      // The name of the data record attribute that contains x-values.\r\n      xkey: 'date',\r\n      // A list of names of data record attributes that contain y-values.\r\n      ykeys: ['received'],\r\n      // Labels for the ykeys -- will be displayed when you hover over the\r\n      // chart.\r\n      labels: ['Received'],\r\n      parseTime:false,\r\n      preUnits: '$',\r\n      hoverCallback: function(index, options, content) {\r\n        // console.log(index);\r\n        return(content + ' Total Success Leads: ' + daily_total_revenue_data[index].total);\r\n        },\r\n      resize: true,\r\n      hideHover: true\r\n    });\r\n}\r\n\r\nfunction getAffRevStatsChart(data) {\r\n    console.log(data);\r\n    var daily_affiliate_revenue_data = data.daily_revenue_affiliate;\r\n\r\n    /* DAILY AFFILIATE REVENUE */\r\n    $('#receivedStatisticsByAffiliateChart').html('');\r\n    var revenue_chart =  Morris.Line({\r\n      // ID of the element in which to draw the chart.\r\n      element: 'receivedStatisticsByAffiliateChart',\r\n      // Chart data records -- each entry in this array corresponds to a point on\r\n      // the chart.\r\n      data: daily_affiliate_revenue_data.data,\r\n      // The name of the data record attribute that contains x-values.\r\n      xkey: 'date',\r\n      // A list of names of data record attributes that contain y-values.\r\n      ykeys: daily_affiliate_revenue_data.ykeys,\r\n      // Labels for the ykeys -- will be displayed when you hover over the\r\n      // lineColors: daily_affiliate_revenue_data.colors,\r\n      // chart.\r\n      labels: daily_affiliate_revenue_data.labels,\r\n      parseTime:false,\r\n      resize: true,\r\n      preUnits: '$',\r\n      hideHover: true,\r\n      hoverCallback: function(index, options, content) {\r\n        var data_set = daily_affiliate_revenue_data.data[index];\r\n        var the_date = '<div class=\"morris-hover-row-label\">'+data_set['date']+'</div>';\r\n        var total = '<div class=\"morris-hover-point\" style=\"color: #0b62a4\">Total: $'+data_set['total_revenue']+'</div>';\r\n        var button = '<button data-date=\"'+data_set['created_at']+'\" class=\"downloadAffiliateRevenueReport btn btn-primary btn-xs\"><i class=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i></button>'\r\n        return(the_date + total + button);\r\n      }\r\n    });\r\n}\r\n\r\nfunction getAffSurveyersStatsChart(data) {\r\n    console.log(data);\r\n\r\n    var daily_affiliate_registrations_data = data.daily_affilate_registrations;\r\n\r\n    /* DAILY TOTAL AFFILIATE REGISTRATIONS */\r\n    $('#totalSurveyTakersPerAffiliateChart').html('');\r\n        var revenue_chart =  Morris.Line({\r\n        // ID of the element in which to draw the chart.\r\n        element: 'totalSurveyTakersPerAffiliateChart',\r\n        // Chart data records -- each entry in this array corresponds to a point on\r\n        // the chart.\r\n        data: daily_affiliate_registrations_data.data,\r\n        // The name of the data record attribute that contains x-values.\r\n        xkey: 'date',\r\n        // A list of names of data record attributes that contain y-values.\r\n        ykeys: daily_affiliate_registrations_data.ykeys,\r\n        // Labels for the ykeys -- will be displayed when you hover over the\r\n        // chart.\r\n        labels: daily_affiliate_registrations_data.labels,\r\n        parseTime:false,\r\n        hoverCallback: function(index, options, content) {\r\n            var data_set = daily_affiliate_registrations_data.data[index];\r\n            var the_date = '<div class=\"morris-hover-row-label\">'+data_set['date']+'</div>';\r\n            var total = '<div class=\"morris-hover-point\" style=\"color: #0b62a4\">Total: '+data_set['total_registrations']+'</div>';\r\n            var button = '<button data-date=\"'+data_set['created_at']+'\" class=\"downloadAffiliateRegistrationsReport btn btn-primary btn-xs\"><i class=\"fa fa-file-excel-o\" aria-hidden=\"true\"></i></button>'\r\n            return(the_date + total + button);\r\n          // $('#totalSurveyTakersPerAffiliateChart-info').html(content);\r\n          // return(content);\r\n        },\r\n        resize: true,\r\n        hideHover: true\r\n    });\r\n}\r\n\r\n$(document).on('submit','#getStatisticsByDateForm',function(e) \r\n{\r\n    e.preventDefault();\r\n    console.log('SUBMIT');\r\n\r\n    var from_date = $('#from_date').val(),\r\n        to_date = $('#to_date').val(),\r\n        form = $('#getStatisticsByDateForm'),\r\n        the_data = form.serialize(),\r\n        ifPassed = true;\r\n\r\n    var return_count = 0; \r\n\r\n    $('#from_date').removeClass('error_field error');\r\n    $('#to_date').removeClass('error_field error');\r\n\r\n    if(from_date != '' || to_date != '') {\r\n        if(to_date < from_date) {\r\n            ifPassed = false;\r\n            $('#from_date').addClass('error_field error');\r\n            $('#to_date').addClass('error_field error');\r\n        }\r\n    }\r\n\r\n    $('#currentFromDate').html(from_date);\r\n    $('#currentToDate').html(to_date);\r\n\r\n    if(ifPassed) {\r\n        var the_url = baseURL+'/dashboard_rev_stats';\r\n        $.ajax({\r\n            type: 'POST',\r\n            data: the_data,\r\n            url: the_url,\r\n            success: function(data)\r\n            {\r\n                return_count++\r\n                console.log(return_count);\r\n                getTotalRevStatsChart(data);\r\n                if(return_count >= 3) $('#getStatisticsByDateModal').modal('hide');\r\n            }\r\n        });\r\n\r\n        var the_url = baseURL+'/dashboard_affiliate_rev_stats';\r\n        $.ajax({\r\n            type: 'POST',\r\n            data: the_data,\r\n            url: the_url,\r\n            success: function(data)\r\n            {\r\n                return_count++;\r\n                console.log(return_count);\r\n                getAffRevStatsChart(data);\r\n                if(return_count >= 3) $('#getStatisticsByDateModal').modal('hide');\r\n            }\r\n        });\r\n\r\n        var the_url = baseURL+'/dashboard_survey_takers';\r\n        $.ajax({\r\n            type: 'POST',\r\n            data: the_data,\r\n            url: the_url,\r\n            success: function(data)\r\n            {\r\n                return_count++;\r\n                console.log(return_count);\r\n                getAffSurveyersStatsChart(data);\r\n                if(return_count >= 3) $('#getStatisticsByDateModal').modal('hide');\r\n            }\r\n        });\r\n\r\n    }\r\n});\r\n"]}