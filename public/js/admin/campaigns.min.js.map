{"version":3,"sources":["campaigns.js"],"names":["inactiveAdvertisers","inactiveCategories","eiqFrameID","$","val","currentCampaign","campaignContentsExt","document","ready","containsObject","obj","list","i","length","value","addConfigField","field","count","ifFixed","fixed_selected","fixed_displayed","addFormField","index","field_table","form_builder_fields","type","name","indexOf","html","standard","remove","sort","sortable","prev_val","replace","substr","field_value","def_val","def_val_indx","options","values","displays","def_val_prev","undefined","fieldCounter","each","oVal","opt_val","opt_val_prev","name_display","label","field_content","append","addFieldRow","display","isDefault","isAccepted","table","ifDefault","ifAccepted","tr_id","row","checkValidCamAffMgmt","submitBtn","aff","checkAll","prop","allCamp","camp","cap_type","cap_val","Math","floor","Number","op","errorNum","show","hide","addJsonFieldRow","image_url","addJsonFormField","json_form_builder_fields","convertLinkOutLink","the_url","isValidUrl","url","URL","origin","searchParams","URLSearchParams","search","forEach","key","addLinkOutParamRow","_","tooltip","on","this","closest","fadeOut","select2","theme","dropdownParent","dataCampaignsURL","campaignsTable","advertiserID","data","affiliateID","extraData","awesome_advertiser_id","awesome_affiliate_id","showInactive","campaign_datatable","DataTable","processing","serverSide","columns","orderable","order","ajax","d","json_content_filter","show_inactive","error","console","log","lengthMenu","sDom","toolBarHtml","click","e","preventDefault","reload","hasClass","removeClass","addClass","lead_cap_select","popover","datetimepicker","format","change","img_wrap","find","attr","this_input","img_type","imgPreview","select","leadCapVal_div","leadCapType_div","removeAttr","linkoutOfferID_div","olrProgId_div","this_modal","modal","stackCodeMirror","CodeMirror","fromTextArea","getElementById","lineNumbers","matchBrackets","mode","indentUnit","indentWithTabs","readOnly","campaign_payout_history_table","autoWidth","searching","bSort","deferLoading","campaign","dataSrc","json","editCampaignButton","this_button","id","this_cmp","advertiserSelect","success","active","advertiserExists","advertiser_id","text","trigger","inactiveAdvertiser","push","allowEdit","campaign_type","categoryID","categorySelect","categoryStatusURL","categoryExists","category_id","inactiveCategory","filter_table","rows","draw","filter_group_table","affiliate_table","payout_table","filter_group_list","filter_group_select","counter","filter_groups_data","filter_groups","filter_group","fg_id","fg_name","fg_desc","description","fg_stat","status","fg_stat_name","nameCol","descCol","statCol","actionCol","dataRow","add","node","affiliate_data","affiliates","isEIQIframe","affiliate","idCol","leadTypeCol","leadValCol","affStatIcon","affStatBtn","rowNode","payout_data","payouts","aff_select","affiliate_count","payout","aff_name","receiveCol","payoutCol","config_data","config","post_url","post_header","post_data","post_data_fixed_value","post_data_map","post_method","post_success","ping_url","ping_success","ftp_sent","ftp_sent_display","ftp_protocol","bootstrapToggle","ftp_username","ftp_password","ftp_host","ftp_port","ftp_timeout","ftp_directory","email_sent","email_to","email_title","email_body","content_data","content","long_content","stack","stack_content","getDoc","setValue","high_paying","high_paying_content","stack_lock","posting_instruction","sample_code","jqXHR","errorThrown","setTimeout","window","location","href","event","form","campaign_available_affiliates","collapse","campaign_payout_available_affiliates","refresh","n","is","bind","this_campaign","confirmation","confirm","parents","priority","cell","parent","selectedAffiliates","checkIfSelectAll","checkedAffiliates","edit_info","substring","first_id","first_type","first_value","ifConf","dCounter","leadType_select","this_affiliate","serialize","css","this_filter","text01","select01","input01","date01","array01","time01","input02","date02","time02","wrapper02","label01","label02","value_type","value01","value02","form_button","parseInt","focus","receivable","payable","post_data_fixed","campaign_id","posting_url","post_data_counter","includes","post_data_fixed_json","jQuery","parseJSON","post_data_fixed_counter","fieldData","before","post_data_json","our","adv","prepend","hash","getUrl","hashes","split","vars","fieldName","after","alert","forField","field_selected","map","el","this_value","setOption","newForm","action","target","method","submit","win","open","sorted_campaigns","update","ui","item","campaigns","current_sort","campaign_priority","empty","new_sort","filter_group_id","cfg","this_filter_group","button","tr","more_info","child","isShown","filters","table_id","table_info","filter_group_set","filter","filter_value01","filter_value02","filter_id","filter_value_type","filter_name","valueCol","value_value","bFilter","bInfo","ckeditorGet","setReadOnly","widget","spinner","_buttonHtml","step","numberFormat","min","max","campaignCreativeID","canEditCampaignCreative","canDeleteCampaignCreative","campaignCreativeTable","responsive","columnDefs","width","targets","bLengthChange","bPaginate","canEdit","canDelete","canAdd","fnDrawCallback","oSettings","ckeditor","toolbarGroups","groups","removeButtons","currentTarget","image_link","has_error","gallery_alert","weight","image","trim","CKEDITOR","instances","getData","org_weight","org_desc","org_img","websiteAffiliateId","affiliateWebsiteTable","affiliate_id","clear","addIcon","editIcon","ids","this_website","websites","confirm_stat","new_status","update_count","curIcon","newIcon","curBtn","newBtn","allowedContent","contentsCss","fn","Constructor","prototype","enforceFocus","modal_this","$element","has","parentNode","handle","items","field_names","standard_fields","standard_lf_fields","cssCodeMirror","jsCodeMirror","formBuilderCodeMirror","form_builder","auto_lock","autoLockAlert","lock","redirect_link","fields","custom","js","the_index","has_accepts","$key","accepted_options","required","hasOwnProperty","validation","alphaNumeric","alphaSpace","date","digits","email","equalTo","number","phoneUS","range","zip","minWordCount","custom_url","new_id","the_value","class","stopImmediatePropagation","this_field","Object","isInShortCodeDropdown","option_values","Array","option_displays","this_displays","hasAccepts","option_accepts","this_index","validations","valid_value","value_display","isChecked","final_form_builder_fields","object","form[url]","form[custom_url]","form[id]","form[class]","custom[css]","custom[js]","form[linkout_url]","form_id","ifChecked","file","file_data","formData","FormData","dataType","cache","contentType","processData","campaignAffiliateManagementTable","language","inputTooShort","args","params","queryParameters","term","processResults","results","operation","createdRow","dataIndex","$value","addBtn","json_field_names","scriptCodeMirror","linkout_url","evalue","script","campaignJsonCreativeTable","option_images","this_images","images","canEditJsonCampaignCreative","canDeleteJsonCampaignCreative","container","j","eq"],"mappings":"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","file":"campaigns.min.js","sourcesContent":["var inactiveAdvertisers = [],\r\n\tinactiveCategories = [],\r\n\teiqFrameID = $('#eiq_iframe_id').val(),\r\n\tcurrentCampaign,\r\n\tcampaignContentsExt = []\r\n\t;\r\n\r\n$(document).ready(function()\r\n{\r\n\t$('[data-toggle=\"tooltip\"]').tooltip();\r\n\r\n    $('.alert').on('click','.close',function(){\r\n        $(this).closest('.alert').fadeOut();\r\n        $(this).closest('.internal-error-wrapper').hide();\r\n    });\r\n\r\n\t//select2 implementation for advertiser select tags\r\n\t$('.advertiser-select-add').select2({\r\n\t\ttheme: 'bootstrap',\r\n\t\tdropdownParent: $(\"#addCmpFormModal\")\r\n\t});\r\n\r\n\t//select2 implementation for advertiser select tags\r\n\t$('.advertiser-select-edit').select2({\r\n\t\ttheme: 'bootstrap',\r\n\t\tdropdownParent: $(\"#editCampaignAdvertiserDiv\")\r\n\t});\r\n\r\n\tvar dataCampaignsURL = $('#baseUrl').html() + '/campaigns';\r\n\t// console.log(dataCampaignsURL);\r\n\r\n\tvar campaignsTable = $('#campaign-table');\r\n\tvar advertiserID = campaignsTable.data('advertiser');\r\n\tvar affiliateID = campaignsTable.data('affiliate');\r\n\r\n\tvar extraData = {};\r\n\r\n\tif(advertiserID!=undefined)\r\n\t{\r\n\t\textraData = {\r\n\t\t\t'awesome_advertiser_id' : advertiserID\r\n\t\t}\r\n\t}\r\n\telse if(affiliateID!=undefined)\r\n\t{\r\n\t\textraData = {\r\n\t\t\t'awesome_affiliate_id' : affiliateID\r\n\t\t}\r\n\t}\r\n\r\n\t// console.log(extraData);\r\n\tvar showInactive = 0;\r\n\r\n\tvar campaign_datatable = campaignsTable.DataTable({\r\n\t\t'processing': true,\r\n\t\t'serverSide': true,\r\n\t\t'columns': [\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\t{ 'orderable': false }\r\n\t\t],\r\n\t\t\"order\": [],\r\n\t\t'ajax':{\r\n\t\t\turl:dataCampaignsURL, //json datasource\r\n\t\t\t// type: 'GET',  //LIVE\r\n\t\t\ttype: 'post',  // KARLA ver\r\n\t\t\t// 'data' : extraData,\r\n\t\t\t'data': function(d)\r\n            {\r\n                d.json_content_filter = $('#jsonContentFilter').val();\r\n                d.awesome_advertiser_id = advertiserID!=undefined ? advertiserID : '';\r\n                d.awesome_affiliate_id = affiliateID!=undefined ? affiliateID : '';\r\n                d.show_inactive = showInactive;\r\n            },\r\n\t\t\terror: function(data) //error handling\r\n\t\t\t{\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t}\r\n\t\t},\r\n\t\tlengthMenu: [[25,50,100,1000,2000,3000],[25,50,100,1000,2000,3000]],\r\n\t\t\"sDom\": 'lf<\"addToolbar\">rtip'\r\n\t});\r\n\tvar toolBarHtml = '<label>New Design Filter: <select class=\"form-control\" id=\"jsonContentFilter\" name=\"json_content\"><option value=\"\" selected=\"selected\">Show ALL</option><option value=\"true\">w/ ND</option><option value=\"false\">w/o ND</option></select></label>';\r\n\ttoolBarHtml += '<label id=\"show_inactive_campaigns\"><input type=\"checkbox\" name=\"show_inactive_campaigns\">Show Inactive Campaigns<a href=\"#\" data-container=\"body\" data-toggle=\"tooltip\" data-placement=\"bottom\" title=\"By default, all INACTIVE campaigns are hidden and will not be shown in the Campaign Table List. You can show them by simply checking the box of this option and automatically, all INACTIVE campaigns will be displayed accordingly.\"><i class=\"fa fa-question-circle\"></i></a></label>';\r\n\t$(\"div.addToolbar\").html(toolBarHtml);\r\n\r\n\t$('#show_inactive_campaigns a').click(function(e){e.preventDefault();});\r\n\t$('#show_inactive_campaigns a').tooltip();\r\n\t$(document).on('change', '#show_inactive_campaigns [name=\"show_inactive_campaigns\"]', function(){\r\n        // console.log('change');\r\n        showInactive = $(this).prop('checked') ? 1 : 0;\r\n        // console.log(showInactive)\r\n        // campaign_datatable.clear();\r\n        campaign_datatable.ajax.reload();//.draw();\r\n    });\r\n\r\n\t$(document).on('change', '#jsonContentFilter', function(){\r\n        console.log('Reload');\r\n\r\n        // campaign_datatable.clear();\r\n        campaign_datatable.ajax.reload();//.draw();\r\n    });\r\n\r\n\t$('#campaign-table tbody').on( 'click', 'tr', function () {\r\n        if ( $(this).hasClass('selected') ) {\r\n            $(this).removeClass('selected');\r\n        }\r\n        else {\r\n            campaign_datatable.$('tr.selected').removeClass('selected');\r\n            $(this).addClass('selected');\r\n        }\r\n    });\r\n\r\n\tvar lead_cap_select = '<select class=\"form-control full_width_form_field\">';\r\n\t\tlead_cap_select += '<option value=\"\"></option>';\r\n\t\tlead_cap_select += '<option value=\"0\">Unlimited</option>';\r\n\t\tlead_cap_select += '<option value=\"1\">Daily</option>';\r\n\t\tlead_cap_select += '<option value=\"2\">Weekly</option>';\r\n\t\tlead_cap_select += '<option value=\"3\">Monthly</option>';\r\n\t\tlead_cap_select += '</select>';\r\n\r\n\t$('.this_isa_popover').popover();\r\n\r\n\t$('.date-wrapper input').datetimepicker({\r\n\t\tformat: 'YYYY-MM-DD'\r\n\t});\r\n\r\n\t$('.time-wrapper input').datetimepicker({\r\n        format: 'LT'\r\n    });\r\n\r\n\t$('.img_type').change(function() {\r\n\t\tvar img_wrap = $(this).closest('.image_wrapper');\r\n\t\t//1 - upload\r\n\t\t//2 - img url\r\n\t\t//check if add or edit\r\n\t\tif(img_wrap.data('type') == 'add') {\r\n\t\t\timg_wrap.find('.imgPreview').hide();\r\n\t\t\timg_wrap.find('.imgPreview img').attr('src','');\r\n\t\t\timg_wrap.find('#image').val('');\r\n\t\t}\r\n\r\n\t\tvar type = $(this).val();\r\n\t\tconsole.log(type);\r\n\t\tif(type == 2 ) {\r\n\t\t\timg_wrap.find('#image').attr('type','text');\r\n\t\t}else {\r\n\t\t\timg_wrap.find('#image').attr('type','file');\r\n\t\t}\r\n\t});\r\n\r\n\t$(\".campaign_img\").change(function () \r\n\t{\r\n\t\tvar this_input = $(this);\r\n\t\tvar img_wrap = $(this).closest('.image_wrapper');\r\n\t\tvar img_type = img_wrap.find('input[name=\"img_type\"]:checked').val();\r\n\r\n\t\tthis_input.removeClass('error_field error');\r\n\r\n\t\tif($(this).val() != '') {\r\n\t\t\t$('.imgPreview').show();\r\n        \tif(img_type == 1) {\r\n        \t\timgPreview($(this),$('.imgPreview img'));\r\n        \t}else {\r\n        \t\t//check if url is valid\r\n\t\t\t\t$('.imgPreview img')\r\n\t\t\t\t    .on('load', function() { console.log(\"image loaded correctly\"); })\r\n\t\t\t\t    .on('error', function() { \r\n\t\t\t\t    \tif(this_input.val() != '') {\r\n\t\t\t\t    \t\tconsole.log(this_input.val());\r\n\t\t\t\t    \t\tthis_input.addClass('error_field error').val('');\r\n\t\t\t\t    \t\tconsole.log(\"error loading image\"); \r\n\t\t\t\t    \t}\r\n\t\t\t\t    })\r\n\t\t\t\t    .attr(\"src\", $(this).val());\r\n\t\t\t\t;\r\n\r\n\t\t\t\t//$('.imgPreview img').attr('src',$(this).val());   \t\t\r\n        \t}\r\n\t\t}\r\n\t\telse \r\n\t\t{\r\n\t\t\t$('.campaign_img').removeClass('error_field error');\r\n\t\t\t$('.imgPreview').hide();\r\n\t\t\t$('.imgPreview img').attr('src','');\r\n\t\t}\r\n    });\r\n\t\r\n\t/* Lead Cap Type */\r\n    $('.leadCapType').on('change', function() {\r\n    \tvar select = $(this);\r\n    \tvar leadCapVal_div = '', leadCapType_div = '';\r\n\r\n    \tif(select.data('form') == 'add') {\r\n\t\t\tleadCapVal_div = $('#leadCapVal_add');\r\n\t\t\tleadCapType_div = $('#leadCapType_add');\r\n\t\t}else {\r\n\t\t\tleadCapVal_div = $('#leadCapVal_edit');\r\n\t\t\tleadCapType_div = $('#leadCapType_edit');\r\n\t\t}\r\n\r\n    \tif(select.val() == 0){\r\n    \t\tleadCapType_div.removeClass('col-md-6').addClass('col-md-12');\r\n    \t\tleadCapVal_div.find('input').removeAttr('required');\r\n    \t\tleadCapVal_div.hide();\r\n    \t}else {\r\n    \t\tleadCapType_div.removeClass('col-md-12').addClass('col-md-6');\r\n    \t\tleadCapVal_div.find('input').attr('required','true');\r\n    \t\tleadCapVal_div.show();\r\n    \t}\r\n    });\r\n\r\n    /* Lead Cap Type */\r\n    $('.campaignType').on('change', function() {\r\n    \tvar select = $(this);\r\n    \tvar linkoutOfferID_div = '', olrProgId_div = '';\r\n\r\n    \tif(select.data('form') == 'add') {\r\n\t\t\tlinkoutOfferID_div = $('#linkoutOfferID_add');\r\n\t\t\tolrProgId_div = $('#olrProgramID_add');\r\n\t\t}else {\r\n\t\t\tlinkoutOfferID_div = $('#linkoutOfferID_edit');\r\n\t\t\tolrProgId_div = $('#olrProgramID_edit');\r\n\t\t}\r\n\r\n    \tif(select.val() == 5 || select.val() == 6){\r\n    \t\tlinkoutOfferID_div.find('input').attr('required','true');\r\n    \t\tlinkoutOfferID_div.show();\r\n    \t}else {\r\n    \t\tlinkoutOfferID_div.find('input').removeAttr('required');\r\n    \t\tlinkoutOfferID_div.hide();\r\n    \t}\r\n\r\n    \tif(select.val() != 5 && select.val() != 4 && select.val() != 6){\r\n    \t\tolrProgId_div.find('input').attr('required','true');\r\n    \t\tolrProgId_div.show();\r\n    \t}else {\r\n    \t\tolrProgId_div.find('input').removeAttr('required');\r\n    \t\tolrProgId_div.hide();\r\n    \t}\r\n    });\r\n\r\n\t$('#addCmpBtn').click(function() \r\n\t{\r\n\t\tvar this_modal = $('#addCmpFormModal');\r\n\t\tvar url = $('#baseUrl').html() + '/add_campaign';\r\n\r\n\t\tthis_modal.find('.form_with_file').attr('action',url);\r\n\t\tthis_modal.find('.form_with_file').attr('data-process', 'add_campaign');\r\n\t\tthis_modal.find('.modal-title').html('Add Campaign');\r\n\t\tthis_modal.find('#this_id').val('');\r\n\t\tthis_modal.find('#default_payout').val(0).attr('disabled', true);\r\n\t\tthis_modal.find('#default_received').val(0).attr('disabled', true);\r\n\t\t\r\n\t\t$('.this_modal_submit').removeAttr('disabled');\r\n\r\n\t\tthis_modal.modal('show');\r\n\t});\r\n\r\n\tfunction containsObject(obj,list){\r\n\r\n\t\tfor (var i = 0; i < list.length; i++) {\r\n\t\t\tif (list[i].value === obj.value) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t}\r\n\r\n\tvar stackCodeMirror = CodeMirror.fromTextArea(document.getElementById('cmpCnt-stack-content'), {\r\n\t  \ttheme: 'default',\r\n\t    lineNumbers: true,\r\n        matchBrackets: true,\r\n        mode: \"application/x-httpd-php\",\r\n        // mode: 'javascript',\r\n        indentUnit: 4,\r\n        indentWithTabs: true,\r\n        readOnly: true\r\n\t});\r\n\r\n\t//PAYOUTS HISTORY\r\n\tvar campaign_payout_history_table = $('#campaignPayoutsHistory-table').DataTable({\r\n\t\t'processing': true,\r\n\t\t'serverSide': true,\r\n\t\t\"autoWidth\": false,\r\n        \"searching\": false,\r\n        \"bSort\" : false,\r\n        \"deferLoading\": 0,\r\n\t\t'ajax':{\r\n\t\t\turl: $('#baseUrl').html() + '/get_campaign_payout_history',\r\n\t\t\ttype: 'post',\r\n\t\t\t'data': function(d)\r\n            {\r\n                d.campaign = $('.this_campaign').val();\r\n            },\r\n            \"dataSrc\": function ( json ) {\r\n                return json.data;\r\n            },\r\n\t\t\terror: function(data) //error handling\r\n\t\t\t{\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t}\r\n\t\t},\r\n\t\tlengthMenu: [[25,50,100,1000,2000,3000],[25,50,100,1000,2000,3000]]\r\n\t});\r\n\r\n\t/***\r\n\t * onclick listener for editing campaign\r\n\t */\r\n\t$(document).on('click','.editCampaign',function() \r\n\t{\r\n\t\t$(this).closest('tr').addClass('selected');\r\n\r\n\t\tvar editCampaignButton = $('.editCampaign');\r\n\t\teditCampaignButton.find('span').removeClass().addClass('glyphicon glyphicon-pencil');\r\n\t\teditCampaignButton.attr('disabled','true');\r\n\r\n\t\tvar this_button = $(this);\r\n\t\tthis_button.find('span').removeClass().addClass('fa fa-spin fa-spinner');\r\n\r\n\t\t/* Info */\r\n\t\tvar this_modal = $('#editCmpFormModal');\r\n\t\tvar id = $(this).data('id');\r\n\t\tcurrentCampaign = id;\r\n\r\n\t\t//$('#info_tab form .this_field').attr('disabled',true);\r\n\t\tthis_modal.find('.this_campaign').val(id);\r\n\r\n\t\tvar this_cmp = '#cmp-' + id + '-';\r\n\r\n\t\t$('#modal-campaign-title').html(id + ' - '+ $(this_cmp+'name').html());\r\n\t\t\r\n\t\tif(typeof $(this_cmp+'img').data('img') == 'undefined' || $(this_cmp+'img').data('img') == '' ) {\r\n\t\t\tthis_modal.find('.imgPreview').show();\r\n\t\t\tthis_modal.find('.imgPreview img').attr('src', $(this_cmp+'img img').attr('src'));\r\n\t\t}\r\n\r\n\t\t//Lead Cap Type & Value\r\n\t\tvar leadCapVal_div = $('#leadCapVal_edit'),\r\n\t\t\tcap_type = $(this_cmp+'lct').data('type');\t\r\n\t\tif(cap_type == 0) {\r\n\t\t\tleadCapVal_div.find('input').removeAttr('required');\r\n\t\t\tleadCapVal_div.hide();\r\n\t\t}else {\r\n\t\t\tleadCapVal_div.find('input').attr('required','true');\r\n    \t\tleadCapVal_div.show();\r\n    \t\t$('#leadCapType_edit').removeClass('col-md-12').addClass('col-md-6');\r\n\t\t} \r\n\r\n\t\tvar advertiserID = $(this_cmp+'adv').data('adv');\r\n\t\t// console.log(advertiserID);\r\n\r\n\t\tvar advertiserSelect = this_modal.find('#advertiser');\r\n\r\n\t\t//add the advertiser if it is inactive. This happens when the advertiser is changed to inactive.\r\n\t\tif(advertiserID!=='')\r\n\t\t{\r\n\t\t\t//check if advertiser is inactive. If inactive just include it in the selection list\r\n\t\t\tvar url = $('#baseUrl').val() + '/advertisers/'+advertiserID+'/status';\r\n\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\turl: url,\r\n\t\t\t\tsuccess: function(data)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(!data.active)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar advertiserExists = $(\"#advertiser option[value='\"+data.advertiser_id+\"']\").length > 0;\r\n\r\n\t\t\t\t\t\tif(!advertiserExists)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t//insert it in the current pool of options\r\n\t\t\t\t\t\t\tadvertiserSelect.append($('<option>',{\r\n\t\t\t\t\t\t\t\tvalue: data.advertiser_id,\r\n\t\t\t\t\t\t\t\ttext: data.name\r\n\t\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\t\tadvertiserSelect.val(advertiserID).trigger('change');\r\n\t\t\t\t\t\t\tadvertiserSelect.prop('disabled',false);\r\n\t\t\t\t\t\t\tconsole.log(data.advertiser_id+\" was added!\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar inactiveAdvertiser = {\r\n\t\t\t\t\t\t\tvalue: data.advertiser_id,\r\n\t\t\t\t\t\t\ttext: data.name\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\tif(!containsObject(inactiveAdvertiser,inactiveAdvertisers)){\r\n\t\t\t\t\t\t\tinactiveAdvertisers.push(inactiveAdvertiser);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tvar allowEdit = true;\r\n\r\n\t\tif(Number($(this_cmp+'crtDiff').val()) <= 30) {\r\n\t\t\tif($('#allowed_force_edit').val() != '1') {\r\n\t\t\t\tallowEdit = false;\r\n\t\t\t} \r\n\t\t}\r\n\r\n\t\tvar campaign_type = $(this_cmp+'type').data('type');\r\n\t\tthis_modal.find('#date-created-container').html( $(this_cmp+'created').val());\r\n\t\tthis_modal.find('#name').val( $(this_cmp+'name').html());\r\n\t\tthis_modal.find('#priority').val( $(this_cmp+'prio').html());\r\n\t\tthis_modal.find('#campaign_type').val(campaign_type).trigger('change');\r\n\t\tadvertiserSelect.val(advertiserID).trigger('change');\r\n\t\tthis_modal.find('#lead_type').val(cap_type);\r\n\t\tthis_modal.find('#lead_value').val( $(this_cmp+'lcv').html());\r\n\t\tthis_modal.find('#default_payout').val( $(this_cmp+'dpyt').val());\r\n\t\tthis_modal.find('#default_received').val( $(this_cmp+'drcv').html());\r\n\t\tthis_modal.find('#description').val( $(this_cmp+'desc').val());\r\n\t\tthis_modal.find('#notes').val( $(this_cmp+'notes').html());\r\n\t\tthis_modal.find('input[name=\"status\"][value=\"'+$(this_cmp+'stat').data('status')+'\"]').prop('checked', true);\r\n\t\tthis_modal.find('#linkout_offer_id').val($(this_cmp+'lnkOutOffer').val());\r\n\t\tthis_modal.find('#program_id').val($(this_cmp+'prgId').val());\r\n\t\tthis_modal.find('#rate').val( $(this_cmp+'rate').html());\r\n\t\tthis_modal.find('#publisher_name').val( $(this_cmp+'pubN').val());\r\n\t\tthis_modal.find('#advertiser_email').val( $(this_cmp+'advEmail').val());\r\n\t\tthis_modal.find('input[name=\"is_external\"][value=\"'+$(this_cmp+'pubE').val()+'\"]').prop('checked', true);\r\n\r\n\t\tif(!allowEdit) {\r\n\t\t\tthis_modal.find('#default_payout').attr('disabled', true);\r\n\t\t\tthis_modal.find('#default_received').attr('disabled', true);\r\n\t\t}\r\n\r\n\t\tvar categoryID = $(this_cmp+'ctgry').val();\r\n\t\tvar categorySelect = this_modal.find('#category');\r\n\t\tcategorySelect.val(categoryID).trigger('change');\r\n\r\n\t\t//check if advertiser is inactive. If inactive just include it in the selection list\r\n\t\tvar categoryStatusURL = $('#baseUrl').val() + '/categories/'+categoryID+'/status';\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype: 'POST',\r\n\t\t\turl: categoryStatusURL,\r\n\t\t\tsuccess: function(data)\r\n\t\t\t{\r\n\t\t\t\tif(!data.active)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar categoryExists = $(\"#category option[value='\"+data.category_id+\"']\").length > 0;\r\n\r\n\t\t\t\t\tif(!categoryExists)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//insert it in the current pool of options\r\n\t\t\t\t\t\tcategorySelect.append($('<option>',{\r\n\t\t\t\t\t\t\tvalue: data.category_id,\r\n\t\t\t\t\t\t\ttext: data.name\r\n\t\t\t\t\t\t}));\r\n\r\n\t\t\t\t\t\tcategorySelect.val(categoryID).trigger('change');\r\n\t\t\t\t\t\t// console.log(data.category_id+\" was added!\");\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar inactiveCategory = {\r\n\t\t\t\t\t\tvalue: data.category_id,\r\n\t\t\t\t\t\ttext: data.name\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif(!containsObject(inactiveCategory,inactiveCategories)){\r\n\t\t\t\t\t\tinactiveCategories.push(inactiveCategory);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t/* UNIVERSAL */\r\n\t\t$('.this_campaign').val(id);\r\n\t\tvar filter_table = $('#campaign-filter-table').DataTable();\r\n\t\tfilter_table.rows().remove().draw();\t\r\n\r\n\t\tvar filter_group_table = $('#campaign-filter-group-table').DataTable();\r\n\t\tfilter_group_table.rows().remove().draw();\r\n\r\n\t\tvar affiliate_table = $('#campaign-affiliate-table').DataTable();\r\n\t\taffiliate_table.rows().remove().draw();\r\n\t\t// affiliate_table.ajax.reload();\r\n\r\n\t\tvar payout_table = $('#campaign-payout-table').DataTable();\r\n\t\tpayout_table.rows().remove().draw();\t\r\n\r\n\t\tvar the_url = $('#baseUrl').html() + '/get_campaign_info';\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype: 'POST', // LIVE Ver\r\n\t\t\t// type: 'GET', //KARLA Ver\r\n\t\t\tdata: {\r\n\t\t\t\t'id'\t:\tid\r\n\t\t\t},\r\n\t\t\turl: the_url,\r\n\t\t\t// error: function(xhr, status, error) {\r\n  \t\t\t// \tconsole.log(error);\r\n\t\t\t// },\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\t// console.log(data);\r\n\t\t\t\t// Pass data campaign extension\r\n\t\t\t\t// window.Vue.setContentData(data.content.high_paying);\r\n\r\n\t\t\t\t/* FILTER GROUP START*/\r\n\t\t\t\tvar filter_group_list = data.filter_group_list;\r\n\t\t\t\tvar filter_group_select = $('.filterGroupList');\r\n\t\t\t\tfilter_group_select.find('option').remove();\r\n\t\t\t\t// filter_group_select.append('<option value=\"\"></option>');\r\n\t\t\t\tif(filter_group_list != null) {\r\n\t\t\t\t\tvar counter = 0;\r\n\t\t\t\t\t$.each(filter_group_list, function(name,index){\r\n\t\t\t\t\t\tfilter_group_select.append('<option value=\"'+index+'\">'+name+'</option>');\r\n\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\tfilter_group_select.attr('size',counter);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar filter_groups_data = data.filter_groups;\r\n\t\t\t\tfilter_group_table.rows().remove().draw();\t\r\n\t\t\t\t// console.log(filter_groups_data.length);\r\n\t\t\t\tif(filter_groups_data.length > 0) {\r\n\t\t\t\t\t$.each(filter_groups_data, function(index,filter_group){\r\n\t\t\t\t\t\tvar fg_id = filter_group.id;\r\n\t\t\t\t\t\tvar fg_name = filter_group.name;\r\n\t\t\t\t\t\tvar fg_desc = filter_group.description;\r\n\t\t\t\t\t\tvar fg_stat = filter_group.status;\r\n\t\t\t\t\t\tvar fg_stat_name = 'Inactive';\r\n\t\t\t\t\t\tif(fg_stat != 0) fg_stat_name = 'Active';\r\n\r\n\t\t\t\t\t\tvar nameCol = '<span id=\"cfg-'+fg_id+'-name\">'+fg_name+'</span>';\r\n\t\t\t\t\t\tvar descCol = '<span id=\"cfg-'+fg_id+'-desc\">'+fg_desc+'</span>';\r\n\t\t\t\t\t\tvar statCol = '<span id=\"cfg-'+fg_id+'-stat\" data-status=\"'+fg_stat+'\">'+fg_stat_name+'</span>';\r\n\t\t\t\t\t\tvar actionCol =  '<button id=\"cfg-'+fg_id+'-view-button\" class=\"btn btn-default viewCampaignFilterGroup\" type=\"button\" data-id=\"'+fg_id+'\"><span class=\"glyphicon glyphicon-eye-open\"></span></button>';\r\n\t\t\t\t\t\t\tactionCol += '<button id=\"cfg-'+fg_id+'-edit-button\" class=\"btn btn-default editCampaignFilterGroup\" type=\"button\" data-id=\"'+fg_id+'\"><span class=\"glyphicon glyphicon-pencil\"></span></button>';\r\n\t\t\t\t\t\t\tactionCol += '<button id=\"cfg-'+fg_id+'-delete-button\" class=\"btn btn-default deleteCampaignFilterGroup\" type=\"button\" data-id=\"'+fg_id+'\"><span class=\"glyphicon glyphicon-trash\"></span></button>';\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tvar dataRow = [\r\n\t\t\t\t\t\t\tnameCol,\r\n\t\t\t\t\t\t\tdescCol,\r\n\t\t\t\t\t\t\tstatCol,\r\n\t\t\t\t\t\t\tactionCol\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\t//add the row data\r\n\t\t\t\t\t\tvar rowNode = filter_group_table.row.add(dataRow).draw().node();\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\t$('#addCmpFilter').removeAttr('disabled');\r\n\t\t\t\t}else {\r\n\t\t\t\t\t$('#addCmpFilter').attr('disabled',true);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(\"#addCmpFilter\").click(function() {\r\n\t\t\t\t\t$(\".filterGroupList\").prop(\"selectedIndex\", 0);\r\n\t\t\t\t\t\t//console.log(\"selected\");\r\n\t\t\t\t});\r\n\t\t\t\t/* FILTER GROUP END */\r\n\r\n\t\t\t\t/* AFFILIATE START */\r\n\t\t\t\tvar affiliate_data = data.affiliates;\r\n\t\t\t\t// $('select[name=\"affiliates[]\"] option').remove();\r\n\t\t\t\t// var aff_select = $('select[name=\"affiliates[]\"]');\r\n\t\t\t\t// $.each(affiliate_data['available'], function(index,value){\r\n\t\t\t\t// \taff_select.append('<option value=\"'+index+'\">'+value+'</option>');\r\n\t\t\t\t// });\t\t\r\n\t\t\t\t// var affiliate_count = $('select[name=\"affiliates[]\"] option').length;\r\n\t\t\t\t// if(affiliate_count <= 10) $('select[name=\"affiliates[]\"]').attr('size', affiliate_count);\r\n\t\t\t\t// else $('select[name=\"affiliates[]\"]').attr('size', 10);\r\n\r\n\t\t\t\tvar isEIQIframe = false;\r\n\t\t\t\tif(eiqFrameID != '' && eiqFrameID > 0 && eiqFrameID == id) isEIQIframe = true;\r\n\r\n\t\t\t\t// var affiliate_table = $('#campaign-affiliate-table').DataTable();\r\n\t\t\t\taffiliate_table.rows().remove().draw();\t\t\r\n\r\n\t\t\t\tif(affiliate_data['affiliated'] != undefined) \r\n\t\t\t\t{\r\n\t\t\t\t\t// console.log(affiliate_data['affiliated']);\r\n\t\t\t\t\t$.each(affiliate_data['affiliated'], function(index,affiliate){\r\n\r\n\t\t\t\t\t\tvar id = affiliate['id'];\r\n\t\t\t\t\t\tvar idCol = '<input name=\"select_affiliate[]\" class=\"selectCampaignAffiliate\" value=\"'+id+'\" data-name=\"'+affiliate['affiliate_name']+'\" type=\"checkbox\"> ';\r\n\t\t\t\t\t\tvar leadTypeCol = '<span id=\"ca-'+id+'-type\" data-id=\"'+affiliate['cap_type']+'\">'+affiliate['cap_type_name']+'</span>';\r\n\t\t\t\t\t\tvar leadValCol = '<span id=\"ca-'+id+'-value\">'+affiliate['cap_value']+'</span>';\r\n\t\t\t\t\t\tvar actionCol =  '<button id=\"ca-'+id+'-edit-button\" class=\"btn btn-default editCampaignAffiliate\" type=\"button\" data-id=\"'+id+'\"><span class=\"glyphicon glyphicon-pencil\"></span></button>';\r\n\t\t\t\t\t\tif(!isEIQIframe) {\r\n\t\t\t\t\t\t\tactionCol += ' <button id=\"ca-'+id+'-delete-button\" class=\"btn btn-default deleteCampaignAffiliate\" type=\"button\" data-id=\"'+id+'\"><span class=\"glyphicon glyphicon-trash\"></span></button>';\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tvar affStatIcon = 'ok',\r\n\t\t\t\t\t\t\t\taffStatBtn = 'success';\r\n\t\t\t\t\t\t\tif(affiliate['status'] == 0) {\r\n\t\t\t\t\t\t\t\taffStatIcon = 'remove';\r\n\t\t\t\t\t\t\t\taffStatBtn = 'danger';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tactionCol += ' <button id=\"ca-'+affiliate['affiliate_id']+'-status-button\" class=\"btn btn-'+affStatBtn+' eiqFrameStatus\" type=\"button\" data-id=\"'+affiliate['affiliate_id']+'\" data-status=\"'+affiliate['status']+'\"><span class=\"glyphicon glyphicon-'+affStatIcon+'-circle\"></span></button>';\r\n\t\t\t\t\t\t\tactionCol += ' <button id=\"ca-'+affiliate['affiliate_id']+'-iframe-button\" class=\"btn btn-default eiqFrameTraffic\" type=\"button\" data-id=\"'+affiliate['affiliate_id']+'\">Iframe Traffic</button>';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar dataRow = [\r\n\t\t\t\t\t\t\tidCol,\r\n\t\t\t\t\t\t\taffiliate['affiliate_name'],\r\n\t\t\t\t\t\t\tleadTypeCol,\r\n\t\t\t\t\t\t\tleadValCol,\r\n\t\t\t\t\t\t\tactionCol\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\t//add the row data\r\n\t\t\t\t\t\tvar rowNode = affiliate_table.row.add(dataRow).draw().node();\r\n\t\t\t\t\t\tvar affRow = $(rowNode);\r\n\r\n\t\t\t\t\t});\t\r\n\t\t\t\t\t// refreshTable($('#campaign-affiliate-table'));\t\r\n\t\t\t\t}\t\r\n\t\t\t\t/* AFFILIATE END */\r\n\r\n\t\t\t\t/* PAYOUT START */\r\n\t\t\t\tvar payout_data = data.payouts;\r\n\t\t\t\t$('select[name=\"payout[]\"] option').remove();\r\n\t\t\t\tvar aff_select = $('select[name=\"payout[]\"]');\r\n\t\t\t\t$.each(payout_data['available'], function(index,value){\r\n\t\t\t\t\taff_select.append('<option value=\"'+index+'\">'+value+'</option>');\r\n\t\t\t\t});\t\t\r\n\t\t\t\tvar affiliate_count = $('select[name=\"payout[]\"] option').length;\r\n\t\t\t\tif(affiliate_count <= 10) $('select[name=\"payout[]\"]').attr('size', affiliate_count);\r\n\r\n\t\t\t\tpayout_table.rows().remove().draw();\t\r\n\r\n\t\t\t\tif(payout_data['affiliate'] != undefined) \r\n\t\t\t\t{\r\n\t\t\t\t\t$.each(payout_data['affiliate'], function(index,payout){\r\n\r\n\t\t\t\t\t\tvar id = payout['id'];\r\n\t\t\t\t\t\tvar aff_name = payout['affiliate_name'];\r\n\t\t\t\t\t\t// var idCol = '<input name=\"select_payout[]\" class=\"selectCampaignPayout\" value=\"'+id+'\" data-name=\"'+aff_name+'\" type=\"checkbox\"> ' + id;\r\n\t\t\t\t\t\tvar idCol = '<input name=\"select_payout[]\" class=\"selectCampaignPayout\" value=\"'+id+'\" data-name=\"'+aff_name+'\" type=\"checkbox\">';\r\n\t\t\t\t\t\tvar receiveCol = '<span id=\"cp-'+id+'-receivable\">'+ payout['received'] +'</span>'\r\n\t\t\t\t\t\tvar payoutCol = '<span id=\"cp-'+id+'-payable\">'+ payout['payout'] +'</span>'\r\n\r\n\t\t\t\t\t\tvar actionCol =  '<button id=\"cp-'+id+'-edit-button\" class=\"btn btn-default editCampaignPayout\" type=\"button\" data-id=\"'+id+'\"><span class=\"glyphicon glyphicon-pencil\"></span></button>';\r\n\t\t\t\t\t\t\tactionCol += '<button id=\"cp-'+id+'-delete-button\" class=\"btn btn-default deleteCampaignPayout\" type=\"button\" data-id=\"'+id+'\"><span class=\"glyphicon glyphicon-trash\"></span></button>';\r\n\t\t\t\t\t\tvar dataRow = [\r\n\t\t\t\t\t\t\tidCol,\r\n\t\t\t\t\t\t\taff_name,\r\n\t\t\t\t\t\t\treceiveCol,\r\n\t\t\t\t\t\t\tpayoutCol,\r\n\t\t\t\t\t\t\tactionCol\r\n\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\t//add the row data\r\n\t\t\t\t\t\tvar rowNode = payout_table.row.add(dataRow).draw().node();\r\n\t\t\t\t\t\tvar affRow = $(rowNode);\r\n\t\t\t\t\t});\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\t/* PAYOUT END */\r\n\r\n\t\t\t\t/* CONFIG START */\r\n\t\t\t\tvar config_data = data.config;\r\n\t\t\t\t$('#cmpCfg-url').html(config_data.post_url);\r\n\t\t\t\t$('#cmpCfg-url-txt input').val(config_data.post_url);\r\n\t\t\t\t$('#cmpCfg-hdr').text(config_data.post_header).html();\r\n\t\t\t\t$('#cmpCfg-hdr-txt textarea').val(config_data.post_header);\r\n\t\t\t\t$('#cmpCfg-dta').text(config_data.post_data).html();\r\n\t\t\t\t$('#cmpCfg-dta-txt textarea').val(config_data.post_data);\r\n\t\t\t\t$('#cmpCfg-dta-fv').text(config_data.post_data_fixed_value).html();\r\n\t\t\t\t$('#cmpCfg-dta-fv-txt textarea').val(config_data.post_data_fixed_value);\r\n\t\t\t\t$('#cmpCfg-map').text(config_data.post_data_map).html();\r\n\t\t\t\t$('#cmpCfg-map-txt textarea').val(config_data.post_data_map);\r\n\t\t\t\t$('#cmpCfg-mtd').html(config_data.post_method);\r\n\t\t\t\t$('#cmpCfg-mtd-txt select').val(config_data.post_method);\r\n\t\t\t\t$('#cmpCfg-scs').text(config_data.post_success).html();\r\n\t\t\t\t$('#cmpCfg-scs-txt input').val(config_data.post_success);\r\n\t\t\t\t$('#cmpCfg-purl').text(config_data.ping_url).html();\r\n\t\t\t\t$('#cmpCfg-purl-txt input').val(config_data.ping_url);\r\n\t\t\t\t$('#cmpCfg-pscs').text(config_data.ping_success).html();\r\n\t\t\t\t$('#cmpCfg-pscs-txt input').val(config_data.ping_success);\r\n\r\n\t\t\t\tvar ftp_sent = 'off',\r\n\t\t\t\t\tftp_sent_display = 'NO';\r\n\t\t\t\t\tftp_protocol = '';\r\n\t\t\t\tif(config_data.ftp_sent == 1) {\r\n\t\t\t\t\tftp_sent = 'on';\r\n\t\t\t\t\tftp_sent_display = 'YES';\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(config_data.ftp_protocol !== null) {\r\n\t\t\t\t\tftp_protocol = $('#cmpCfg-ftpp-txt select option[value=\"'+config_data.ftp_protocol+'\"]').html();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$('#cmpCfg-ftps').html(ftp_sent_display);\r\n\t\t\t\t$('#if_ftp_sent').bootstrapToggle(ftp_sent);\r\n\t\t\t\t$('#cmpCfg-ftpp').html(ftp_protocol);\r\n\t\t\t\t$('#cmpCfg-ftpp-txt select').val(config_data.ftp_protocol);\r\n\t\t\t\t$('#cmpCfg-ftpu').html(config_data.ftp_username);\r\n\t\t\t\t$('#cmpCfg-ftpu-txt input').val(config_data.ftp_username);\r\n\t\t\t\t$('#cmpCfg-ftppw').html(config_data.ftp_password);\r\n\t\t\t\t$('#cmpCfg-ftppw-txt input').val(config_data.ftp_password);\r\n\t\t\t\t$('#cmpCfg-ftph').html(config_data.ftp_host);\r\n\t\t\t\t$('#cmpCfg-ftph-txt input').val(config_data.ftp_host);\r\n\t\t\t\t$('#cmpCfg-ftppt').html(config_data.ftp_port);\r\n\t\t\t\t$('#cmpCfg-ftppt-txt input').val(config_data.ftp_port);\r\n\t\t\t\t$('#cmpCfg-ftpto').html(config_data.ftp_timeout);\r\n\t\t\t\t$('#cmpCfg-ftpto-txt input').val(config_data.ftp_timeout);\r\n                $('#cmpCfg-ftpdirectory').html(config_data.ftp_directory);\r\n                $('#cmpCfg-ftpdirectory-txt input').val(config_data.ftp_directory);\r\n\r\n                $('#cmpCfg-email').html(config_data.email_sent == 1 ? 'YES' : 'No');\r\n                $('#if_email_sent').bootstrapToggle(config_data.email_sent == 1 ? 'on' : 'off');\r\n                $('#cmpCfg-emailTo-txt input').val(config_data.email_to);\r\n\t\t\t\t$('#cmpCfg-emailTo').html(config_data.email_to);\r\n\t\t\t\t$('#cmpCfg-emailTitle-txt input').val(config_data.email_title);\r\n\t\t\t\t$('#cmpCfg-emailTitle').html(config_data.email_title);\r\n\t\t\t\t$('#cmpCfg-emailBody-txt textarea').val(config_data.email_body);\r\n\t\t\t\t$('#cmpCfg-emailBody').html(config_data.email_body);\r\n\r\n\t\t\t\t//Automation\r\n\t\t\t\t// console.log(config_data);\r\n\t\t\t\t// if(config_data.post_data != null || config_data.post_data_fixed_value != null || config_data.post_data_map != null\r\n\t\t\t\t// \t|| config_data.post_header != null || config_data.post_method != null || config_data.post_success != null) {\r\n\t\t\t\t// \t// $('#cmpConfigAutomationTable').show();\r\n\t\t\t\t// \t$('#cmpConfigAutomationSubmit').removeClass('disabled');\r\n\t\t\t\t// }else {\r\n\t\t\t\t// \t$('#cmpConfigAutomationSubmit').addClass('disabled');\r\n\t\t\t\t// }\r\n\t\t\t\t$('#campaign_config_interface_form').find('.this_campaign').val(id);\r\n\r\n\t\t\t\t/* CONFIG END*/\r\n\r\n\t\t\t\t/* CONTENT START */\r\n\t\t\t\tcontent_data = data.content;\r\n\r\n\t\t\t\tif(content_data.long == null) long_content = '';\r\n\t\t\t\telse long_content = content_data.long;\r\n\t\t\t\t$('#cmpCnt-long-actual').val(long_content);\r\n\t\t\t\t$('#cmpCnt-long-content').val(long_content);\r\n\r\n\t\t\t\tif(content_data.stack == null) stack_content = '';\r\n\t\t\t\telse stack_content = content_data.stack;\r\n\t\t\t\t$('#cmpCnt-stack-actual').val(stack_content);\r\n\t\t\t\t$('#cmpCnt-stack-content').val(stack_content);\r\n\t\t\t\tstackCodeMirror.getDoc().setValue(stack_content);\r\n\r\n\t\t\t\tif(content_data.high_paying == null) high_paying_content = '';\r\n\t\t\t\telse high_paying_content = content_data.high_paying;\r\n\t\t\t\t$('#cmpCnt-hp-actual').val(high_paying_content);\r\n\t\t\t\t$('#cmpCnt-hp-content').val(high_paying_content);\r\n\r\n\t\t\t\tvar stack_lock = 'off';\r\n\t\t\t\tif(content_data.stack_lock == 1) stack_lock = 'on';\r\n\t\t\t\t$('#stack_form_lock').bootstrapToggle(stack_lock);\r\n\t\t\t\t/* CONTENT END*/\r\n\r\n\t\t\t\t/* POSTING INSTRUCTION START */\r\n\t\t\t\tif(data.posting_instruction == null) posting_instruction = '';\r\n\t\t\t\telse posting_instruction = data.posting_instruction;\r\n\t\t\t\t$('#cmp-posting-instruction').val(posting_instruction);\r\n\t\t\t\t$('#cmp-posting-instruction-actual').val(posting_instruction);\r\n\t\t\t\t// $('#cmp-posting-instruction').ckeditorGet().setReadOnly(true);\r\n\r\n\t\t\t\tif(data.sample_code == null) sample_code = '';\r\n\t\t\t\telse sample_code = data.sample_code;\r\n\t\t\t\t$('#cmp-sample-code').val(sample_code);\r\n\t\t\t\t$('#cmp-sample-code-actual').val(sample_code);\r\n\r\n\t\t\t\t/* POSTING INSTRUCTION END */\r\n\r\n\t\t\t\t// console.log(data);\r\n\r\n\t\t\t\tthis_modal.modal('show');\r\n\t\t\t\tthis_button.find('span').removeClass().addClass('glyphicon glyphicon-pencil');\r\n\r\n\t\t\t\t$('.editCampaign').removeAttr('disabled');\r\n\t\t\t},\r\n\t\t\terror: function (jqXHR, text, errorThrown) {\r\n\t\t\t    console.log(jqXHR + \" \" + text + \" \" + errorThrown);\r\n\t\t\t    setTimeout(function() \r\n\t\t\t\t{\r\n\t\t\t\t    window.location.href = '';\r\n\t\t\t\t}, 5000);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//Campaign Payout History\r\n\t\tcampaign_payout_history_table.ajax.reload();\r\n\t\t\r\n\t\t/* END*/\r\n\t});\r\n\t\r\n\t/* Hide Add Campaign Modal */\r\n\t$('#addCmpFormModal').on('hide.bs.modal', function (event) \r\n\t{\r\n\t\tvar form = $(this).find('.form_with_file');\r\n\r\n\t\t$('.this_modal_submit').html('Save');\r\n\r\n\t\t$('.imgPreview').hide();\r\n\t\t$('.imgPreview img').attr('src','');\r\n\r\n\t\tform.find('.this_field').each(function() \r\n\t\t{\r\n\t\t\tif($(this).attr('type') == 'radio') {\r\n\t\t\t\t$('input[name=\"'+$(this).attr('name')+'\"][value=\"0\"]').prop('checked', true);\r\n\t\t\t}else {\r\n\t\t\t\t$(this).val('');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tform.find('#default_payout').removeAttr('disabled');\r\n\t\tform.find('#default_received').removeAttr('disabled');\r\n\r\n\t\t//clear the advertiser dropdown\r\n\t\t$('.advertiser-select-add').trigger('change');\r\n\r\n\t\t//Lead Cap Type & Value\r\n\t\t$('#leadCapType_add').removeClass('col-md-6').addClass('col-md-12');\r\n\t\t$('#leadCapVal_add').hide();\r\n\r\n\t\t//Link Out Offer ID\r\n\t\t$('#linkoutOfferID_add').hide();\r\n\r\n\t\tform.find('.this_modal_submit').html('Save');\r\n\r\n\t\tform.find('.error').each(function(){\r\n\t\t\t$(this).removeClass('error');\r\n\t\t\t$(this).removeClass('error_field');\r\n\t\t\t$(this).removeClass('error_label');\r\n\t\t});\r\n\r\n\t\t$('.campaign_img').removeClass('error error_field');\r\n\r\n\t});\r\n\r\n\t/* Hide Edit Campaign Modal */\r\n\t$('#editCmpFormModal').on('hide.bs.modal', function (event) \r\n\t{\r\n\t\tvar form = $(this).find('.form_with_file');\r\n\r\n\t\t$('.this_modal_submit').html('Save');\r\n\r\n\t\t$('.imgPreview').hide();\r\n\t\t$('.imgPreview img').attr('src','');\r\n\r\n\t\tform.find('.this_field').each(function() \r\n\t\t{\r\n\t\t\tif($(this).attr('name') == 'img_type') {\r\n\t\t\t\t$('input[name=\"img_type\"][value=\"1\"]').prop('checked', true);\r\n\t\t\t}else if($(this).attr('type') == 'radio') {\r\n\t\t\t\t$('input[name=\"'+$(this).attr('name')+'\"][value=\"0\"]').prop('checked', true);\r\n\t\t\t}else {\r\n\t\t\t\t$(this).val('');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tform.find('#default_payout').removeAttr('disabled');\r\n\t\tform.find('#default_received').removeAttr('disabled');\r\n\r\n\t  \tform.find('.error').each(function(){\r\n\t\t\t$(this).removeClass('error');\r\n\t\t\t$(this).removeClass('error_field');\r\n\t\t\t$(this).removeClass('error_label');\r\n\t\t});\r\n\r\n\t\t//Lead Cap Type & Value\r\n\t\t$('#leadCapType_edit').removeClass('col-md-6').addClass('col-md-12');\r\n\t\t$('#leadCapVal_edit').hide();\r\n\t\t$('#leadCapVal_edit').find('#lead_value').removeAttr('required');\r\n\r\n\t\t//Link Out Offer ID\r\n\t\t$('#linkoutOfferID_edit').hide();\r\n\t\t$('#linkoutOfferID_edit').find('#linkout_offer_id').removeAttr('required');\r\n\r\n\t\t$(form).find('.this_error_wrapper .this_errors').hide();\r\n\t\t$(form).find('.this_error_wrapper .this_errors ul').remove();\r\n\r\n\t\tform.find('.this_modal_submit').html('Save');\r\n\r\n\t\t/* Affiliates */\r\n\t\t$('#editAffilatesBtn').attr('disabled',true);\r\n\t\t$('#deleteAffiliatesBtn').attr('disabled', true);\r\n\t\tcampaign_available_affiliates = null;\r\n\r\n\t\t$('.campaign_img').removeClass('error error_field');\r\n\t\t//$('a[href=\"#info_tab\"]').tab('show');\r\n\r\n\t\t/* Content */\r\n\t\tif($('#editCampaignLongContent').data('config') == 'hide') $('#editCampaignLongContent').click();\r\n\t\tif($('#editCampaignStackContent').data('config') == 'hide') $('#editCampaignStackContent').click();\r\n\t\tif($('#editCampaignHighPayingContent').data('config') == 'hide') $('#editCampaignHighPayingContent').click();\r\n\t\t\r\n\t\tif($('#addCmpFilter').data('collapse') == 'hide') $('#addCmpFilter').click();\r\n\t\tif(! $('#addCampAff').hasClass('collapsed')) $('#addCampAff').click();\r\n\t\tif(! $('#addPytAff').hasClass('collapsed')){\r\n\t\t\tconsole.log(\"NO COLLAPSE\");\r\n\t\t\t$('#addPytAff').click();\r\n\t\t}\r\n\t\tif($('#editCmpConfig').data('config') == 'hide') $('#editCmpConfig').click();\r\n\t\t$('.selectAllCampaignAffiliate').prop('checked', false);\r\n\t\t$('#campaignAffiliateForm').collapse('hide');\r\n\t\t\r\n\t\t/* Payouts */\r\n\t\t$('.capPytSelectAllAff').prop('checked', false);\r\n\t\t$('#campaignPayoutForm').collapse('hide');\r\n\t\tcampaign_payout_available_affiliates = null;\r\n\r\n\t\t/* Configs */\r\n\t\t$('.cmpCfg-form input').val('');\r\n\t\t$('.cmpCfg-form select').val('');\r\n\t\t$('.cmpCfg-dsply').html('');\r\n\t\t$('#if_ftp_sent').bootstrapToggle('off');\r\n\t\t$('#if_email_sent').bootstrapToggle('off');\r\n\t\t\r\n\t\t/* Filters */\r\n\t\t$('#campaignFilterInfo').collapse('hide');\r\n\t\t$('#campaignFilterForm').collapse('hide');\r\n\t\t$('#campaignFilterGroupForm').collapse('hide');\r\n\t\t/* Posting Instruction */\r\n\t\tif($('#editPostingInstruction').data('config') == 'hide') $('#editPostingInstruction').click();\r\n\t\t\r\n\t\t/* Stack Creative */\r\n\t\t// campaignCreativeID = 0;\r\n\t\t// $('[href=\"#stackContentTab\"]').trigger('click');\r\n\t\t$('#stack_content_tab .this_error_wrapper').hide();\r\n\t\t$('#stack_content_tab .this_error_wrapper .this_errors ul').remove();\r\n\t\tstackCodeMirror.getDoc().setValue('');\r\n\t\tsetTimeout(function() {\r\n\t\t\tstackCodeMirror.refresh();\r\n\t\t},100);\r\n\r\n\t\t//remove the inactive advertisers that was added during editing\r\n\t\tfor(var n=0;n<inactiveCategories.length;n++)\r\n\t\t{\r\n\t\t\tvar inactiveCategory = inactiveCategories[n];\r\n\t\t\t$(\"#category option[value='\"+inactiveCategory.value+\"']\").remove();\r\n\t\t}\r\n\r\n\t\t//clear the inactiveCategories array\r\n\t\tinactiveCategories = [];\r\n\r\n\t\tfor(var n=0;n<inactiveAdvertisers.length;n++)\r\n\t\t{\r\n\t\t\tvar inactiveAdvertiser = inactiveAdvertisers[n];\r\n\t\t\t$(\"#advertiser option[value='\"+inactiveAdvertiser.value+\"']\").remove();\r\n\t\t}\r\n\r\n\t\t//clear the inactiveCategories array\r\n\t\tinactiveAdvertisers = [];\r\n\r\n\t\t/* Affiliate Websites */\r\n\t\tif($('#affiliateWebsiteDiv').is(\":visible\")) {\r\n\t\t\tconsole.log('visible');\r\n\t\t\t$('#backToCampaignAffiliateBtn').trigger('click');\r\n\t\t}\r\n\r\n\t\tconsole.log('edit modal closed and removed all inactive items!');\r\n\r\n\t\t// Go back to Info tab\r\n\t\t$('[href=\"#info_tab\"]').trigger('click');\r\n\t\t\r\n\t});\r\n\r\n\t$(document).on('shown.bs.tab', 'a[data-toggle=\"tab\"][href=\"#stack_content_tab\"]', function() {\r\n\t    this.refresh();\r\n\t}.bind(stackCodeMirror));\r\n\r\n\t/***\r\n\t * onclick listener for editing campaign\r\n\t */\r\n\t$(document).on('click','.deleteCampaign',function() \r\n\t{\r\n\t\tvar this_campaign = $(this);\r\n\t\tvar id = $(this).data('id');\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete this campaign?');\r\n\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_campaign';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n\t\t\t\tdata : {\r\n\t\t\t\t\t'id' : id\r\n\t\t\t\t}, \r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tvar table = $('#campaign-table').DataTable();\r\n\t\t\t\t\ttable.row(this_campaign.parents('tr')).remove().draw();\r\n\r\n\t\t\t\t\t//PRIORITY CHANGES\r\n\t\t\t\t\tif(data) {\r\n\t\t\t\t\t\t$.each(data, function(priority, campaign) {\r\n\t\t\t\t\t\t\ttable.cell( $('#cmp-'+campaign+'-prio').parent('td') ).data('<span id=\"cmp-'+campaign+'prio\">'+priority+'</span>').draw();\r\n\t\t\t\t\t\t\t// $('#cmp-' + campaign + '-prio').html(priority);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//Remove 1 priority option in edit campaign\r\n\t\t\t\t\t$('#priority option:last').remove();\r\n\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t\r\n\t/* ADD Campaign Affiliate Collapse */\r\n\t$('#campaignAffiliateForm').on('hide.bs.collapse', function () {\r\n\t\tvar this_button = $('#addCampAff');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-plus\"></span>');\r\n\t\t$('#addCmpAffiliateBtn').addClass('disabled');\r\n\t\t$('select[name=\"affiliates[]\"] option').prop('selected',false);\r\n\t});\r\n\r\n\t$('#campaignAffiliateForm').on('show.bs.collapse', function () {\r\n\t\tvar this_button = $('#addCampAff');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>')\r\n\t});\r\n\r\n\t$('.closeAffiliateCollapse').on('click', function () {\r\n\t\t$('#campaignAffiliateForm').collapse('hide');\r\n\t});\r\n\r\n\t$('select[name=\"affiliates[]\"]').change(function() {\r\n\t\tvar selectedAffiliates = $('select[name=\"affiliates[]\"] option:selected');\r\n\t\tif(selectedAffiliates.length > 0) $('#addCmpAffiliateBtn').removeClass('disabled');\r\n\t\telse $('#addCmpAffiliateBtn').addClass('disabled');\r\n\t});\r\n\r\n\t$('.selectAllCampaignAffiliate').on('change', function (event) \r\n\t{\r\n\t\t$('.selectAllCampaignAffiliate').prop('checked', $(this).prop(\"checked\"));\r\n\t\t$(\".selectCampaignAffiliate\").prop('checked', $(this).prop(\"checked\"));\r\n\r\n\t\tif($('.selectCampaignAffiliate:checked').length > 0) {\r\n\t\t\t$('#editAffilatesBtn').removeAttr('disabled');\r\n\t\t\tif(currentCampaign != eiqFrameID) $('#deleteAffiliatesBtn').removeAttr('disabled');\r\n\t\t}else {\r\n\t\t\t$('#editAffilatesBtn').attr('disabled',true);\r\n\t\t\t$('#deleteAffiliatesBtn').attr('disabled',true);\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('change','.selectCampaignAffiliate', function(e) \r\n\t{\r\n\t\tvar checkIfSelectAll = $('input[name=\"select_affiliate[]\"]:not(:checked)').length == 0;\r\n\t\tif(checkIfSelectAll == false) $('.selectAllCampaignAffiliate').prop('checked', false);\r\n\t\telse $('.selectAllCampaignAffiliate').prop('checked', true);\r\n\r\n\t\tif($('.selectCampaignAffiliate:checked').length > 0) {\r\n\t\t\t$('#editAffilatesBtn').removeAttr('disabled');\r\n\t\t\tif(currentCampaign != eiqFrameID) $('#deleteAffiliatesBtn').removeAttr('disabled');\r\n\t\t}else {\r\n\t\t\t$('#editAffilatesBtn').attr('disabled',true);\r\n\t\t\t$('#deleteAffiliatesBtn').attr('disabled',true);\r\n\t\t}\r\n\t});\r\n\r\n\t/* EDIT Campaign Affiliate Collapse */\r\n\t$('#editCampaignAffiliateForm').on('show.bs.collapse', function () {\r\n\t\tvar this_button = $('#editAffilatesBtn');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\t\r\n\r\n\t\t$('.editCampaignAffiliate').addClass('disabled');\r\n\r\n\t\tvar checkedAffiliates = $('input[name=\"select_affiliate[]\"]:checked');\r\n\t\tif(checkedAffiliates.length == 1) var edit_info = '<strong>You are about to edit the affiliate:</strong><br> ';\r\n\t\telse var edit_info = '<strong>You are about to edit the following affiliates:</strong><br> ';\r\n\t\t\r\n\t\t$('#selectedAffiliateDiv').html('');\r\n\t\tcheckedAffiliates.each(function() {\r\n\t\t\tedit_info += $(this).data('name') + ', ';\r\n\t\t\t$('#selectedAffiliateDiv').append('<input name=\"selected_affiliate[]\" type=\"hidden\" value=\"'+$(this).val()+'\"/>');\r\n\t\t});\r\n\r\n\t\t// $('#selected_affiliate').val(checkedAffiliates.serialize());\r\n\t\t// $(checkedAffiliates).attr('disabled',true);\r\n\t\t$('.selectCampaignAffiliate').attr('disabled',true);\r\n\t\t$('.selectAllCampaignAffiliate').attr('disabled',true);\r\n\r\n\t\tedit_info = edit_info.substring(0,edit_info.length - 2);\r\n\t\tedit_info += '.';\r\n\t\t$('.listOfCampaignAffiliatesEdit').removeClass('hidden');\r\n\t\t$('.listOfCampaignAffiliatesEdit .panel-body').html(edit_info).show();\r\n\r\n\t\t//get value of first select\r\n\t\tvar first_id = $('input[name=\"select_affiliate[]\"]:checked').val();\r\n\t\tvar first_type = $('#ca-'+first_id+'-type').data('id');\r\n\t\tvar first_value = $('#ca-'+first_id+'-value').html();\r\n\t\t$('#edit_lead_cap_type').val(first_type);\r\n\t\t$('#edit_lead_cap_value').val(first_value);\r\n\t})\r\n\r\n\t$('#editCampaignAffiliateForm').on('hide.bs.collapse', function () {\r\n\t\tvar this_button = $('#editAffilatesBtn');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\t// $('select[name=\"affiliates[]\"] option').prop('selected',false);\r\n\t\t$('.editCampaignAffiliate').removeClass('disabled');\r\n\r\n\t\t$('.listOfCampaignAffiliatesEdit').addClass('hidden');\r\n\r\n\t\t$('#selectedAffiliateDiv').html('');\r\n\t\t$('.selectCampaignAffiliate').removeAttr('disabled')\r\n\t\t$('.selectAllCampaignAffiliate').removeAttr('disabled')\r\n\r\n\r\n\t\t// $('#editAffilatesBtn').addClass('disabled');\r\n\t\t// $('#deleteAffiliatesBtn').addClass('disabled');\r\n\t});\r\n\r\n\t$(document).on('click','.closeEditAffiliateCollapse', function(e) \r\n\t{\r\n\t\t$('#editCampaignAffiliateForm').collapse('hide');\r\n\t});\r\n\r\n\t$(document).on('click','.editCampaignAffiliate',function(e) \r\n    {\r\n\t\te.preventDefault();\r\n\t\tvar id = $(this).data('id');\r\n\r\n\t\t$('.selectCampaignAffiliate').prop('checked',false);\r\n\t\t$( '.selectCampaignAffiliate[value=\"'+id+'\"]' ).trigger( \"click\" );\r\n\r\n\t\t$('.editCampaignAffiliate').addClass('disabled');\r\n\t\t$('#editCampaignAffiliateForm').collapse('show');\r\n\t});\r\n\r\n\t/***\r\n\t*\tAdd Private Affiliate or Affiliate with cap\r\n\t*/\r\n\t$('#addPvtAff').click(function() {\r\n\t\tvar selectedAffiliates = $('select[name=\"affiliates[]\"] option:selected');\r\n\t\tvar ifConf;\r\n\t\tvar this_button = $('#addPvtAff');\r\n\t\tif(selectedAffiliates.length > 0) {\r\n\t\t\tif(selectedAffiliates.length == 1) ifConf = 'new affiliate';\r\n\t\t\telse ifConf = 'following affiliates';\r\n\t\t\tvar confirmation = confirm('Are you sure you want to add the '+ ifConf +' ?');\r\n\t\t\tif(confirmation === true) {\r\n\t\t\t\tthis_button.addClass('disabled');\r\n\t\t\t\t//this_button.html('<span class=\"glyphicon glyphicon-refresh gly-spin\"></span>');\r\n\r\n\t\t\t\tvar the_url = $('#baseUrl').html() + '/add_affiliate_for_campaign';\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t'id'\t\t:\t$('#editCmpFormModal').find('#this_id.this_campaign').val(),\r\n\t\t\t\t\t\t'affiliate' : \t$('select[name=\"affiliates[]\"]').val()\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: the_url,\r\n\t\t\t\t\tsuccess: function(data){\r\n\t\t\t\t\t\tvar dCounter = 0;\r\n\t\t\t\t\t\tvar table = $('#campaign-affiliate-table').DataTable();\r\n\t\t\t\t\t\t//var lead_cap_select = $('#addCmpFormModal').find('#lead_type');\r\n\t\t\t\t\t\t//var lead_cap_select = $('#campaign_affiliate_lead_type_select');\r\n\t\t\t\t\t\t//var lead_cap_select ---> GLOBAL\r\n\t\t\t\t\t\t$.each(selectedAffiliates, function() {\r\n\t\t\t\t\t\t\tvar aff_id = $(this).val();\r\n\t\t\t\t\t\t\t// var aff_name = $(this).html().split(' - ');\r\n\t\t\t\t\t\t\tvar aff_name = $(this).html();\r\n\t\t\t\t\t\t\tvar id = data[dCounter];\r\n\t\t\t\t\t\t\t$(this).remove();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tvar leadTypeCol = '<span id=\"ca-'+id+'-type\" data-id=\"0\">Unlimited</span>';\r\n\t\t\t\t\t\t\t\tleadTypeCol += '<span id=\"ca-'+id+'-type-select\" class=\"hidden\"><span>';\r\n\t\t\t\t\t\t\tvar leadValCol = '<span id=\"ca-'+id+'-value\">0</span>';\r\n\t\t\t\t\t\t\t\tleadValCol += '<span id=\"ca-'+id+'-value-input\" class=\"hidden\">';\r\n\t\t\t\t\t\t\t\tleadValCol += '<input type=\"text\" class=\"form-control full_width_form_field\"/>';\r\n\t\t\t\t\t\t\t\tleadValCol += '</span>';\r\n\t\t\t\t\t\t\tvar actionCol =  '<button id=\"ca-'+id+'-edit-button\" class=\"btn btn-default editCampaignAffiliate\" type=\"button\" data-id=\"'+id+'\"><span class=\"glyphicon glyphicon-pencil\"></span></button>';\r\n\t\t\t\t\t\t\t\tactionCol += '<button id=\"ca-'+id+'-update-button\" class=\"btn btn-primary updateCampaignAffiliate hidden\" type=\"button\" data-id=\"'+id+'\"><span class=\"glyphicon glyphicon-floppy-disk\"></span></button>';\r\n\t\t\t\t\t\t\t\tactionCol += '<button id=\"ca-'+id+'-cancel-button\" class=\"btn btn-default cancelCampaignAffiliate hidden\" type=\"button\" data-id=\"'+id+'\"><span class=\"glyphicon glyphicon-circle-arrow-left\"></span></button>';\r\n\t\t\t\t\t\t\t\tactionCol += '<button id=\"ca-'+id+'-delete-button\" class=\"btn btn-default deleteCampaignAffiliate\" type=\"button\" data-id=\"'+id+'\"><span class=\"glyphicon glyphicon-trash\"></span></button>';\r\n\r\n\t\t\t\t\t\t\tvar dataRow = [\r\n\t\t\t\t\t\t\t\tid,\r\n\t\t\t\t\t\t\t\taff_name,\r\n\t\t\t\t\t\t\t\tleadTypeCol,\r\n\t\t\t\t\t\t\t\tleadValCol,\r\n\t\t\t\t\t\t\t\tactionCol\r\n\t\t\t\t\t\t\t];\r\n\r\n\t\t\t\t\t\t\t//add the row data\r\n\t\t\t\t\t\t\tvar rowNode = table.row.add(dataRow).draw().node();\r\n\t\t\t\t\t\t\tvar affRow = $(rowNode);\r\n\r\n\t\t\t\t\t\t\t// console.log(id);\r\n\t\t\t\t\t\t\tleadType_select = $('#ca-'+id+'-type-select').html(lead_cap_select);\r\n\t\t\t\t\t\t\t// console.log(leadType_select);\r\n\t\t\t\t\t\t\tleadType_select.find('select')\r\n\t\t\t\t\t\t\t\t.addClass('full_width_form_field')\r\n\t\t\t\t\t\t\t\t.val(0)\r\n\t\t\t\t\t\t\t\t.removeClass('this_field')\r\n\t\t\t\t\t\t\t\t.removeClass('hidden')\r\n\t\t\t\t\t\t\t\t.removeAttr('required')\r\n\t\t\t\t\t\t\t\t.removeAttr('name')\r\n\t\t\t\t\t\t\t\t.removeAttr('id');\r\n\t\t\t\t\t\t\tdCounter++;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// this_button.html('Add');\r\n\t\t\t\t\t\t//this_button.removeClass('disabled');\r\n\r\n\t\t\t\t\t\t$('#campaignAffiliateForm').collapse('hide');\r\n\r\n\t\t\t\t\t\tvar affiliate_count = $('select[name=\"affiliates[]\"] option').length;\r\n\t\t\t\t\t\tif(affiliate_count <= 10) $('select[name=\"affiliates[]\"]').attr('size', affiliate_count);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n\t$(document).on('click','.deleteCampaignAffiliate', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\t\tvar this_affiliate = $(this);\r\n\t\tvar id = $(this).data('id');\r\n\r\n\t\t$('input[name=\"select_affiliate[]\"]').prop('checked', false);\r\n\t\t$('input[name=\"select_affiliate[]\"][value=\"'+id+'\"]').prop('checked',true);\r\n\r\n\t\tconsole.log( $('input[name=\"select_affiliate[]\"]').serialize() );\r\n\r\n\t\t$('input[name=\"select_affiliate[]\"][value=\"'+id+'\"]').parents('tr').css('background-color','#ebccd1');\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete this Affiliate?');\r\n\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_campaign_affiliate';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n \t\t\t\tdata : $('input[name=\"select_affiliate[]\"]').serialize(), \r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\t// console.log(data);\r\n\t\t\t\t\tvar table = $('#campaign-affiliate-table').DataTable();\r\n\t\t\t\t\ttable.row(this_affiliate.parents('tr')).remove().draw();\r\n\r\n\t\t\t\t\t$('select[name=\"affiliates[]\"] option').remove();\r\n\t\t\t\t\tvar aff_select = $('select[name=\"affiliates[]\"]');\r\n\t\t\t\t\t$.each(data, function(index,value){\r\n\t\t\t\t\t\taff_select.append('<option value=\"'+index+'\">'+value+'</option>');\r\n\t\t\t\t\t});\t\t\r\n\t\t\t\t\tvar affiliate_count = $('select[name=\"affiliates[]\"] option').length;\r\n\t\t\t\t\tif(affiliate_count <= 10) $('select[name=\"affiliates[]\"]').attr('size', affiliate_count);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else {\r\n\t\t\t$('input[name=\"select_affiliate[]\"][value=\"'+id+'\"]').parents('tr').css('background-color','');\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('click','#deleteAffiliatesBtn', function() \r\n\t{\t\r\n\t\tvar selectedAffiliates = $('input[name=\"select_affiliate[]\"]:checked');\r\n\r\n\t\tselectedAffiliates.each(function() {\r\n\t\t\tvar id = $(this).val();\r\n\t\t\t$('input[name=\"select_affiliate[]\"][value=\"'+id+'\"]').parents('tr').css('background-color','#ebccd1');\r\n\t\t});\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete the ff. campaign affiliates?');\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_campaign_affiliate';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n\t\t\t\tdata : selectedAffiliates.serialize(), \r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\tvar table = $('#campaign-affiliate-table').DataTable();\r\n\t\t\t\t\tselectedAffiliates.each(function() {\r\n\t\t\t\t\t\tvar id = $(this).val();\r\n\t\t\t\t\t\ttable.row($('input[name=\"select_affiliate[]\"][value=\"'+id+'\"]').parents('tr')).remove().draw();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// console.log(data);\r\n\t\t\t\t\t$('select[name=\"affiliates[]\"] option').remove();\r\n\t\t\t\t\tvar aff_select = $('select[name=\"affiliates[]\"]');\r\n\t\t\t\t\t$.each(data, function(index,value){\r\n\t\t\t\t\t\taff_select.append('<option value=\"'+index+'\">'+value+'</option>');\r\n\t\t\t\t\t});\t\t\r\n\t\t\t\t\tvar affiliate_count = $('select[name=\"affiliates[]\"] option').length;\r\n\t\t\t\t\tif(affiliate_count <= 10) $('select[name=\"affiliates[]\"]').attr('size', affiliate_count);\r\n\r\n\t\t\t\t\t$('.selectAllCampaignAffiliate').prop('checked', false);\r\n\t\t\t\t\t$('.selectAllCampaignAffiliate').trigger('change');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else {\r\n\t\t\tselectedAffiliates.each(function() {\r\n\t\t\t\tvar id = $(this).val();\r\n\t\t\t\t$('input[name=\"select_affiliate[]\"][value=\"'+id+'\"]').parents('tr').css('background-color','');\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('click','.deleteCampaignPayout', function(e) \r\n\t{\t\r\n\t\te.preventDefault();\r\n\t\tvar this_filter = $(this);\r\n\t\tvar id = $(this).data('id');\r\n\r\n\t\t$('input[name=\"select_payout[]\"]').prop('checked', false);\r\n\t\t$('input[name=\"select_payout[]\"][value=\"'+id+'\"]').prop('checked',true);\r\n\r\n\t\t// console.log( $('input[name=\"select_payout[]\"]').serialize() );\r\n\r\n\t\t$('input[name=\"select_payout[]\"][value=\"'+id+'\"]').parents('tr').css('background-color','#ebccd1');\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete this campaign payout?');\r\n\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_campaign_payout';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n\t\t\t\tdata : $('input[name=\"select_payout[]\"]').serialize(), \r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\tvar table = $('#campaign-payout-table').DataTable();\r\n\t\t\t\t\ttable.row(this_filter.parents('tr')).remove().draw();\r\n\t\t\t\t\t$('#editPytAff').attr('disabled',true);\r\n\t\t\t\t\t$('#deletePytAff').attr('disabled',true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else {\r\n\t\t\t$('input[name=\"select_payout[]\"][value=\"'+id+'\"]').parents('tr').css('background-color','');\r\n\t\t}\r\n\t});\t\r\n\r\n\t/***\r\n\t*\tUpdate Value based on Value Type\r\n\t*/\r\n\t$('.filter_value_type').on('change', function() {\r\n\t\tvar value = $(this).val();\r\n\t\t\r\n\t\tvar text01 = $('#val-1-text-wrapper');\r\n\t\tvar select01 = $('#val-1-select-wrapper');\r\n\t\tvar input01 = $('#val-1-input-wrapper');\r\n\t\tvar date01 = $('#val-1-date-wrapper');\r\n\t\tvar array01 = $('#val-1-array-wrapper');\r\n\t\tvar time01 = $('#val-1-time-wrapper');\r\n\t\tvar input02 = $('#val-2-input-wrapper');\r\n\t\tvar date02 = $('#val-2-date-wrapper');\r\n\t\tvar time02 = $('#val-2-time-wrapper');\r\n\t\tvar wrapper02 = $('#filter_value_02_wrapper');\r\n\t\tvar label01 = $('label[for=\"filter_value_01\"]');\r\n\t\tvar label02 = $('label[for=\"filter_value_02\"]');\r\n\r\n\t\t//Clear Values\r\n\t\tinput01.find('input').val('');\r\n\t\tselect01.find('select').val('');\r\n\t\tdate01.find('input').val('');\r\n\t\ttime01.find('input').val('');\r\n\t\tinput02.find('input').val('');\r\n\t\tdate02.find('input').val('');\r\n\t\tarray01.find('textarea').val('');\r\n\t\ttime02.find('input').val('');\r\n\r\n\t\t//Clear Required\r\n\t\ttext01.find('input').removeAttr('required');\r\n\t\tinput01.find('input').removeAttr('required');\r\n\t\tselect01.find('select').removeAttr('required');\r\n\t\tdate01.find('input').removeAttr('required');\r\n\t\ttime01.find('input').removeAttr('required');\r\n\t\tinput02.find('input').removeAttr('required');\r\n\t\tdate02.find('input').removeAttr('required');\r\n\t\tarray01.find('textarea').removeAttr('required');\r\n\t\ttime02.find('input').removeAttr('required')\r\n\r\n\t\tif(value == 6) {\r\n\t\t\t//Time\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\ttime01.removeClass('hidden');\r\n\t\t\ttime01.find('input').attr('required',true);\r\n\t\t\t\r\n\t\t\tinput02.addClass('hidden');\r\n\t\t\tdate02.addClass('hidden');\r\n\t\t\ttime02.removeClass('hidden');\r\n\t\t\ttime02.find('input').attr('required',true);\r\n\r\n\t\t\twrapper02.removeClass('hidden');\r\n\r\n\t\t\tlabel01.html('Minimum Time');\r\n\t\t\tlabel02.html('Maximum Time');\r\n\t\t}\r\n\t\telse if(value == 5) {\r\n\t\t\t//Array\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\tarray01.removeClass('hidden');\r\n\t\t\tarray01.find('textarea').attr('required',true);\r\n\r\n\t\t\twrapper02.addClass('hidden');\r\n\r\n\t\t\tlabel01.html('Array');\r\n\t\t}else if(value == 4) {\r\n\t\t\t//Number\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\tinput01.removeClass('hidden');\r\n\t\t\tinput01.find('input').attr('required',true);\r\n\r\n\t\t\tdate02.addClass('hidden');\r\n\t\t\ttime02.addClass('hidden');\r\n\t\t\tinput02.removeClass('hidden');\r\n\t\t\tinput02.find('input').attr('required',true);\r\n\r\n\t\t\twrapper02.removeClass('hidden');\r\n\r\n\t\t\tlabel01.html('Minimum Number');\r\n\t\t\tlabel02.html('Maximum Number');\r\n\t\t}else if(value == 3) {\r\n\t\t\t//Date\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\tdate01.removeClass('hidden');\r\n\t\t\tdate01.find('input').attr('required',true);\r\n\t\t\t\r\n\t\t\tinput02.addClass('hidden');\r\n\t\t\ttime02.addClass('hidden');\r\n\t\t\tdate02.removeClass('hidden');\r\n\t\t\tdate02.find('input').attr('required',true);\r\n\r\n\t\t\twrapper02.removeClass('hidden');\r\n\r\n\t\t\tlabel01.html('Minimum Date');\r\n\t\t\tlabel02.html('Maximum Date');\r\n\t\t}else if(value == 2) {\r\n\t\t\t//Boolean\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\tselect01.removeClass('hidden');\r\n\t\t\tselect01.find('select').attr('required',true);\r\n\r\n\t\t\twrapper02.addClass('hidden');\r\n\r\n\t\t\tlabel01.html('Value');\r\n\t\t}else {\r\n\t\t\t//Text\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\ttext01.removeClass('hidden');\r\n\t\t\ttext01.find('input').attr('required',true);\r\n\r\n\t\t\twrapper02.addClass('hidden');\r\n\r\n\t\t\tlabel01.html('Value');\r\n\t\t}\r\n\t});\r\n\r\n\t/** \r\n\t* Close Filter Form Collapse\r\n\t*/\r\n\t$('.closeFilterCollapse').click(function() {\r\n\t\t$('#campaignFilterForm').collapse('hide');\r\n\t\tvar this_button = $('#addCmpFilter');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-plus\"></span>');\r\n\t\tthis_button.attr('data-collapse','show');\r\n\t\tthis_button.data('collapse','show');\r\n\t});\r\n\r\n\t/**\r\n\t* Display data of campaign filter for editing\r\n\t*/\r\n\t$(document).on('click','.editCampaignFilter', function() \r\n\t{\r\n\t\tvar this_modal = $('#campaignFilterForm');\r\n\t\tvar url = $('#baseUrl').html() + '/edit_campaign_filter';\r\n\r\n\t\tthis_modal.find('.this_form').attr('action',url);\r\n\t\tthis_modal.find('.this_form').data('process','edit_campaign_filter');\r\n\t\tthis_modal.find('.this_form').attr('data-process', 'edit_campaign_filter');\r\n\t\tthis_modal.find('.this_form').data('confirmation','Are you sure you want to edit this filter?');\r\n\t\tthis_modal.find('.this_form').attr('data-confirmation', 'Are you sure you want to edit this filter?');\r\n\t\t$('#for_filter_type').html('Edit Filter');\r\n\r\n\t\tvar this_filter = $(this);\r\n\t\tvar id = this_filter.data('id');\r\n\t\tvar value_type = this_filter.data('vtype');\r\n\t\tvar value01 = this_filter.data('value01');\r\n\t\tvar value02 = this_filter.data('value02');\r\n\t\tvar form_button = $('#addCmpFilter');\r\n\t\tvar form = $('#campaignFilterForm');\r\n\r\n\t\t// console.log(value01 + ' - ' + value02);\r\n\t\t\r\n\t\tform_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\tform_button.attr('data-collapse','hide');\r\n\t\tform_button.data('collapse','hide');\r\n\t\tform.collapse('show');\r\n\t\tform.find('#this_id').val(id);\r\n\r\n\t\tform.find('#filter_type').val(this_filter.data('ftype'));\r\n\t\tform.find('input[name=\"value_type\"][value=\"'+value_type+'\"]').prop('checked', true);\r\n\t\t$('input[name=\"value_type\"]:checked').trigger('change');\r\n\r\n\t\tswitch(parseInt(value_type)) {\r\n\t\t\tcase 1:\r\n\t\t\t\tform.find('input[name=\"filter_value_01_text\"]').val(value01);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tform.find('select[name=\"filter_value_01_select\"]').val(value01);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tform.find('input[name=\"filter_value_01_date\"]').val(value01);\r\n\t\t\t\tform.find('input[name=\"filter_value_02_date\"]').val(value02);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tform.find('input[name=\"filter_value_01_input\"]').val(value01);\r\n\t\t\t\tform.find('input[name=\"filter_value_02_input\"]').val(value02);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tform.find('textarea[name=\"filter_value_01_array\"]').val(value01);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tform.find('input[name=\"filter_value_01_time\"]').val(value01);\r\n\t\t\t\tform.find('input[name=\"filter_value_02_time\"]').val(value02);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t$('#filter_type').focus();\r\n\t});\r\n\t\r\n\t/**\r\n\t* Close Filter Collapse\r\n\t*/\r\n\t$('#campaignFilterForm').on('hidden.bs.collapse', function (event) \r\n\t{\r\n\t\t// console.log('wat');\r\n\t\tvar form = $(this).find('.this_form');\r\n\r\n\t\tform.find('.this_field').each(function() \r\n\t\t{\r\n\t\t\tif($(this).is(':radio')) {\r\n\t\t\t\t//check datepicker\r\n\t\t\t\t$('input[name=\"value_type\"][value=\"1\"]').prop('checked',true);\r\n\t\t\t\t$('input[name=\"value_type\"]:checked').trigger('change');\r\n\t\t\t}\r\n\t\t\t// else {\r\n\t\t\t// \t$(this).val('');\r\n\t\t\t// }\r\n\t\t});\r\n\r\n\t\tform.find('#filter_type').val('');\r\n\t\tform.find('#filter_value_01_text').val('');\r\n\t\tform.find('#filter_value_01_select').val('');\r\n\t\tform.find('#filter_value_01_date').val('');\r\n\t\tform.find('#filter_value_02_date').val('');\r\n\t\tform.find('#filter_value_01_input').val('');\r\n\t\tform.find('#filter_value_02_input').val('');\r\n\r\n\t\tform.find('.error').each(function(){\r\n\t\t\t$(this).removeClass('error');\r\n\t\t\t$(this).removeClass('error_field');\r\n\t\t\t$(this).removeClass('error_label');\r\n\t\t});\r\n\t\tform.find('.this_error_wrapper').hide();\r\n\t\t$('label[for=\"for_filter_type\"]').html('Add Filter');\r\n\t});\r\n\r\n\t/* PAYOUT */\r\n\r\n\t$('.capPytSelectAllAff').on('change', function (event) \r\n\t{\r\n\t\t$('.capPytSelectAllAff').prop('checked', $(this).prop(\"checked\"));\r\n\t\t$(\".selectCampaignPayout\").prop('checked', $(this).prop(\"checked\"));\r\n\t\t\r\n\t\tif($('.selectCampaignPayout:checked').length > 0) {\r\n\t\t\t$('#editPytAff').removeAttr('disabled');\r\n\t\t\t$('#deletePytAff').removeAttr('disabled');\r\n\t\t}else {\r\n\t\t\t$('#editPytAff').attr('disabled',true);\r\n\t\t\t$('#deletePytAff').attr('disabled',true);\r\n\t\t}\r\n\t});\r\n\r\n\t/** \r\n\t* Open Add Payout Form Collapse\r\n\t*/\r\n\t$('#campaignPayoutForm').on('show.bs.collapse', function () {\r\n\t\tvar this_button = $('#addPytAff');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t$('#editCampaignPayoutForm').collapse('hide');\r\n\t\t$('label[for=\"payout_title\"]').html('Add Affiliate Payout');\r\n\t});\r\n\r\n\t/** \r\n\t* Close Add Payout Form Collapse\r\n\t*/\r\n\t$('#campaignPayoutForm').on('hide.bs.collapse', function () {\r\n\t\t$('#payout_receivable').val('');\r\n\t\t$('#payout_payable').val('');\r\n\t\tvar this_button = $('#addPytAff');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-plus\"></span>');\r\n\t});\r\n\r\n\t$('.closePayoutCollapse').click(function() {\r\n\t\t$('#campaignPayoutForm').collapse('hide');\r\n\t});\r\n\r\n\t$(document).on('change','.selectCampaignPayout', function(e) \r\n\t{\r\n\t\tvar checkIfSelectAll = $('input[name=\"select_payout[]\"]:not(:checked)').length == 0;\r\n\t\tif(checkIfSelectAll == false) $('.capPytSelectAllAff').prop('checked', false);\r\n\t\telse $('.capPytSelectAllAff').prop('checked', true);\r\n\r\n\t\t//console.log($('.selectCampaignPayout:checked').length);\r\n\t\t$('#editCampaignPayoutForm').collapse('hide');\r\n\t\tif($('.selectCampaignPayout:checked').length > 0) {\r\n\t\t\t$('#editPytAff').removeAttr('disabled');\r\n\t\t\t$('#deletePytAff').removeAttr('disabled');\r\n\t\t}else {\r\n\t\t\t$('#editPytAff').attr('disabled',true);\r\n\t\t\t$('#deletePytAff').attr('disabled',true);\r\n\t\t}\r\n\t});\r\n\r\n\t$('#editCampaignPayoutForm').on('show.bs.collapse', function () {\r\n\t\tvar this_button = $('#editPytAff');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t$('#campaignPayoutForm').collapse('hide');\r\n\t\t$('label[for=\"payout_title\"]').html('Edit Affiliate Payout');\r\n\r\n\t\tvar checkedAffiliates = $('input[name=\"select_payout[]\"]:checked');\r\n\t\tif(checkedAffiliates.length == 1) var edit_info = '<strong>You are about to edit the affiliate:</strong><br> ';\r\n\t\telse var edit_info = '<strong>You are about to edit the following affiliates:</strong><br> ';\r\n\t\t\r\n\t\t$('#selectedPayoutDiv').html('');\r\n\t\tcheckedAffiliates.each(function() {\r\n\t\t\tedit_info += $(this).data('name') + ', ';\r\n\t\t\t$('#selectedPayoutDiv').append('<input name=\"selected_payout[]\" type=\"hidden\" value=\"'+$(this).val()+'\"/>');\r\n\t\t});\r\n\r\n\t\tedit_info = edit_info.substring(0,edit_info.length - 2);\r\n\t\tedit_info += '.';\r\n\t\t$('.listOfCampaignAffiliates').removeClass('hidden');\r\n\t\t$('.listOfCampaignAffiliates .panel-body').html(edit_info).show();\r\n\r\n\t\t//get value of first select\r\n\t\tvar first_id = $('input[name=\"select_payout[]\"]:checked').val();\r\n\t\tvar receivable = $('#cp-'+first_id+'-receivable').html();\r\n\t\tvar payable = $('#cp-'+first_id+'-payable').html();\r\n\t\t$('#edit_payout_receivable').val(receivable);\r\n\t\t$('#edit_payout_payable').val(payable);\r\n\r\n\t\t$('.selectCampaignPayout').attr('disabled',true);\r\n\t\t$('.capPytSelectAllAff').attr('disabled',true);\t\t\r\n\t\t$('.editCampaignPayout').attr('disabled',true);\r\n\r\n\t});\r\n\r\n\t$('#editCampaignPayoutForm').on('hide.bs.collapse', function () {\r\n\t\tvar this_button = $('#editPytAff');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\t$('label[for=\"payout_title\"]').html('Add Affiliate Payout');\r\n\t\t$('.editCampaignPayout').removeClass('disabled');\r\n\t\t$('.listOfCampaignAffiliates').addClass('hidden');\r\n\r\n\t\t$('.selectCampaignPayout').removeAttr('disabled');\r\n\t\t$('.capPytSelectAllAff').removeAttr('disabled');\r\n\t\t$('.editCampaignPayout').removeAttr('disabled');\r\n\t\t$('#selectedPayoutDiv').html('');\r\n\t});\r\n\r\n\t$('.closeEditPayoutCollapse').click(function() {\r\n\t\t$('#editCampaignPayoutForm').collapse('hide');\r\n\t});\r\n\r\n\t$(document).on('click','.editCampaignPayout', function(e) \r\n\t{\t\r\n\t\t$('.editCampaignPayout').addClass('disabled');\r\n\t\t$('#editCampaignPayoutForm').collapse('hide');\r\n\t\tvar id = $(this).data('id');\r\n\t\t$('.selectCampaignPayout').prop('checked',false);\r\n\t\t// $('.selectCampaignPayout[value=\"'+id+'\"]').prop('checked',true);\r\n\t\t$( '.selectCampaignPayout[value=\"'+id+'\"]' ).trigger( \"click\" );\r\n\t\t$('#editCampaignPayoutForm').collapse('show');\r\n\t});\r\n\r\n\t$(document).on('click','#deletePytAff', function() \r\n\t{\t\r\n\t\tvar selectedAffiliates = $('input[name=\"select_payout[]\"]:checked');\r\n\r\n\t\tselectedAffiliates.each(function() {\r\n\t\t\tvar id = $(this).val();\r\n\t\t\t$('input[name=\"select_payout[]\"][value=\"'+id+'\"]').parents('tr').css('background-color','#ebccd1');\r\n\t\t});\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete the ff. campaign payouts?');\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_campaign_payout';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n\t\t\t\tdata : selectedAffiliates.serialize(), \r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\tvar table = $('#campaign-payout-table').DataTable();\r\n\t\t\t\t\tselectedAffiliates.each(function() {\r\n\t\t\t\t\t\tvar id = $(this).val();\r\n\t\t\t\t\t\ttable.row($('input[name=\"select_payout[]\"][value=\"'+id+'\"]').parents('tr')).remove().draw();\r\n\t\t\t\t\t\t$('#editPytAff').attr('disabled',true);\r\n\t\t\t\t\t\t$('#deletePytAff').attr('disabled',true);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else {\r\n\t\t\tselectedAffiliates.each(function() {\r\n\t\t\t\tvar id = $(this).val();\r\n\t\t\t\t$('input[name=\"select_payout[]\"][value=\"'+id+'\"]').parents('tr').css('background-color','');\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t/* CONFIG */\r\n\t\r\n\t$(document).on('click','#editCmpConfig', function() \r\n\t{\r\n\t\tvar this_button = $(this);\r\n\t\tvar display = $(this).data('config');\r\n\r\n\t\tif(display == 'show') {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t\tthis_button.attr('data-config','hide').data('config','hide');\r\n\t\t\t$('#campConfigDiv').removeClass('hidden');\r\n\t\t\t$('.cmpCfg-form').removeClass('hidden');\r\n\t\t\t$('.cmpCfg-dsply').addClass('hidden');\r\n\t\t}else {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t\t$('#campConfigDiv').addClass('hidden');\r\n\t\t\t$('.cmpCfg-form').addClass('hidden');\r\n\t\t\t$('.cmpCfg-dsply').removeClass('hidden');\r\n\t\t}\r\n\t});\r\n\r\n\t$('.cancelCmpConfigEdit').click(function() {\r\n\t\tvar this_button = $('#editCmpConfig');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t$('#campConfigDiv').addClass('hidden');\r\n\t\t$('.cmpCfg-form').addClass('hidden');\r\n\t\t$('.cmpCfg-dsply').removeClass('hidden');\r\n\t});\r\n\r\n\t$('body').on('hidden.bs.modal', '#cmpConfigAutomationModal', function (e) \r\n\t// $('#cmpConfigAutomationModal').on('hide.bs.modal', function (event) \r\n\t{\r\n\t\tvar form = $(this).find('form');\r\n\t\tform.find('.this_field').val('');\r\n\t\t$('.postFieldTr').remove();\r\n\t\t$('#cmpConfigAutomationTable').hide();\r\n\t\t$('#cmpConfigAutomationSubmit').removeClass('disabled');\r\n\t});\r\n\r\n\tfunction addConfigField(field, value, count, ifFixed) {\r\n\t\tvar fixed_selected = '',\r\n\t\t\tfixed_displayed = 'style=\"display: none\"';\r\n\r\n\t\tif(ifFixed) {\r\n\t\t\tfixed_selected = 'selected';\r\n\t\t\tfixed_displayed = '';\r\n\t\t}\r\n\t\treturn '<tr class=\"postFieldTr\"><th>' + field + '</th>' +\r\n            '<td>' +  \r\n            '<select id=\"field['+ field +']\" name=\"field['+ field +']\" class=\"fieldSelect form-control this_field\" data-value=\"'+count+'\" required>' +\r\n                '<option value=\"\">Select Fields name</option>' +\r\n                '<option value=\"first_name\">first_name</option>' +\r\n                '<option value=\"last_name\">last_name</option>' +\r\n                '<option value=\"zip\">zip</option>' +\r\n                '<option value=\"city\">city</option>' +\r\n                '<option value=\"state\">state</option>' +\r\n                '<option value=\"ip\">ip</option>' +\r\n                '<option value=\"age\">age</option>' +\r\n                '<option value=\"rev_tracker\">rev_tracker</option>' +\r\n                '<option value=\"eiq_email\">eiq_email</option>' +\r\n                '<option value=\"dob\">dob</option>' +\r\n                '<option value=\"dobmonth\">dobmonth</option>' +\r\n                '<option value=\"dobday\">dobday</option>' +\r\n                '<option value=\"dobyear\">dobyear</option>' +\r\n                '<option value=\"gender\">gender</option>' +\r\n             \t'<option value=\"phone\">phone</option>' +\r\n             \t'<option value=\"address\">address</option>' +\r\n             \t'<option value=\"address1\">address1</option>' +\r\n                '<option value=\"datetime\">datetime</option>' +\r\n                '<option value=\"q1\">q1</option>' +\r\n                '<option value=\"q2\">q2</option>' +\r\n                '<option value=\"q3\">q3</option>' +\r\n                '<option value=\"q4\">q4</option>' +\r\n                '<option value=\"q5\">q5</option>' +\r\n                '<option value=\"q6\">q6</option>' +\r\n                '<option value=\"q7\">q7</option>' +\r\n                '<option value=\"q8\">q8</option>' +\r\n                '<option value=\"q9\">q9</option>' +\r\n                '<option value=\"q10\">q10</option>' +\r\n                '<option value=\"q11\">q11</option>' +\r\n                '<option value=\"q12\">q12</option>' +\r\n                '<option value=\"q13\">q13</option>' +\r\n                '<option value=\"q14\">q14</option>' +\r\n                '<option value=\"q15\">q15</option>' +\r\n                '<option value=\"q16\">q16</option>' +\r\n                '<option value=\"q17\">q17</option>' +\r\n                '<option value=\"q18\">q18</option>' +\r\n                '<option value=\"q19\">q19</option>' +\r\n                '<option value=\"q20\">q20</option>' +\r\n                '<option value=\"q21\">q21</option>' +\r\n                '<option value=\"q22\">q22</option>' +\r\n                '<option value=\"q23\">q23</option>' +\r\n                '<option value=\"q24\">q24</option>' +\r\n                '<option value=\"q25\">q25</option>' +\r\n                '<option value=\"q26\">q26</option>' +\r\n                '<option value=\"q27\">q27</option>' +\r\n                '<option value=\"q28\">q28</option>' +\r\n                '<option value=\"q29\">q29</option>' +\r\n                '<option value=\"q30\">q30</option>' +\r\n                '<option value=\"comments\">comments</option>' +\r\n                '<option value=\"comment2\">comment2</option>' +\r\n                '<option value=\"xxTrustedFormCertUrl\">xxTrustedFormCertUrl</option>' +\r\n                '<option value=\"fixed_data\" '+fixed_selected+'>Fixed Data</option>' +\r\n            '</select>'+\r\n            '<span id=\"fieldInput-'+ count +'\" class=\"fieldInput\" '+fixed_displayed+'><input  type=\"text\" name=\"fixed['+ field +']\" id=\"fixed['+ field +']\" placeholder=\"Enter Fix Value\" class=\"form-control this_field\" value=\"'+value+'\"/>'+\r\n            '</span>'+\r\n            '</td></tr>';\r\n\t}\r\n\r\n\t$(document).on('click','#cmpConfigAutomationBtn', function() \r\n\t{\r\n\t\tvar post_url = $('#cmpCfg-url-txt input').val(),\r\n\t\t\tpost_header = $('#cmpCfg-hdr-txt textarea').val(),\r\n\t\t\tpost_data = $('#cmpCfg-dta-txt textarea').val(),\r\n\t\t\tpost_data_fixed = $('#cmpCfg-dta-fv-txt textarea').val(),\r\n\t\t\tpost_data_map = $('#cmpCfg-map-txt textarea').val(),\r\n\t\t\tpost_method = $('#cmpCfg-mtd-txt select').val(),\r\n\t\t\tpost_success = $('#cmpCfg-scs-txt input').val(),\r\n\t\t\tform = $('#campaign_config_interface_form'),\r\n\t\t\tcampaign_id = $('#this_id.this_campaign').val();\r\n\r\n\t\tform.find('.this_campaign').val(campaign_id);\r\n\r\n\t\tif(post_url != '' || post_header != '' || post_data != '' || post_data_fixed != '' || post_data_map != '' \r\n\t\t\t|| post_method != null || post_success != '' ) {\r\n\t\t\t$('#cmpConfigAutomationTable').show();\r\n\t\t\t$('#cmpConfigAutomationSubmit').removeClass('disabled');\r\n\r\n\t\t\tform.find('#post_url').val(post_url);\r\n\t\t\tform.find('#post_header').val(post_header);\r\n\t\t\tform.find('#post_data_map').val(post_data_map);\r\n\t\t\tform.find('#post_method').val(post_method);\r\n\t\t\tform.find('#post_success').val(post_success);\r\n\r\n\t\t\tvar posting_url = post_url + '?';\r\n\t\t\tvar post_data_counter = 0;\r\n\r\n\t\t\tif(post_data_fixed != '' && post_data_fixed.includes('{') && post_data_fixed.includes('}')) {\r\n\t\t\t\tvar post_data_fixed_json = jQuery.parseJSON(post_data_fixed);\r\n\t\t\t\t\r\n\t\t\t\tvar post_data_fixed_counter = 0;\r\n\t\t\t\t$.each(post_data_fixed_json, function( field, value ) {\r\n\r\n\t\t\t\t\tposting_url += field + '=' + value + '&';\r\n\t\t\t\t  \tvar fieldData = addConfigField(field, value, post_data_counter, true);\r\n\t\t    \t\t$('#cmpConfigAutomationTable tbody #postDataMapDiv').before(fieldData);\r\n\t\t    \t\tpost_data_fixed_counter++;\r\n\t\t    \t\tpost_data_counter++;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif(post_data != '' && post_data.includes('{') && post_data.includes('}')) {\r\n\t\t\t\tvar post_data_json = jQuery.parseJSON(post_data);\r\n\r\n\t\t\t\t// var post_data_counter = 0;\r\n\t\t\t\t$.each(post_data_json, function( our, adv ) {\r\n\t\t\t\t\tposting_url += adv + '=' + our + '&';\r\n\t\t\t\t  \tvar fieldData = addConfigField(adv, '', post_data_counter, false);\r\n\t\t\t\t  \t\r\n\t\t    \t\t$('#cmpConfigAutomationTable tbody #postDataMapDiv').before(fieldData);\r\n\t\t    \t\tif($('select[name=\"field['+ adv +']\"] option[value=\"'+our+'\"]').length > 0) {\r\n\t\t    \t\t\t$('select[name=\"field['+ adv +']\"]').val(our);\r\n\t\t    \t\t}else {\r\n\t\t    \t\t\t$('select[name=\"field['+ adv +']\"]').prepend('<option value=\"'+our+'\" selected>'+our+'</option>');\r\n\t\t    \t\t}\r\n\t\t    \t\tpost_data_counter++;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif(posting_url.substring(posting_url.length-1) == \"&\") {\r\n\t\t\t\tposting_url = posting_url.substring(0, posting_url.length-1);\r\n\t\t\t}\r\n\r\n\t\t\tform.find('#posting_url').val(posting_url);\r\n\t\t}else {\r\n\t\t\t$('#cmpConfigAutomationSubmit').addClass('disabled');\r\n\t\t}\r\n\r\n\t\t$('#cmpConfigAutomationModal').modal('show');\r\n\t});\r\n\r\n\t$(document).on('click','#cmpConfigAutomationGenerate', function() \r\n\t{\r\n\t\tvar form = $('#campaign_config_interface_form'),\r\n\t\t\tposting_url = form.find('#posting_url').val();\r\n\r\n\t\t$('.postFieldTr').remove();\r\n\t\tif(posting_url.length != '') {\r\n\t\t\tvar getUrl = posting_url.substring(0,posting_url.indexOf('?')),\r\n\t\t   \t\thashes = posting_url.substring( posting_url.indexOf('?') + 1 ).split('&'),\r\n\t\t   \t\tvars = [],\r\n\t\t   \t\thash;\r\n\t\t   \r\n\t\t    // for (var i = 0; i < hashes.length; i++) {\r\n\t\t    for (var i = (hashes.length - 1); i >= 0; i--) {\r\n\t\t        var hash = hashes[i].split('='),\r\n\t\t        \tfieldName = hash[0];\r\n\t\t        vars.push(hash[0]);\r\n\t\t        // vars[hash[0]] = hash[1] + \" \";\r\n\r\n\t\t        var fieldData = addConfigField(fieldName, '', i, false);\r\n                        \r\n            \t$('#cmpConfigAutomationTable tbody #postHeaderDiv').after(fieldData);\r\n\t\t    } \r\n\t\t\t// console.log(getUrl);    \r\n\t  //   \tconsole.log(vars);\r\n\r\n\t    \tform.find('#post_url').val(getUrl);\r\n\r\n\t    \t$('#cmpConfigAutomationTable').show();\r\n\r\n\t    \t$('#cmpConfigAutomationSubmit').removeClass('disabled');\r\n\t\t}else {\r\n\t\t\talert(\"Please enter a posting url!\");\r\n\t\t}\r\n\t\t   \t\r\n\t});\r\n\r\n\tvar field_selected = [],\r\n\t\tfield_choices = [\r\n\t\t\t'first_name',\r\n\t\t\t'last_name',\r\n\t\t\t'zip',\r\n\t\t\t'city',\r\n\t\t\t'state',\r\n\t\t\t'ip',\r\n\t\t\t'age',\r\n\t\t\t'rev_tracker',\r\n\t\t\t'eiq_email',\r\n\t\t\t'dob',\r\n\t\t\t'gender',\r\n\t\t\t'phone',\r\n\t\t\t'address',\r\n\t\t\t'datetime',\r\n\t\t\t'q1',\r\n\t\t\t'q2',\r\n\t\t\t'q3',\r\n\t\t\t'q4',\r\n\t\t\t'q5',\r\n\t\t\t'q6',\r\n\t\t\t'q7',\r\n\t\t\t'q8',\r\n\t\t\t'q9',\r\n\t\t\t'q10',\r\n\t\t\t'fixed_data'\r\n\t\t];\r\n\r\n\t$(document).on('change','.fieldSelect',function() \r\n\t{\r\n\t    var forField = $(this).data('value'),\r\n\t    \tvalue = $(this).val();\r\n\t    if( value ==\"fixed_data\"){\r\n\t        $('#fieldInput-'+forField+'.fieldInput').show();\r\n\t        $('#fieldInput-'+forField+'.fieldInput').find('input').attr('required', true);\r\n\t    }\r\n\t    else{\r\n\t        $('#fieldInput-'+forField+'.fieldInput').hide();\r\n\t        $('#fieldInput-'+forField+'.fieldInput').find('input').removeAttr('required');\r\n\t    }\r\n\r\n\t    var field_selected = $.map($('.fieldSelect'), function (el) { \r\n        \tif(el.value != '' && el.value != 'fixed_data') {\r\n        \t\treturn el.value;\r\n        \t}\r\n        });\r\n        console.log(field_selected);\r\n\r\n        $('.fieldSelect').each(function(){\r\n        \tvar this_value = $(this).val();\r\n        \tconsole.log(this_value);\r\n        \t$(this).find('option').each(function() {\r\n    \t\t\tif(this_value != $(this).val() && field_selected.indexOf($(this).val()) >= 0) {\r\n    \t\t\t\t$(this).addClass('hidden');\r\n    \t\t\t}else{\r\n    \t\t\t\t$(this).removeClass('hidden');\r\n    \t\t\t}\r\n        \t});\r\n\t    });\r\n\t});\r\n\r\n\r\n\t/* CONTENT */\r\n\t\r\n\t$(document).on('submit','.noSendForm', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$(document).on('click','#editCampaignLongContent', function() \r\n\t{\r\n\r\n\t\tvar this_button = $(this);\r\n\t\tvar display = $(this).data('config');\r\n\r\n\t\tif(display == 'show') {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t\tthis_button.attr('data-config','hide').data('config','hide');\r\n\t\t\t$('.cmpLngCnt-form-wrapper').removeClass('hidden');\r\n\t\t\t$('#cmpCnt-long-content').removeAttr('disabled');\r\n\t\t\t\r\n\t\t}else {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t\t$('.cmpLngCnt-form-wrapper').addClass('hidden');\r\n\t\t\t$('#cmpCnt-long-content').attr('disabled',true);\r\n\t\t\t$('#cmpCnt-long-content').val($('#cmpCnt-long-actual').val());\r\n\t\t}\r\n\t});\r\n\r\n\t$('.cancelCampaignLongContentEdit').click(function() {\r\n\t\tvar this_button = $('#editCampaignLongContent');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t//$('.cmpCnt-dsply-wrapper').removeClass('hidden');\r\n\t\t$('.cmpLngCnt-form-wrapper').addClass('hidden');\r\n\t\t$('#cmpCnt-long-content').attr('disabled',true);\r\n\t\t$('#cmpCnt-long-content').val($('#cmpCnt-long-actual').val());\r\n\t});\r\n\r\n\t$(document).on('click','#editCampaignStackContent', function() \r\n\t{\r\n\t\tvar this_button = $(this);\r\n\t\tvar display = $(this).data('config');\r\n\r\n\t\tif(display == 'show') {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t\tthis_button.attr('data-config','hide').data('config','hide');\r\n\t\t\t//$('.cmpCnt-dsply-wrapper').addClass('hidden');\r\n\t\t\t$('.cmpStkCnt-form-wrapper').removeClass('hidden');\r\n\t\t\t$('#cmpCnt-stack-content').removeAttr('disabled');\r\n\t\t\tstackCodeMirror.setOption(\"readOnly\", false);\r\n\t\t}else {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t\t$('.cmpStkCnt-form-wrapper').addClass('hidden');\r\n\t\t\t$('#cmpCnt-stack-content').attr('disabled',true);\r\n\t\t\t$('#cmpCnt-stack-content').val($('#cmpCnt-stack-actual').val());\r\n\t\t\tstackCodeMirror.getDoc().setValue($('#cmpCnt-stack-actual').val());\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tstackCodeMirror.refresh();\r\n\t\t\t\tstackCodeMirror.setOption(\"readOnly\", true);\r\n\t\t\t},100);\r\n\t\t}\r\n\r\n\t\t$('#stack_content_tab .this_error_wrapper').hide();\r\n\t\t$('#stack_content_tab .this_error_wrapper .this_errors ul').remove();\r\n\t});\r\n\r\n\t$('.cancelCampaignStackContentEdit').click(function() {\r\n\t\tvar this_button = $('#editCampaignStackContent');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t//$('.cmpCnt-dsply-wrapper').removeClass('hidden');\r\n\t\t$('.cmpStkCnt-form-wrapper').addClass('hidden');\r\n\t\t$('#cmpCnt-stack-content').attr('disabled',true);\r\n\t\t$('#cmpCnt-stack-content').val($('#cmpCnt-stack-actual').val());\r\n\t\tstackCodeMirror.getDoc().setValue($('#cmpCnt-stack-actual').val());\r\n\t\tsetTimeout(function() {\r\n\t\t\tstackCodeMirror.refresh();\r\n\t\t\tstackCodeMirror.setOption(\"readOnly\", true);\r\n\t\t},100);\r\n\r\n\t\t$('#stack_content_tab .this_error_wrapper').hide();\r\n\t\t$('#stack_content_tab .this_error_wrapper .this_errors ul').remove();\r\n\t});\r\n\r\n\t$(document).on('click','#editCampaignHighPayingContent', function() \r\n\t{\r\n\r\n\t\tvar this_button = $(this);\r\n\t\tvar display = $(this).data('config');\r\n\r\n\t\tif(display == 'show') {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t\tthis_button.attr('data-config','hide').data('config','hide');\r\n\t\t\t//$('.cmpCnt-dsply-wrapper').addClass('hidden');\r\n\t\t\t$('.cmpHPCnt-form-wrapper').removeClass('hidden');\r\n\t\t\t$('#cmpCnt-hp-content').removeAttr('disabled');\r\n\t\t\t\r\n\t\t}else {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t\t$('.cmpHPCnt-form-wrapper').addClass('hidden');\r\n\t\t\t$('#cmpCnt-hp-content').attr('disabled',true);\r\n\t\t\t$('#cmpCnt-hp-content').val($('#cmpCnt-hp-actual').val());\r\n\t\t}\r\n\t});\r\n\r\n\t$('.cancelCampaignHighPayingContentEdit').click(function() {\r\n\t\tvar this_button = $('#editCampaignHighPayingContent');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t//$('.cmpCnt-dsply-wrapper').removeClass('hidden');\r\n\t\t$('.cmpHPCnt-form-wrapper').addClass('hidden');\r\n\t\t$('#cmpCnt-hp-content').attr('disabled',true);\r\n\t\t$('#cmpCnt-hp-content').val($('#cmpCnt-hp-actual').val());\r\n\t});\r\n\t\r\n\t$(document).on('click','.prvCampaignContent', function(e) \r\n\t{\t\r\n\t\te.preventDefault();\r\n\t\tvar type = $(this).data('type');\r\n\t\tvar url = $(this).attr('href');\r\n\t\tvar newForm = $('<form>', {\r\n\t        'action': url,\r\n\t        'target': '_blank',\r\n\t        'method' : 'POST'\r\n\t    }).append($('<input>', {\r\n\t        'name': 'content',\r\n\t        'value': $('#cmpCnt-content').val(),\r\n\t        'type': 'hidden'\r\n\t    })).append($('<input>',{\r\n\t    \t'name': '_token',\r\n\t    \t'value': $('meta[name=\"_token\"]').attr('content'),\r\n\t    \t'type': 'hidden'\r\n\t    })).append($('<input>',{\r\n\t    \t'name': 'type',\r\n\t    \t'value': type,\r\n\t    \t'type': 'hidden'\r\n\t    }));\r\n\t  \r\n\t    newForm.submit();\r\n\t});\r\n\r\n\t$(document).on('click','.prvCmpCnt', function(e) {\r\n\t\te.preventDefault();\r\n\t\tvar id = $('#this_campaign').val();\r\n\t\tvar url = $(this).attr('href') + id;\r\n\t\tvar win = window.open(url, '_blank');\r\n \t\twin.focus();\r\n\t});\r\n\r\n\t//SORT CAMPAIGNS\r\n\tvar sorted_campaigns = [];\r\n\tvar sorted = $( \"#campaign_sortable\" ).sortable({\r\n\t\tupdate: function (event, ui) {\r\n\t\t\tsorted_campaigns = $(this).sortable('serialize');\r\n\t        $('.saveSortedCampaignsBtn').show();\r\n    \t},\r\n    \tchange: function (event, ui) {\r\n\t\t\t$(ui.item).addClass('selected');\r\n    \t}\r\n\t});\t\r\n\r\n\t$(document).on('click','#sortCmpBtn', function(e) \r\n\t{\t\r\n\t\te.preventDefault();\r\n\r\n\t\tvar this_button = $(this);\r\n\t\tthis_button.find('span').removeClass().addClass('fa fa-spin fa-spinner');\r\n\t\t$('#sortByPriorityBtn').addClass('active');\r\n\t\t$('#sortByRevenueBtn').removeClass('active');\r\n\r\n\t\tvar the_url = $('#baseUrl').html() + '/get_campaigns_for_sort';\r\n\r\n\t\t$('#campaign_sortable tr').remove();\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype : 'POST',\r\n\t\t\turl  : the_url,\r\n\t\t\tsuccess : function(campaigns) {\r\n\t\t\t\tthis_button.find('span').removeClass().addClass('glyphicon glyphicon-sort-by-attributes');\r\n\t\t\t\t$('#current_sorting').html();\r\n\t\t\t\t$.each(campaigns, function(i, campaign) {\r\n\t\t\t\t\t$('#campaign-priority-sort').append('<tr id=\"cmpprt-'+campaign.id+'\"><td>'+campaign.priority+'</td><td>'+campaign.name+'</td><td>'+campaign.campaign_type+'</td><td>'+campaign.status+'</td></tr>');\r\n\t\t\t    \t$('#current_sorting').append('<input type=\"hidden\" name=\"old_prio[]\" value=\"'+campaign.id+'\">');\r\n\t\t\t    });\r\n\t\t\t    $('#sortCmpModal').modal('show');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\t\r\n\t/* SORT BY PRIORITY */\r\n\t$(document).on('click','#sortByPriorityBtn', function(e) \r\n\t{\t\r\n\t\te.preventDefault();\r\n\r\n\t\tvar this_button = $(this);\r\n\t\tthis_button.find('span').removeClass().addClass('fa fa-spin fa-spinner');\r\n\r\n\t\tvar the_url = $('#baseUrl').html() + '/get_campaigns_for_sort';\r\n\t\t\r\n\t\t$('#campaign_sortable tr').remove();\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype : 'POST',\r\n\t\t\turl  : the_url,\r\n\t\t\tsuccess : function(campaigns) {\r\n\t\t\t\t$('#sortByRevenueBtn').removeClass('active');\r\n\t\t\t\tthis_button.addClass('active');\r\n\t\t\t\tthis_button.find('span').removeClass().addClass('glyphicon glyphicon-sort-by-attributes');\r\n\t\t\t\t$('#current_sorting').html();\r\n\t\t\t\t$.each(campaigns, function(i, campaign) {\r\n\t\t\t\t\t$('#campaign-priority-sort').append('<tr id=\"cmpprt-'+campaign.id+'\"><td>'+campaign.priority+'</td><td>'+campaign.name+'</td><td>'+campaign.campaign_type+'</td><td>'+campaign.status+'</td></tr>');\r\n\t\t\t    \t$('#current_sorting').append('<input type=\"hidden\" name=\"old_prio[]\" value=\"'+campaign.id+'\">');\r\n\t\t\t    });\r\n\t\t\t    sorted_campaigns = $( \"#campaign_sortable\" ).sortable('serialize');\r\n\t\t\t    $('.saveSortedCampaignsBtn').show();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t/* SORT BY REVENUE */\r\n\t$(document).on('click','#sortByRevenueBtn', function(e) \r\n\t{\t\r\n\t\te.preventDefault();\r\n\r\n\t\tvar this_button = $(this);\r\n\t\tthis_button.find('span').removeClass().addClass('fa fa-spin fa-spinner');\r\n\r\n\t\tvar the_url = $('#baseUrl').html() + '/get_campaigns_by_revenue_for_sort';\r\n\t\t\r\n\t\t$('#campaign_sortable tr').remove();\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype : 'POST',\r\n\t\t\turl  : the_url,\r\n\t\t\tsuccess : function(campaigns) {\r\n\t\t\t\t$('#sortByPriorityBtn').removeClass('active');\r\n\t\t\t\tthis_button.addClass('active');\r\n\t\t\t\tthis_button.find('span').removeClass().addClass('glyphicon glyphicon-sort-by-attributes');\r\n\t\t\t\t$('#current_sorting').html();\r\n\t\t\t\t$.each(campaigns, function(i, campaign) {\r\n\t\t\t\t\t$('#campaign-priority-sort').append('<tr id=\"cmpprt-'+campaign.id+'\"><td>'+campaign.priority+'</td><td>'+campaign.name+'</td><td>'+campaign.campaign_type+'</td><td>'+campaign.status+'</td></tr>');\r\n\t\t\t    \t$('#current_sorting').append('<input type=\"hidden\" name=\"old_prio[]\" value=\"'+campaign.id+'\">');\r\n\t\t\t    });\r\n\t\t\t    sorted_campaigns = $( \"#campaign_sortable\" ).sortable('serialize');\r\n\t\t\t    $('.saveSortedCampaignsBtn').show();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(document).on('click','.saveSortedCampaignsBtn', function(e) \r\n\t{\t\r\n\t\te.preventDefault();\r\n\r\n\t\tvar this_button = $('.saveSortedCampaignsBtn');\r\n\t\tthis_button.html('<span class=\"fa fa-spin fa-spinner\"></span>');\r\n\r\n\t\tvar the_url = $('#baseUrl').html() + '/update_campaigns_priority';\r\n\r\n\t\t// console.log(sorted_campaigns);\r\n\t\t// console.log($('input[name=\"old_prio[]\"]').serialize());\r\n\t\t$.ajax({\r\n\t\t\ttype : 'POST',\r\n\t\t\turl  : the_url,\r\n\t\t\tdata : {\r\n\t\t\t\tcampaigns : sorted_campaigns,\r\n\t\t\t\tcurrent_sort : $('input[name=\"old_prio[]\"]').serialize()\r\n\t\t\t},\r\n\t\t\tsuccess : function(campaign_priority) {\r\n\t\t\t\t$('#campaign_sortable tr').remove();\r\n\t\t\t\t$('#current_sorting').empty();\r\n\t\t\t\t$.each(campaign_priority, function(i, new_sort) {\r\n\t\t\t\t\t$('#campaign-priority-sort').append('<tr id=\"cmpprt-'+new_sort.id+'\"><td>'+new_sort.priority+'</td><td>'+new_sort.name+'</td><td>'+new_sort.campaign_type+'</td><td>'+new_sort.status+'</td></tr>');\r\n\t\t\t    \t$('#current_sorting').append('<input type=\"hidden\" name=\"old_prio[]\" value=\"'+new_sort.id+'\">');\r\n\t\t\t    });\r\n\t\t\t\tthis_button.html('Update');\r\n\t\t\t\tthis_button.hide();\r\n\t\t\t\t$('#campaign_sortable tr').removeClass('selected');\r\n\t\t\t\tcampaign_datatable.ajax.reload(); \r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\t\r\n\t/* FILTER TYPE */\r\n\t/***\r\n\t*\tShow filter form\r\n\t*/\r\n\t$('#addCmpFilter').click(function() {\r\n\r\n\t\tvar this_modal = $('#campaignFilterForm');\r\n\t\tvar url = $('#baseUrl').html() + '/add_campaign_filter';\r\n\r\n\t\tthis_modal.find('.this_form').attr('action',url);\r\n\t\tthis_modal.find('.this_form').data('process','add_campaign_filter');\r\n\t\tthis_modal.find('.this_form').attr('data-process', 'add_campaign_filter');\r\n\t\tthis_modal.find('.this_form').data('confirmation','');\r\n\t\tthis_modal.find('.this_form').attr('data-confirmation', '');\r\n\t\t$('#for_filter_type').html('Add Filter');\r\n\t\t$('label[for=\"filter_group\"]').html('Add to Filter Group');\r\n\t\t$('.edit-filter-filter-group-help-block').addClass('hidden');\r\n\t\tthis_modal.find('#this_id').val('');\r\n\t});\r\n\r\n\t/**\r\n\t* Close Filter Collapse\r\n\t*/\r\n\t$('#campaignFilterForm').on('hide.bs.collapse', function (event) \r\n\t{\r\n\t\t// console.log('wat');\r\n\t\tvar form = $(this).find('.this_form');\r\n\r\n\t\tform.find('.this_field').each(function() \r\n\t\t{\r\n\t\t\tif($(this).is(':radio')) {\r\n\t\t\t\t$('input[name=\"value_type\"][value=\"1\"]').prop('checked',true);\r\n\t\t\t\t$('input[name=\"value_type\"]:checked').trigger('change');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tform.find('#filter_type').val('');\r\n\t\tform.find('#filter_value_01_text').val('');\r\n\t\tform.find('#filter_value_01_select').val('');\r\n\t\tform.find('#filter_value_01_date').val('');\r\n\t\tform.find('#filter_value_02_date').val('');\r\n\t\tform.find('#filter_value_01_input').val('');\r\n\t\tform.find('#filter_value_02_input').val('');\r\n\t\tform.find('.filterGroupList').val('');\r\n\r\n\t\tform.find('.error').each(function(){\r\n\t\t\t$(this).removeClass('error');\r\n\t\t\t$(this).removeClass('error_field');\r\n\t\t\t$(this).removeClass('error_label');\r\n\t\t});\r\n\t\tform.find('.this_error_wrapper').hide();\r\n\t\t$('label[for=\"for_filter_type\"]').html('Add Filter');\r\n\r\n\t\tvar this_button = $('#addCmpFilter');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-plus\"></span> Filter');\r\n\r\n\t});\r\n\t\r\n\t/**\r\n\t* Show Filter Collapse\r\n\t*/\r\n\t$('#campaignFilterForm').on('show.bs.collapse', function (event) \r\n\t{\r\n\t\t$('#campaignFilterGroupForm').collapse('hide');\r\n\r\n\t\tvar this_button = $('#addCmpFilter');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span> Filter');\r\n\t});\r\n\r\n\t/** \r\n\t* Close Filter Form Collapse\r\n\t*/\r\n\t$('.closeFilterCollapse').click(function() {\r\n\t\t$('#campaignFilterForm').collapse('hide');\r\n\t});\r\n\r\n\t/***\r\n\t*\tUpdate Value based on Value Type\r\n\t*/\r\n\t$('.filter_value_type').on('change', function() {\r\n\t\tvar value = $(this).val();\r\n\t\t\r\n\t\tvar text01 = $('#val-1-text-wrapper');\r\n\t\tvar select01 = $('#val-1-select-wrapper');\r\n\t\tvar input01 = $('#val-1-input-wrapper');\r\n\t\tvar date01 = $('#val-1-date-wrapper');\r\n\t\tvar array01 = $('#val-1-array-wrapper');\r\n\t\tvar time01 = $('#val-1-time-wrapper');\r\n\t\t// var file01 = $('#val-1-file-wrapper');\r\n\t\tvar input02 = $('#val-2-input-wrapper');\r\n\t\tvar date02 = $('#val-2-date-wrapper');\r\n\t\tvar time02 = $('#val-2-time-wrapper');\r\n\t\tvar wrapper02 = $('#filter_value_02_wrapper');\r\n\t\tvar label01 = $('label[for=\"filter_value_01\"]');\r\n\t\tvar label02 = $('label[for=\"filter_value_02\"]');\r\n\r\n\t\t//Clear Values\r\n\t\tinput01.find('input').val('');\r\n\t\tselect01.find('select').val('');\r\n\t\tdate01.find('input').val('');\r\n\t\ttime01.find('input').val('');\r\n\t\t// file01.find('input').val('');\r\n\t\tinput02.find('input').val('');\r\n\t\tdate02.find('input').val('');\r\n\t\tarray01.find('textarea').val('');\r\n\t\ttime02.find('input').val('');\r\n\r\n\t\t//Clear Required\r\n\t\ttext01.find('input').removeAttr('required');\r\n\t\tinput01.find('input').removeAttr('required');\r\n\t\tselect01.find('select').removeAttr('required');\r\n\t\tdate01.find('input').removeAttr('required');\r\n\t\ttime01.find('input').removeAttr('required');\r\n\t\t// file01.find('input').removeAttr('required');\r\n\t\tinput02.find('input').removeAttr('required');\r\n\t\tdate02.find('input').removeAttr('required');\r\n\t\tarray01.find('textarea').removeAttr('required');\r\n\t\ttime02.find('input').removeAttr('required')\r\n\r\n\t\tif(value == 6) {\r\n\t\t\t//Time\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\t// file01.addClass('hidden');\r\n\t\t\ttime01.removeClass('hidden');\r\n\t\t\ttime01.find('input').attr('required',true);\r\n\t\t\t\r\n\t\t\tinput02.addClass('hidden');\r\n\t\t\tdate02.addClass('hidden');\r\n\t\t\ttime02.removeClass('hidden');\r\n\t\t\ttime02.find('input').attr('required',true);\r\n\r\n\t\t\twrapper02.removeClass('hidden');\r\n\r\n\t\t\tlabel01.html('Minimum Time');\r\n\t\t\tlabel02.html('Maximum Time');\r\n\t\t}\r\n\t\telse if(value == 5) {\r\n\t\t\t//Array\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\t// file01.addClass('hidden');\r\n\t\t\tarray01.removeClass('hidden');\r\n\t\t\tarray01.find('textarea').attr('required',true);\r\n\r\n\t\t\twrapper02.addClass('hidden');\r\n\r\n\t\t\tlabel01.html('Array');\r\n\t\t}else if(value == 4) {\r\n\t\t\t//Number\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\t// file01.addClass('hidden');\r\n\t\t\tinput01.removeClass('hidden');\r\n\t\t\tinput01.find('input').attr('required',true);\r\n\r\n\t\t\tdate02.addClass('hidden');\r\n\t\t\ttime02.addClass('hidden');\r\n\t\t\tinput02.removeClass('hidden');\r\n\t\t\tinput02.find('input').attr('required',true);\r\n\r\n\t\t\twrapper02.removeClass('hidden');\r\n\r\n\t\t\tlabel01.html('Minimum Number');\r\n\t\t\tlabel02.html('Maximum Number');\r\n\t\t}else if(value == 3) {\r\n\t\t\t//Date\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\t// file01.addClass('hidden');\r\n\t\t\tdate01.removeClass('hidden');\r\n\t\t\tdate01.find('input').attr('required',true);\r\n\t\t\t\r\n\t\t\tinput02.addClass('hidden');\r\n\t\t\ttime02.addClass('hidden');\r\n\t\t\tdate02.removeClass('hidden');\r\n\t\t\tdate02.find('input').attr('required',true);\r\n\r\n\t\t\twrapper02.removeClass('hidden');\r\n\r\n\t\t\tlabel01.html('Minimum Date');\r\n\t\t\tlabel02.html('Maximum Date');\r\n\t\t}else if(value == 2) {\r\n\t\t\t//Boolean\r\n\t\t\ttext01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\t// file01.addClass('hidden');\r\n\t\t\tselect01.removeClass('hidden');\r\n\t\t\tselect01.find('select').attr('required',true);\r\n\r\n\t\t\twrapper02.addClass('hidden');\r\n\r\n\t\t\tlabel01.html('Value');\r\n\t\t}else {\r\n\t\t\t//Text\r\n\t\t\tselect01.addClass('hidden');\r\n\t\t\tdate01.addClass('hidden');\r\n\t\t\tinput01.addClass('hidden');\r\n\t\t\tarray01.addClass('hidden');\r\n\t\t\ttime01.addClass('hidden');\r\n\t\t\t// file01.addClass('hidden');\r\n\t\t\ttext01.removeClass('hidden');\r\n\t\t\ttext01.find('input').attr('required',true);\r\n\r\n\t\t\twrapper02.addClass('hidden');\r\n\r\n\t\t\tlabel01.html('Value');\r\n\t\t}\r\n\t});\r\n\r\n\t/**\r\n\t* Display data of campaign filter for editing\r\n\t*/\r\n\t$(document).on('click','.editCampaignFilter', function() \r\n\t{\r\n\t\tvar this_modal = $('#campaignFilterForm');\r\n\t\tvar url = $('#baseUrl').html() + '/edit_campaign_filter';\r\n\r\n\t\tthis_modal.find('.this_form').attr('action',url);\r\n\t\tthis_modal.find('.this_form').data('process','edit_campaign_filter');\r\n\t\tthis_modal.find('.this_form').attr('data-process', 'edit_campaign_filter');\r\n\t\tthis_modal.find('.this_form').data('confirmation','Are you sure you want to edit this filter?');\r\n\t\tthis_modal.find('.this_form').attr('data-confirmation', 'Are you sure you want to edit this filter?');\r\n\t\t$('#for_filter_type').html('Edit Filter');\r\n\r\n\t\tvar this_filter = $(this);\r\n\t\tvar id = this_filter.data('id');\r\n\t\tvar value_type = this_filter.data('vtype');\r\n\t\tvar value01 = this_filter.data('value01');\r\n\t\tvar value02 = this_filter.data('value02');\r\n\t\tvar filter_group_id = this_filter.data('group');\r\n\t\tvar form_button = $('#addCmpFilter');\r\n\t\tvar form = $('#campaignFilterForm');\r\n\t\t\r\n\t\tform.find('#this_id').val(id);\r\n\r\n\t\tform.find('#filter_type').val(this_filter.data('ftype'));\r\n\t\tform.find('input[name=\"value_type\"][value=\"'+value_type+'\"]').prop('checked', true);\r\n\t\t$('input[name=\"value_type\"]:checked').trigger('change');\r\n\r\n\t\tswitch(parseInt(value_type)) {\r\n\t\t\tcase 1:\r\n\t\t\t\tform.find('input[name=\"filter_value_01_text\"]').val(value01);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tform.find('select[name=\"filter_value_01_select\"]').val(value01);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tform.find('input[name=\"filter_value_01_date\"]').val(value01);\r\n\t\t\t\tform.find('input[name=\"filter_value_02_date\"]').val(value02);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tform.find('input[name=\"filter_value_01_input\"]').val(value01);\r\n\t\t\t\tform.find('input[name=\"filter_value_02_input\"]').val(value02);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tform.find('textarea[name=\"filter_value_01_array\"]').val(value01);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tform.find('input[name=\"filter_value_01_time\"]').val(value01);\r\n\t\t\t\tform.find('input[name=\"filter_value_02_time\"]').val(value02);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t$('label[for=\"filter_group\"]').html('Update Filter in Filter Group');\r\n\t\t$('.edit-filter-filter-group-help-block').removeClass('hidden');\r\n\t\t$('.filterGroupList').val(filter_group_id);//.attr('disabled','true');\r\n\r\n\t\tform.collapse('show');\r\n\t});\r\n\r\n\t/**\r\n\t* Delete data of campaign filter for editing\r\n\t*/\r\n\t$(document).on('click','.deleteCampaignFilter', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\t\tvar this_filter = $(this);\r\n\t\tvar id = $(this).data('id');\r\n\t\tvar filter_group_id = $(this).data('group');\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete this filter?');\r\n\r\n\t\tif(confirmation === true) {\r\n\t\t\t// console.log(id);\r\n\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_campaign_filter';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n\t\t\t\tdata : {\r\n\t\t\t\t\t'id'\t: \tid\r\n \t\t\t\t}, \r\n\t\t\t\tsuccess : function(data) {\r\n\r\n\t\t\t\t\tfilter_group_table = $('#cfg-'+filter_group_id+'-table');\r\n\r\n\t\t\t\t\tif( filter_group_table.length == 1) {\r\n\t\t\t\t\t\t//Filter Group Filter is Opened and Has Filterss\r\n\t\t\t\t\t\t$('#cfg-'+filter_group_id+'-view-button').trigger('click'); //Close\r\n\t\t\t\t\t\t$('#cfg-'+filter_group_id+'-view-button').trigger('click'); //Open\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\t//Filter Group Filter is Closed\r\n\t\t\t\t\t\t$('#cfg-'+filter_group_id+'-view-button').trigger('click'); //Open\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\t\r\n\t/* FILTER GROUP */\r\n\t/***\r\n\t*\tShow Add filter group form\r\n\t*/\r\n\t$('#addCmpFilterGroup').click(function() {\r\n\r\n\t\tvar this_modal = $('#campaignFilterGroupForm');\r\n\t\tvar url = $('#baseUrl').html() + '/add_campaign_filter_group';\r\n\r\n\t\tthis_modal.find('.this_form').attr('action',url);\r\n\t\tthis_modal.find('.this_form').data('process','add_campaign_filter_group');\r\n\t\tthis_modal.find('.this_form').attr('data-process', 'add_campaign_filter_group');\r\n\t\tthis_modal.find('.this_form').data('confirmation','');\r\n\t\tthis_modal.find('.this_form').attr('data-confirmation', '');\r\n\t\t$('#for_filter_type').html('Add Filter Group');\r\n\t\tthis_modal.find('#this_id').val('');\r\n\t});\r\n\r\n\t/***\r\n\t*\tShow Edit filter group form\r\n\t*/\r\n\t$(document).on('click','.editCampaignFilterGroup', function(e) {\r\n\t\tvar this_modal = $('#campaignFilterGroupForm');\r\n\t\tvar id = $(this).data('id');\r\n\t\tvar cfg = '#cfg-'+id+'-';\r\n\t\tvar url = $('#baseUrl').html() + '/edit_campaign_filter_group';\r\n\t\tthis_modal.find('.this_form').attr('action',url);\r\n\t\tthis_modal.find('.this_form').data('process','edit_campaign_filter_group');\r\n\t\tthis_modal.find('.this_form').attr('data-process', 'edit_campaign_filter_group');\r\n\t\tthis_modal.find('.this_form').data('confirmation','Are you sure you want to edit this filter group?');\r\n\t\tthis_modal.find('.this_form').attr('data-confirmation', 'Are you sure you want to edit this filter group?');\r\n\t\t$('#for_filter_type').html('Edit Filter Group');\r\n\r\n\t\tthis_modal.find('#this_id').val(id);\r\n\t\t$('#filter_group_name').val($(cfg + 'name').html());\r\n\t\t$('#filter_group_description').val($(cfg + 'desc').html());\r\n\t\t$('input[type=\"radio\"][name=\"filter_group_status\"][value=\"'+$(cfg + 'stat').data('status')+'\"]').prop('checked',true);\r\n\t\t$('#campaignFilterGroupForm').collapse('show');\r\n\t\t$('#filter_group_name').focus();\r\n\t});\r\n\r\n\t/***\r\n\t*\tDelete filter group form\r\n\t*/\r\n\t$(document).on('click','.deleteCampaignFilterGroup', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\t\tvar this_filter_group = $(this);\r\n\t\tvar id = $(this).data('id');\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete this filter group?');\r\n\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_campaign_filter_group';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n\t\t\t\tdata : {\r\n\t\t\t\t\t'id'\t: \tid\r\n \t\t\t\t}, \r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\tvar table = $('#campaign-filter-group-table').DataTable();\r\n\t\t\t\t\ttable.row(this_filter_group.parents('tr')).remove().draw();\r\n\t\t\t\t\t$('.filterGroupList option[value=\"'+id+'\"]').remove();\r\n\t\t\t\t\tvar length = $('.viewCampaignFilterGroup').length;\r\n\t\t\t\t    if(length > 0) {\r\n\t\t\t\t    \t$('.filterGroupList').attr('size',length);\r\n\t\t\t\t    \t$('#addCmpFilter').removeAttr('disabled');\r\n\t\t\t\t    }else {\r\n\t\t\t\t    \t$('#addCmpFilter').attr('disabled',true);\r\n\t\t\t\t    }\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t// Show Filter Group Filters\r\n    $('#campaign-filter-group-table tbody').on('click', '.viewCampaignFilterGroup', function () {\r\n        var button = $(this);\r\n        var filter_group_id = button.data('id');\r\n        var table = $('#campaign-filter-group-table').DataTable();\r\n        var tr = $(this).closest('tr');\r\n        var row = table.row( tr );\r\n\r\n \t\tvar the_url = $('#baseUrl').html() + '/get_campaign_filter_group_filters';\r\n \t\tvar more_info = '';\r\n\r\n        if ( row.child.isShown() ) {\r\n            // This row is already open - close it\r\n            row.child.hide();\r\n            tr.removeClass('shown');\r\n            button.html('<span class=\"glyphicon glyphicon-eye-open\"></span>');\r\n        }\r\n        else {\r\n            // Open this row\r\n            $.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n\t\t\t\tdata : {\r\n\t\t\t\t\tid : filter_group_id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess : function(filters) {\r\n\t\t\t\t\t// console.log(filters);\r\n\t\t\t\t\t// console.log(filters.length);\r\n\t\t\t\t\tif(filters.length > 0) {\r\n\t\t\t\t\t    $('.filter-group-filters-table').DataTable();\r\n\r\n\t\t\t\t\t    var table_id = 'cfg-'+filter_group_id+'-table';\r\n\t\t\t\t\t    var table_info = '<table id=\"'+table_id+'\" cellpadding=\"5\" cellspacing=\"0\" border=\"0\" class=\"table table-bordered filter-group-filters-table\" data-id=\"'+filter_group_id+'\">'+\r\n\t\t\t\t\t    \t'<thead>'+\r\n\t\t\t\t\t    \t\t'<tr>'+\r\n\t\t\t\t\t    \t\t\t'<th>Filter</th>'+\r\n\t\t\t\t\t    \t\t\t'<th>Value</th>'+\r\n\t\t\t\t\t    \t\t\t'<th></th>'+\r\n\t\t\t\t\t    \t\t'</tr>'+\r\n\t\t\t\t\t    \t'</thead>'+\r\n\t\t\t\t\t   \t'</table>';\r\n\t\t\t\t\t   \t\r\n\t\t\t\t\t   \tvar counter = 0;\r\n\t\t\t\t\t   \tvar filter_group_set = [];\r\n\t\t\t\t\t   \t$.each(filters, function(index,filter){\r\n\t\t\t\t\t   \t\tvar filter_id = filter['id'];\r\n\t\t\t\t\t\t\tvar filter_value_type = filter['value_type'];\r\n\t\t\t\t\t\t\tvar filter_value01,filter_value02;\r\n\r\n\t\t\t\t\t\t\tfilter_group_set[counter] = filter_value_type;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tswitch(filter_value_type) {\r\n\t\t\t\t\t\t\t\tcase 1 :\r\n\t\t\t\t\t\t\t\t\tfilter_value01 = filter['value_text'];\r\n\t\t\t\t\t\t\t\t\tfilter_value02 = '';\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 2 :\r\n\t\t\t\t\t\t\t\t\tfilter_value01 = filter['value_boolean'];\r\n\t\t\t\t\t\t\t\t\tfilter_value02 = '';\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 3 :\r\n\t\t\t\t\t\t\t\t\tfilter_value01 = filter['value_min_date'];\r\n\t\t\t\t\t\t\t\t\tfilter_value02 = filter['value_max_date'];\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 4 :\r\n\t\t\t\t\t\t\t\t\tfilter_value01 = filter['value_min_integer'];\r\n\t\t\t\t\t\t\t\t\tfilter_value02 = filter['value_max_integer'];\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 5 :\r\n\t\t\t\t\t\t\t\t\tfilter_value01 = filter['value_array'];\r\n\t\t\t\t\t\t\t\t\tfilter_value02 = '';\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tcase 6 :\r\n\t\t\t\t\t\t\t\t\tfilter_value01 = filter['value_min_time'];\r\n\t\t\t\t\t\t\t\t\tfilter_value02 = filter['value_max_time'];\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tfilter_value01 = '';\r\n\t\t\t\t\t\t\t\t\tfilter_value02 = '';\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar nameCol = '<span id=\"cf-'+filter_id+'-filter\">'+filter.filter_name+'</span>';\r\n\t\t\t\t\t\t\tvar valueCol = '<span id=\"cf-'+filter_id+'-value\">'+filter.value_value+'</span>';\r\n\t\t\t\t\t\t\tvar actionCol = '<button id=\"cf-'+filter_id+'-edit-button\" class=\"btn btn-default editCampaignFilter\" type=\"button\" data-id=\"'+filter_id+'\" data-group=\"'+filter_group_id+'\" data-ftype=\"'+filter['filter_type_id']+'\" data-vtype=\"'+filter_value_type+'\" data-value01=\"'+filter_value01+'\" data-value02=\"'+filter_value02+'\"><span class=\"glyphicon glyphicon-pencil\"></span></button>';\r\n\t\t\t\t\t\t\t\tactionCol += '<button id=\"cf-'+filter_id+'-delete-button\" class=\"btn btn-default deleteCampaignFilter\" type=\"button\" data-id=\"'+filter_id+'\" data-group=\"'+filter_group_id+'\"><span class=\"glyphicon glyphicon-trash\"></span></button>';\r\n\t\t\t\t\t\t\tfilter_group_set[counter] = [nameCol,valueCol,actionCol];\r\n\t\t\t\t\t\t\tcounter++;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\trow.child(table_info).show();\r\n\r\n\t\t\t\t\t\t$('#'+table_id).DataTable( {\r\n\t\t\t\t\t        data: filter_group_set,\r\n\t\t\t\t\t        bFilter: false, \r\n\t\t\t\t\t        bInfo: false,\r\n\t\t\t\t\t        \"sDom\": 'rt'\r\n\t\t\t\t\t    } );\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tmore_info = '<span id=\"cfg-'+filter_group_id+'-no-table\">No Filters.</span>'\r\n\t\t\t\t\t\trow.child(more_info).show();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t            \ttr.addClass('shown');\r\n\t            \tbutton.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t\t\t}\r\n\t\t\t});\r\n        }\r\n    });\r\n\r\n\t$('#campaignFilterGroupForm').on('hide.bs.collapse', function () {\r\n\t\tvar form = $(this).find('form');\r\n\t\tvar this_button = $('#addCmpFilterGroup');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-plus\"></span> Group');\r\n\t\t$('#for_filter_type').html('Add Filter');\r\n\r\n\t\t$('#filter_group_name').val('');\r\n\t\t$('#filter_group_description').val('');\r\n\t\t$('input[type=\"radio\"][name=\"filter_group_status\"][value=\"0\"]').prop('checked',true);\r\n\r\n\t\tform.find('.error').each(function(){\r\n\t\t\t$(this).removeClass('error');\r\n\t\t\t$(this).removeClass('error_field');\r\n\t\t\t$(this).removeClass('error_label');\r\n\t\t});\r\n\t\tform.find('.this_error_wrapper').hide();\r\n\t});\r\n\r\n\t$('#campaignFilterGroupForm').on('show.bs.collapse', function () {\r\n\r\n\t\t$('#campaignFilterForm').collapse('hide');\r\n\r\n\t\tvar this_button = $('#addCmpFilterGroup');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span> Group');\r\n\t});\r\n\t\r\n\t$('.closeFilterGroupCollapse').click(function() {\r\n\t\t$('#campaignFilterGroupForm').collapse('hide');\r\n\t});\r\n\r\n\t/* Open Filter Tab */\r\n\t$('[href=\"#filter_tab\"]').click(function(){\r\n\t\tif($('#campaign-filter-group-table tbody tr.shown').length == 0) {\r\n\t\t\t$('.viewCampaignFilterGroup').trigger('click'); //Open Filter Groups\r\n\t\t}\r\n\t});\r\n\r\n\t/* Posting Instructions */\r\n\t$(document).on('click','#editPostingInstruction', function() \r\n\t{\r\n\t\tvar this_button = $(this);\r\n\t\tvar display = $(this).data('config');\r\n\r\n\t\tif(display == 'show') {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t\tthis_button.attr('data-config','hide').data('config','hide');\r\n\t\t\t$('.cmpPI-form-wrapper').removeClass('hidden');\r\n\t\t\t// $('#cmp-posting-instruction').removeAttr('disabled');\r\n\t\t\t$('#cmp-sample-code').removeAttr('disabled');\r\n\t\t\t$('#cmp-posting-instruction').ckeditorGet().setReadOnly(false);\r\n\t\t}else {\r\n\t\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t\t$('.cmpPI-form-wrapper').addClass('hidden');\r\n\t\t\t// $('#cmp-posting-instruction').attr('disabled',true);\r\n\t\t\t$('#cmp-posting-instruction').val($('#cmp-posting-instruction-actual').val());\r\n\t\t\t$('#cmp-sample-code').attr('disabled',true);\r\n\t\t\t$('#cmp-sample-code').val($('#cmp-sample-code-actual').val());\r\n\t\t\t$('#cmp-posting-instruction').ckeditorGet().setReadOnly();\r\n\t\t}\r\n\t});\r\n\r\n\t$('.cancelCampaignPostingInstructionEdit').click(function() {\r\n\t\tvar this_button = $('#editPostingInstruction');\r\n\t\tthis_button.html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\tthis_button.attr('data-config','show').data('config','show');\r\n\t\t$('.cmpPI-form-wrapper').addClass('hidden');\r\n\t\t$('#cmp-posting-instruction').attr('disabled',true);\r\n\t\t$('#cmp-posting-instruction').val($('#cmp-posting-instruction-actual').val());\r\n\t\t$('#cmp-sample-code').attr('disabled',true);\r\n\t\t$('#cmp-sample-code').val($('#cmp-sample-code-actual').val());\r\n\t});\r\n\r\n\t$(document).on('click','#previewPostingInstruction', function() \r\n\t{\r\n\t\tvar posting_instruction = $('#cmp-posting-instruction-actual').val();\r\n\t\tvar sample_code = $('#cmp-sample-code-actual').val();\r\n\t\t$('#posting-tab.previewPostingInstruction').html(posting_instruction);\r\n\t\t$('.previewSampleCode').html(sample_code);\r\n\t\t$('#previewCampaignPostingInstructionModal').modal('show');\r\n\t});\r\n\r\n\t$('#previewCampaignPostingInstructionModal').on('hide.bs.modal', function (event) {\r\n\t\t$('#posting-tab.previewPostingInstruction').html('');\r\n\t\t$('.previewSampleCode').html('');\r\n\t});\r\n\r\n\t/**\r\n\t* Close SORT Campaigns Modal\r\n\t*/\r\n\t$('#sortCmpModal').on('hide.bs.modal', function (event) \r\n\t{\r\n\t\t$('.saveSortedCampaignsBtn').hide();\r\n\t});\r\n\r\n\t/* Stack Creative Tab */\r\n\r\n\t$.widget( \"ui.spinner\", $.ui.spinner, {\r\n        _buttonHtml: function() {\r\n            return \"\" +\r\n            \t'<a class=\"ui-spinner-button ui-spinner-up ui-corner-tr ui-button ui-widget ui-state-default ui-button-text-only\" tabindex=\"-1\" role=\"button\"><i class=\"fa fa-caret-up fa-sm\" aria-hidden=\"true\"></i></a>' +\r\n                '<a class=\"ui-spinner-button ui-spinner-down ui-corner-br ui-button ui-widget ui-state-default ui-button-text-only\" tabindex=\"-1\" role=\"button\"><i class=\"fa fa-caret-down fa-sm\" aria-hidden=\"true\"></i></a>';\r\n        }\r\n    });\r\n\r\n\t$( \".spinner\" ).spinner({\r\n      step: 0.01,\r\n      numberFormat: \"n\",\r\n      min: 0,\r\n      max: 1\r\n    });\r\n\r\n    var campaignCreativeID = 0, canEditCampaignCreative = true, canDeleteCampaignCreative = true;\r\n\r\n\tvar campaignCreativeTable = $('#campaign-stack-creative-table').DataTable({\r\n        responsive: true,\r\n        autoWidth: false,\r\n        'processing': true,\r\n    \t'serverSide': true,\r\n        \"order\": [[ 0, \"desc\" ]],\r\n        'columns': [\r\n\t\t\tnull,\r\n\t\t\t{ 'orderable': false },\r\n\t\t\t{ 'orderable': false },\r\n\t\t\t{ 'orderable': false }\r\n\t\t],\r\n        columnDefs: [\r\n        \t{ width: '10%', targets: 0 },\t                \r\n            { width: '55%', targets: 1 },\r\n            { width: '30%', targets: 2 },\r\n            { width: '5%', targets: 3 },\r\n        ],\r\n        \"bFilter\" : false,\r\n        \"bLengthChange\": false,\r\n        \"bInfo\": false,\r\n        \"bPaginate\": false,\r\n        'ajax':{\r\n\t\t\turl: $('#baseUrl').html() + '/get_campaign_creative',\r\n\t\t\ttype: 'post', \r\n\t\t\t'data': function(d)\r\n            {\r\n            \t// console.log('Campaign ID: ' + $('.this_campaign').val());\r\n                // d.campaign_id = $('.this_campaign').val();\r\n                d.campaign_id = $('#campaign_form_builder').find('.this_campaign').val();\r\n            },\r\n\t\t\terror: function(data) //error handling\r\n\t\t\t{\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t},\r\n\t\t\t\"dataSrc\": function ( json ) {\r\n        \t\tconsole.log(json);\r\n        \t\tcanEditCampaignCreative = json.canEdit;\r\n\t\t\t\tcanDeleteCampaignCreative = json.canDelete;\r\n\r\n\t\t\t\tif(! json.canAdd) {\r\n\t\t\t\t\t$('#addCampCreative').hide();\r\n\t\t\t\t}else {\r\n\t\t\t\t\t$('#addCampCreative').show();\r\n\t\t\t\t}\r\n        \t\treturn json.data;\r\n        \t}\r\n\t\t},\r\n\t\t\"sDom\": 'lf<\"campaign-stack-creative-table-add-toolbar\">rtip',\r\n        \"fnDrawCallback\": function( oSettings ) {\r\n            // console.log(oSettings);\r\n            campaignCreativeID =  $('.this_campaign').val();\r\n        \t$('.stackCreativeDesc').ckeditor({\r\n\t\t    \ttoolbarGroups : [\r\n\t\t\t\t\t{ name: 'clipboard', groups: [ 'clipboard', 'undo' ] },\r\n\t\t\t\t\t{ name: 'editing', groups: [ 'find', 'selection', 'spellchecker', 'editing' ] },\r\n\t\t\t\t\t{ name: 'forms', groups: [ 'forms' ] },\r\n\t\t\t\t\t{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },\r\n\t\t\t\t\t{ name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ] },\r\n\t\t\t\t\t{ name: 'links', groups: [ 'links' ] },\r\n\t\t\t\t\t{ name: 'insert', groups: [ 'insert' ] },\r\n\t\t\t\t\t{ name: 'styles', groups: [ 'styles' ] },\r\n\t\t\t\t\t{ name: 'colors', groups: [ 'colors' ] },\r\n\t\t\t\t\t{ name: 'document', groups: [ 'mode', 'document', 'doctools' ] },\r\n\t\t\t\t\t{ name: 'tools', groups: [ 'tools' ] },\r\n\t\t\t\t\t{ name: 'others', groups: [ 'others' ] },\r\n\t\t\t\t\t{ name: 'about', groups: [ 'about' ] }\r\n\t\t\t\t],\r\n\t\t    \tremoveButtons : 'Save,NewPage,Preview,Print,Templates,Cut,Copy,Paste,PasteText,PasteFromWord,Redo,Undo,Find,Replace,SelectAll,Scayt,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,RemoveFormat,Language,BidiRtl,BidiLtr,Link,Unlink,Anchor,Image,Flash,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,ShowBlocks,About'\r\n\t\t    });\r\n        \t\r\n\t\t    $( \".spinner\" ).spinner({\r\n\t\t      step: 0.01,\r\n\t\t      numberFormat: \"n\",\r\n\t\t      min: 0,\r\n\t\t      max: 1,\r\n\t\t      change: function( event, ui ) {\r\n\t\t      \t$('#'+event.currentTarget.id).parent('span.ui-spinner').removeClass('error_element');\r\n\t\t      \tif(! $(this).spinner('isValid')) {\r\n\t\t      \t\t$('#'+event.currentTarget.id).parent('span.ui-spinner').addClass('error_element');\r\n\t\t      \t}\r\n\t\t      \t// var value = parseInt(event.currentTarget.value);\r\n\t\t      }\r\n\t\t    });\r\n\t\t    $( \".spinner\" ).spinner(\"disable\");\r\n\r\n\t\t    if(canEditCampaignCreative == false) {\r\n\t\t    \t$('.editCampaignCreative').hide();\r\n\t\t    }\r\n\r\n\t\t    if(canDeleteCampaignCreative == false) {\r\n\t\t    \t$('.deleteCampaignCreative').hide();\r\n\t\t    }\r\n        }\r\n    });\r\n    $(\"div.campaign-stack-creative-table-add-toolbar\").html('<button id=\"addCampCreative\" class=\"btn btn-default pull-right\" type=\"button\"><span class=\"glyphicon glyphicon-plus\"></span></button>');\r\n    \r\n\t// $(document).on('click','[href=\"#stack_content_tab\"]', function() \r\n\t// {\r\n\t// \tif($('.this_campaign').val() != campaignCreativeID) {\r\n\t// \t\tcampaignCreativeTable.ajax.reload();\r\n\t// \t}\r\n\t// });\r\n\r\n\t$(document).on('click','.editCampaignCreative', function() \r\n\t{\r\n\t\tvar id = $(this).data('id');\r\n\t\tvar type = $(this).data('type');\r\n\t\tif(type == 'edit') {\r\n\t\t\t$('#cmpCrtv-'+id+'-desc').ckeditorGet().setReadOnly(false);\r\n\t\t\t$('#cmpCrtv-'+id+'-weight').spinner('enable');\r\n\t\t\t$('#cmpCrtv-'+id+'-imgLinkDiv').show();\r\n\t\t\t$(this).html('<span class=\"glyphicon glyphicon-remove\"></span>');\r\n\t\t\t$('#cmpCrtv-'+id+'-save-button').show();\r\n\t\t\t$(this).data('type','cancel');\r\n\t\t}else {\r\n\t\t\t$('#cmpCrtv-'+id+'-desc').ckeditorGet().setReadOnly(true);\r\n\t\t\t$('#cmpCrtv-'+id+'-desc').val($('#cmpCrtv-'+id+'-desc-original').val());\r\n\t\t\t$('#cke_cmpCrtv-'+id+'-desc').removeClass('error_element');\r\n\t\t\t$('#cmpCrtv-'+id+'-weight').spinner('disable').val($('#cmpCrtv-'+id+'-weight-original').val());\r\n\t\t\t$('#cmpCrtv-'+id+'-weight').parent('span.ui-spinner').removeClass('error_element');\r\n\t\t\tvar image_link = $('#cmpCrtv-'+id+'-img-original').val();\r\n\t\t\t$('#cmpCrtv-'+id+'-imgLinkDiv').hide();\r\n\t\t\t$('#cmpCrtv-'+id+'-img-preview').attr('src',image_link);\r\n\t\t\t$('#cmpCrtv-'+id+'-img').val(image_link).removeClass('error_field error error_element');\r\n\t\t\t$('#cmpCrtv-'+id+'-imgGalleryAlert').remove();\r\n\t\t\t$(this).html('<span class=\"glyphicon glyphicon-pencil\"></span>');\r\n\t\t\t$('#cmpCrtv-'+id+'-save-button').hide();\r\n\t\t\t$(this).data('type','edit');\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('change','.campaignCreativeImageLink', function() \r\n\t{\r\n\t\tvar this_input = $(this);\r\n\t\tvar id = $(this).data('id');\r\n\t\tvar has_error = false;\r\n\r\n\t\tthis_input.removeClass('error_field error');\r\n\r\n\t\t$('#cmpCrtv-'+id+'-img-preview')\r\n\t\t    .on('load', function() { console.log(\"image loaded correctly\"); })\r\n\t\t    .on('error', function() { \r\n\t\t    \tif(this_input.val() != '') {\r\n\t\t    \t\tconsole.log(this_input.val());\r\n\t\t    \t\tthis_input.addClass('error_field error').val('');\r\n\t\t    \t\tconsole.log(\"error loading image\"); \r\n\t\t    \t\thas_error = true;\r\n\t\t    \t}\r\n\t\t    })\r\n\t\t    .attr(\"src\", $(this).val());\r\n\t\t;\r\n\r\n\t\tvar gallery_alert = '<div id=\"cmpCrtv-'+id+'-imgGalleryAlert\" class=\"col-md-12 alert alert-info\" role=\"alert\" style=\"margin-top: 10px;\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">×</span></button>It is recommended that the image comes from our very own <a href=\"'+$('#baseUrl').html()+'/admin/gallery\" class=\"alert-link\" target=\"_blank\">gallery</a></div>';\r\n\t\tif ($(this).val().indexOf($('#baseUrl').html()+'/images/gallery/') < 0 && $('#cmpCrtv-'+id+'-imgGalleryAlert').length == 0) {\r\n\t\t\tconsole.log('not from gallery');\r\n\t\t\t$('#cmpCrtv-'+id+'-imgLinkDiv').after(gallery_alert);\r\n\t\t}\r\n\t\telse console.log('from gallery');\r\n    });\r\n\r\n\t$(document).on('click','.saveCampaignCreative', function() \r\n\t{\r\n\t\tvar id = $(this).data('id'),\r\n\t\t\tweight = $('#cmpCrtv-'+id+'-weight').val(),\r\n\t\t\timage = $('#cmpCrtv-'+id+'-img').val(),\r\n\t\t\tdescription = $.trim(CKEDITOR.instances['cmpCrtv-'+id+'-desc'].getData()),\r\n\t\t\torg_weight = $('#cmpCrtv-'+id+'-weight-original').val(),\r\n\t\t\torg_desc = $('#cmpCrtv-'+id+'-desc-original').val(),\r\n\t\t\torg_img = $('#cmpCrtv-'+id+'-img-original').val();\r\n\r\n\t\tif( description == '' ) {\r\n\t\t\t$('#cke_cmpCrtv-'+id+'-desc').addClass('error_element');\r\n\t\t}else {\r\n\t\t\t$('#cke_cmpCrtv-'+id+'-desc').removeClass('error_element');\r\n\t\t}\r\n\r\n\t\tif( image == '' ) {\r\n\t\t\t$('#cmpCrtv-'+id+'-img').addClass('error_element');\r\n\t\t}else {\r\n\t\t\t$('#cmpCrtv-'+id+'-img').removeClass('error_element');\r\n\t\t}\r\n\r\n\t\tif($('#cmpCrtv-'+id+'-weight').spinner('isValid') && ! $('#cmpCrtv-'+id+'-img').hasClass('error') && image != '' && description != '' ) { //check if no errors\r\n\t\t\tif(weight !=  org_weight || image != org_img || description != org_desc) { //check if has changes\r\n\t\t\t\tvar confirmation = confirm('Are you sure you want to edit this creative?');\r\n\t\t\t\tif(confirmation === true) {\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\t\turl: $('#baseUrl').val() + '/edit_campaign_creative',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tid : id,\r\n\t\t\t\t\t\t\tweight: weight,\r\n\t\t\t\t\t\t\timage : image,\r\n\t\t\t\t\t\t\tdescription : description\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess: function(data)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t\t\t$('#cmpCrtv-'+id+'-weight-original').val(weight);\r\n\t\t\t\t\t\t\t$('#cmpCrtv-'+id+'-desc-original').val(description);\r\n\t\t\t\t\t\t\t$('#cmpCrtv-'+id+'-img-original').val(image);\r\n\t\t\t\t\t\t\t$('#cmpCrtv-'+id+'-edit-button').trigger('click');\r\n\r\n\t\t\t\t\t\t\talert('Campaign Creative updated!');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t\tconsole.log('no changes');\r\n\t\t\t\t$('#cmpCrtv-'+id+'-edit-button').trigger('click');\r\n\t\t\t}\r\n\t\t}else console.log('NOT A CHANCE');\r\n\t});\r\n\r\n\t$(document).on('click','#addCampCreative', function() \r\n\t{\r\n\t\tvar id = $('#campaign_form_builder').find('.this_campaign').val();\r\n\t\t$.ajax({\r\n\t\t\ttype: 'POST',\r\n\t\t\turl: $('#baseUrl').val() + '/add_campaign_creative',\r\n\t\t\tdata: {\r\n\t\t\t\tid : id\r\n\t\t\t},\r\n\t\t\tsuccess: function(data)\r\n\t\t\t{\r\n\t\t\t\tcampaignCreativeTable.order([]);\r\n\t\t\t\tcampaignCreativeTable.ajax.reload();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(document).on('click','.deleteCampaignCreative', function() \r\n\t{\r\n\t\tconsole.log('Delete');\r\n\t\tvar id = $(this).data('id'),\r\n\t\t\tthis_button = $(this);\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete this creative?');\r\n\t\tif(confirmation === true) {\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\turl: $('#baseUrl').val() + '/delete_campaign_creative',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tid : id\r\n\t\t\t\t},\r\n\t\t\t\tsuccess: function(data)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis_button.parents('tr').remove();\r\n\t\t\t\t\tif($('#campaign-stack-creative-table tbody tr').length < 4) {\r\n\t\t\t\t\t\t$('#addCampCreative').show();\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\t$('#addCampCreative').hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n    /**\r\n     * campaign_checkeditor.js section\r\n     */\r\n    $('#cmp-posting-instruction').ckeditor({\r\n        // uiColor: '#9AB8F3'\r\n        removeButtons : 'Underline,Subscript,Superscript,Scayt,RemoveFormat,About,Copy,Paste,PasteText,PasteFromWord,Cut,Anchor'\r\n    });\r\n\r\n    /* EIQ Iframe Traffic */\r\n    var websiteAffiliateId = 0;\r\n\r\n\tvar affiliateWebsiteTable = $('#affiliate-website-table').DataTable({\r\n        responsive: true,\r\n        autoWidth: false,\r\n        'processing': true,\r\n    \t'serverSide': true,\r\n        \"order\": [[ 1, \"desc\" ]],\r\n        'columns': [\r\n        \t{ 'orderable': false },\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\t{ 'orderable': false },\r\n\t\t],\r\n        'ajax':{\r\n\t\t\turl: $('#baseUrl').html() + '/get_affiliate_website',\r\n\t\t\ttype: 'post', \r\n\t\t\t'data': function(d)\r\n            {\r\n                d.affiliate_id = websiteAffiliateId;\r\n            },\r\n\t\t\terror: function(data) //error handling\r\n\t\t\t{\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t},\r\n\t\t\t\"dataSrc\": function ( json ) {\r\n        \t\t// console.log(json);\r\n    //     \t\tcanEditCampaignCreative = json.canEdit;\r\n\t\t\t\t// canDeleteCampaignCreative = json.canDelete;\r\n\r\n\t\t\t\t// if(! json.canAdd) {\r\n\t\t\t\t// \t$('#addCampCreative').hide();\r\n\t\t\t\t// }else {\r\n\t\t\t\t// \t$('#addCampCreative').show();\r\n\t\t\t\t// }\r\n        \t\treturn json.data;\r\n        \t}\r\n\t\t}\r\n    });\r\n\r\n    $(document).on('click','.eiqFrameTraffic', function() \r\n\t{\r\n\t\tvar id = $(this).data('id'),\r\n\t\t\tthis_button = $(this);\r\n\r\n\t\taffiliateWebsiteTable.clear().draw();\r\n\r\n\t\twebsiteAffiliateId = id;\r\n\t\taffiliateWebsiteTable.ajax.reload(); \r\n\t\t$('#affiliate_for_website_title').html(id);\r\n\t\t$('#website_affiliate').val(id);\r\n\t\t$('#affiliateWebsiteDiv').show();\r\n\t\t$('#campaignAffiliateDiv').hide();\r\n\t\t$('#campaignAffiliateForm').collapse('hide');\r\n\t\t$('#editCampaignAffiliateForm').collapse('hide');\r\n\t\t$('.selectCampaignAffiliate').prop('checked', false).trigger('change');\r\n\t\t$('.selectAllCampaignAffiliate').prop('checked', false);\r\n\t\t$('.selectAllAffiliateWebsite').prop('checked', false);\r\n\t\t$('.selectAffiliateWebsite').prop('checked', false);\r\n\r\n\t\t$('.editCampaignAffiliate').attr('disabled',true);\r\n\t\t$('.deleteCampaignAffiliate').attr('disabled', true);\r\n\t\t$('.eiqFrameTraffic').attr('disabled', true);\r\n\t\t$('.selectAllCampaignAffiliate').attr('disabled',true);\r\n\t\t$('.selectCampaignAffiliate').attr('disabled',true);\r\n\t\t\r\n\t\t// console.log(id);\r\n\t});\r\n\r\n\t$(document).on('click','#backToCampaignAffiliateBtn', function() \r\n\t{\r\n\t\t$('#affiliateWebsiteDiv').hide();\r\n\t\t$('#campaignAffiliateDiv').show();\r\n\t\t$('#affiliateWebsiteForm').collapse('hide');\r\n\r\n\t\t$('.editCampaignAffiliate').removeAttr('disabled');\r\n\t\t$('.deleteCampaignAffiliate').removeAttr('disabled');\r\n\t\t$('.eiqFrameTraffic').removeAttr('disabled');\r\n\t\t$('.selectAllCampaignAffiliate').removeAttr('disabled');\r\n\t\t$('.selectCampaignAffiliate').removeAttr('disabled');\r\n\t});\r\n\r\n\r\n\t$(document).on('click','#addAffiliateWebsite', function() \r\n\t{\r\n\t\t$('.selectCampaignAffiliate').prop('checked', false).trigger('change');\r\n\t\t$('.selectAllCampaignAffiliate').prop('checked', false);\r\n\t\t$('.selectAllAffiliateWebsite').prop('checked', false);\r\n\t\t$('.selectAffiliateWebsite').prop('checked', false);\r\n\t\t// console.log(id);\r\n\t});\r\n\t\r\n\t$(document).on('click','.closeAffiliateWebsiteCollapse', function() \r\n\t{\r\n\t\t$('#affiliateWebsiteForm').collapse('hide');\r\n\t});\r\n\r\n\t$(document).on('change','.selectAffiliateWebsite', function()\r\n\t{\r\n\t\tvar checkIfSelectAll = $('input[name=\"website_id[]\"]:not(:checked)').length == 0;\r\n\t\tif(checkIfSelectAll == false) $('.selectAllAffiliateWebsite').prop('checked', false);\r\n\t\telse $('.selectAllAffiliateWebsite').prop('checked', true);\r\n\r\n\r\n\t\tif($('[name=\"website_id[]\"]:checked').length > 1) {\r\n\t\t\t$('#editAffilateWebsitesBtn').removeAttr('disabled');\r\n\t\t\t$('#deleteAffiliateWebsitesBtn').removeAttr('disabled');\r\n\t\t}else {\r\n\t\t\t$('#editAffilateWebsitesBtn').attr('disabled',true);\r\n\t\t\t$('#deleteAffiliateWebsitesBtn').attr('disabled',true);\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('change','.selectAllAffiliateWebsite', function()\r\n\t{\r\n\t\t$('[name=\"website_id[]\"]').prop('checked', $(this).prop(\"checked\"));\r\n\t\t$('.selectAllAffiliateWebsite').prop('checked', $(this).prop(\"checked\"));\r\n\r\n\t\tif($('[name=\"website_id[]\"]:checked').length > 1) {\r\n\t\t\t$('#editAffilateWebsitesBtn').removeAttr('disabled');\r\n\t\t\t$('#deleteAffiliateWebsitesBtn').removeAttr('disabled');\r\n\t\t}else {\r\n\t\t\t$('#editAffilateWebsitesBtn').attr('disabled',true);\r\n\t\t\t$('#deleteAffiliateWebsitesBtn').attr('disabled',true);\r\n\t\t}\r\n\t});\r\n\r\n\t$('#affiliateWebsiteForm').on('show.bs.collapse', function (event) \r\n\t{\r\n\t\t// var addIcon = $('#addAffiliateWebsite span'),\r\n\t\t// \teditIcon = $('#editAffilateWebsitesBtn span'),\r\n\t\t// \tform = $('#affiliate_website_form');\r\n\r\n\t\t// if(form.find('#website_id').val() == '') {\r\n\t\t// \taddIcon.removeClass('glyphicon-plus').addClass('glyphicon-remove');\r\n\t\t// }else {\r\n\t\t// \teditIcon.removeClass('glyphicon-pencil').addClass('glyphicon-remove');\r\n\t\t// }\r\n\r\n\t\tvar addIcon = $('#addAffiliateWebsite span');\r\n\t\taddIcon.removeClass('glyphicon-plus').addClass('glyphicon-remove');\r\n\r\n\t\t//disabled\r\n\t\t$('.selectAffiliateWebsite').attr('disabled',true);\r\n\t\t$('.selectAllAffiliateWebsite').attr('disabled',true);\r\n\t\t$('.editAffiliateWebsite').attr('disabled',true);\r\n\t\t$('.deleteAffiliateWebsite').attr('disabled',true);\r\n\r\n\t\t$('#affiliateWebsitePayoutForm').collapse('hide');\r\n\t});\r\n\r\n\t$('#affiliateWebsiteForm').on('hide.bs.collapse', function (event) \r\n\t{\r\n\t\tvar form = $('#affiliate_website_form'),\r\n\t\t\taddIcon = $('#addAffiliateWebsite span'),\r\n\t\t\turl = $('#baseUrl').html() + '/add_affiliate_website';\r\n\r\n\t\t//Icons\r\n\t\taddIcon.removeClass('glyphicon-remove').addClass('glyphicon-plus');\r\n\r\n\t\t//Form\r\n\t\tform.attr('action', url);\r\n\t\tform.data('confirmation','').attr('data-confirmation', '');\r\n\r\n\t\t//Input Fields\r\n\t\tform.find('#website_name').val('');\r\n\t\tform.find('#website_payout').val('');\r\n\t\tform.find('#website_description').val('');\r\n\t\tform.find('#website_id').val('');\r\n\t\tform.find('#revenue_tracker_id').val('');\r\n\t\tform.find('[name=\"allow_datafeed\"][value=\"0\"]').prop('check');\r\n\r\n\t\tform.find('.error').each(function(){\r\n\t\t\t$(this).removeClass('error');\r\n\t\t\t$(this).removeClass('error_field');\r\n\t\t\t$(this).removeClass('error_label');\r\n\t\t});\r\n\t\tform.find('.this_error_wrapper').hide();\r\n\r\n\t\t//remove disable\r\n\t\t$('.selectAffiliateWebsite').removeAttr('disabled');\r\n\t\t$('.selectAllAffiliateWebsite').removeAttr('disabled');\r\n\t\t$('.editAffiliateWebsite').removeAttr('disabled');\r\n\t\t$('.deleteAffiliateWebsite').removeAttr('disabled');\r\n\t});\r\n\r\n\t$('#affiliateWebsitePayoutForm').on('show.bs.collapse', function (event) \r\n\t{\r\n\t\tvar editIcon = $('#editAffilateWebsitesBtn span');\r\n\r\n\t\teditIcon.removeClass('glyphicon-pencil').addClass('glyphicon-remove');\r\n\r\n\t\t//disabled\r\n\t\t$('.selectAffiliateWebsite').attr('disabled',true);\r\n\t\t$('.selectAllAffiliateWebsite').attr('disabled',true);\r\n\t\t$('.editAffiliateWebsite').attr('disabled',true);\r\n\t\t$('.deleteAffiliateWebsite').attr('disabled',true);\r\n\r\n\t\t$('#affiliateWebsiteForm').collapse('hide');\r\n\t});\r\n\r\n\t$('#affiliateWebsitePayoutForm').on('hide.bs.collapse', function (event) \r\n\t{\r\n\t\tvar form = $('#affiliate_website_payout_form'),\r\n\t\t\teditIcon = $('#editAffilateWebsitesBtn span');\r\n\r\n\t\t//Icons\r\n\t\teditIcon.removeClass('glyphicon-remove').addClass('glyphicon-pencil');\r\n\r\n\t\t//Input Fields\r\n\t\tform.find('#website_payout').val('');\r\n\r\n\t\t//remove disable\r\n\t\t$('.selectAffiliateWebsite').removeAttr('disabled');\r\n\t\t$('.selectAllAffiliateWebsite').removeAttr('disabled');\r\n\t\t$('.editAffiliateWebsite').removeAttr('disabled');\r\n\t\t$('.deleteAffiliateWebsite').removeAttr('disabled');\r\n\r\n\t\t$('.listOfAffiliateWebsitesEdit').addClass('hidden');\r\n\t\t$('.putListOfWebsitesHere').html('');\r\n\t});\r\n\r\n\t$(document).on('click','.closeAffiliateWebsitePayoutCollapse', function() \r\n\t{\r\n\t\t$('#affiliateWebsitePayoutForm').collapse('hide');\r\n\t});\r\n\r\n\t$(document).on('click','.editAffiliateWebsite', function() \r\n\t{\r\n\t\tvar id = $(this).data('id'),\r\n\t\t\tform = $('#affiliate_website_form'),\r\n\t\t\turl = $('#baseUrl').html() + '/edit_affiliate_website';\r\n\r\n\t\t$('.selectAffiliateWebsite').prop('checked',false);\r\n\t\t$('[name=\"website_id[]\"][value=\"'+id+'\"]').prop('checked',true).trigger('change');\r\n\r\n\t\tform.attr('action', url);\r\n\t\tform.data('confirmation','Are you sure you want to edit this?').attr('data-confirmation', 'Are you sure you want to edit this?');\r\n\r\n\t\tform.find('#website_name').val($('#afWeb-'+id+'-name').html());\r\n\t\tform.find('#website_payout').val($('#afWeb-'+id+'-pay').html());\r\n\t\tform.find('#website_description').val($('#afWeb-'+id+'-desc').html());\r\n\t\tform.find('#website_id').val(id);\r\n\t\tform.find('#revenue_tracker_id').val($('#afWeb-'+id+'-revTracker').html());\r\n\t\tform.find('[name=\"allow_datafeed\"][value=\"'+$('#afWeb-'+id+'-pay').val()+'\"]').prop('check');\r\n\r\n\t\t$('#affiliateWebsiteForm').collapse('show');\r\n\t});\r\n\r\n\t$(document).on('click','#editAffilateWebsitesBtn', function() \r\n\t{\r\n\t\tvar collapse = $('#affiliateWebsitePayoutForm');\r\n\r\n\t\tif (collapse.attr('aria-expanded') == \"true\") {\r\n\t\t\tcollapse.collapse('hide');\r\n\t\t}else {\r\n\t\t\tvar form = $('#affiliate_website_form'),\r\n\t\t\t\tids = $('[name=\"website_id[]\"]:checked'),\r\n\t\t\t\tid = ids[0][\"value\"];\r\n\t\t\tif(ids.length == 1) {\r\n\t\t\t\tconsole.log('hello');\r\n\t\t\t\t$('.editAffiliateWebsite[data-id=\"'+id+'\"]').trigger('click');\r\n\t\t\t}else {\r\n\t\t\t\tvar payout = $('#afWeb-'+id+'-pay').html(),\r\n\t\t\t\t\tform = $('#affiliate_website_payout_form'),\r\n\t\t\t\t\tedit_info = '';\r\n\r\n\t\t\t\t\tform.find('#website_payout').val(payout);\r\n\t\t\t\t\t$('#affiliateWebsitePayoutForm').collapse('show');\r\n\r\n\t\t\t\t\t$('#selectedAffiliateWebsiteDiv').html('');\r\n\t\t\t\t\tids.each(function() {\r\n\t\t\t\t\t\tedit_info += $('#afWeb-'+$(this).val()+'-name').html() + ', ';\r\n\t\t\t\t\t\t$('#selectedAffiliateWebsiteDiv').append('<input name=\"selected_websites[]\" type=\"hidden\" value=\"'+$(this).val()+'\"/>');\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tedit_info = edit_info.substring(0,edit_info.length - 2);\r\n\t\t\t\t\tedit_info += '.';\r\n\t\t\t\t\t$('.listOfAffiliateWebsitesEdit').removeClass('hidden');\r\n\t\t\t\t\t$('.putListOfWebsitesHere').html(edit_info).show();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('click','.deleteAffiliateWebsite', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\t\tvar this_website = $(this);\r\n\t\t\tid = $(this).data('id');\r\n\r\n\t\tthis_website.parents('tr').css('background-color','#ebccd1');\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete this website?');\r\n\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_affiliate_website/'+id;\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n \t\t\t\tdata : {\r\n \t\t\t\t\tid: id\r\n \t\t\t\t},\r\n\t\t\t\tsuccess : function(data) {\r\n\r\n\t\t\t\t\tvar table = $('#affiliate-website-table').DataTable();\r\n\t\t\t\t\ttable.row(this_website.parents('tr')).remove().draw();;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else {\r\n\t\t\tthis_website.parents('tr').css('background-color','');\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('click','#deleteAffiliateWebsitesBtn', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\t\tvar this_website = $(this);\r\n\t\t\tids = $('[name=\"website_id[]\"]:checked'),\r\n\t\t\twebsites = [];\r\n\r\n\t\tids.parents('tr').css('background-color','#ebccd1');\r\n\r\n\t\tids.each(function() {\r\n\t\t\twebsites.push($(this).val());\r\n\t\t});\r\n\r\n\t\tvar confirmation = confirm('Are you sure you want to delete these websites?');\r\n\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/delete_multiple_affiliate_website';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n \t\t\t\tdata : {\r\n \t\t\t\t\tid: websites\r\n \t\t\t\t},\r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\tvar table = $('#affiliate-website-table').DataTable();\r\n\t\t\t\t\ttable.draw();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}else {\r\n\t\t\tids.parents('tr').css('background-color','');\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('click','.eiqFrameStatus', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\t\tvar this_button = $(this),\r\n\t\t\taffiliate_id = $(this).data('id'),\r\n\t\t\tstatus = $(this).data('status');\r\n\r\n\t\tif(status == 1) confirm_stat = 'DEACTIVATE';\r\n\t\telse confirm_stat = 'ACTIVATE'\r\n\r\n\t\tvar confirmation = confirm(\"You are about to \"+confirm_stat+\" this affiliate from running our Iframe. Click 'OK' to confirm.\");\r\n\r\n\t\tif(confirmation === true) {\r\n\t\t\tvar the_url = $('#baseUrl').html() + '/update_affiliate_website_status';\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : the_url,\r\n \t\t\t\tdata : {\r\n \t\t\t\t\taffiliate_id : affiliate_id,\r\n \t\t\t\t\tstatus : status\r\n \t\t\t\t}, \r\n\t\t\t\tsuccess : function(data) {\r\n\t\t\t\t\tnew_status = data.new_status,\r\n\t\t\t\t\tupdate_count = data.update_count;\r\n\r\n\t\t\t\t\tif(update_count > 0) {\r\n\t\t\t\t\t\tif(new_status == 1) {\r\n\t\t\t\t\t\t\tcurIcon = 'glyphicon-remove-circle';\r\n\t\t\t\t\t\t\tnewIcon = 'glyphicon-ok-circle';\r\n\t\t\t\t\t\t\tcurBtn = 'btn-danger';\r\n\t\t\t\t\t\t\tnewBtn = 'btn-success';\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tcurIcon = 'glyphicon-ok-circle';\r\n\t\t\t\t\t\t\tnewIcon = 'glyphicon-remove-circle';\r\n\t\t\t\t\t\t\tcurBtn = 'btn-success';\r\n\t\t\t\t\t\t\tnewBtn = 'btn-danger';\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis_button.attr('data-status',new_status).data('status',new_status);\r\n\t\t\t\t\t\tthis_button.removeClass(curBtn).addClass(newBtn);\r\n\t\t\t\t\t\tthis_button.find('span').removeClass(curIcon).addClass(newIcon);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\talert('Affiliate does not have any websites.');\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t/* CREATIVE */\r\n    CKEDITOR.config.readOnly = true;\r\n    CKEDITOR.config.allowedContent = true;\r\n    CKEDITOR.config.contentsCss = 'http://path6.paidforresearch.com/dynamic_live/css/style.css';\r\n    CKEDITOR.config.contentsCss = 'http://path6.paidforresearch.com/dynamic_live/css/mobile.css';\r\n    CKEDITOR.config.contentsCss = 'http://path6.paidforresearch.com/dynamic_live/css/stack.css';\r\n\r\n    $.fn.modal.Constructor.prototype.enforceFocus = function () {\r\n        modal_this = this\r\n        $(document).on('focusin.modal', function (e) {\r\n            if (modal_this.$element[0] !== e.target && !modal_this.$element.has(e.target).length\r\n                    // add whatever conditions you need here:\r\n                &&\r\n                !$(e.target.parentNode).hasClass('cke_dialog_ui_input_select') && !$(e.target.parentNode).hasClass('cke_dialog_ui_input_text')) {\r\n                modal_this.$element.focus()\r\n            }\r\n        })\r\n    };\r\n\r\n    /* Form Builder */\r\n\r\n    function addFormField(index) {\r\n    \tvar field_table = $('#formFieldsTable tbody'),\r\n    \t\tfield = form_builder_fields[index],\r\n    \t\ttype = field.type,\r\n    \t\tvalue = field.value,\r\n    \t\tname = field.name;\r\n\r\n    \tif(field.value.indexOf('\"') < 0) {\r\n\t    \tif($('select[name=\"value_select\"] option[value=\"'+field.value+'\"]').length > 0) {\r\n\t\t\t\tvalue = $('select[name=\"value_select\"] option[value=\"'+field.value+'\"]').html();\r\n\t\t\t}\r\n\t\t}\r\n\r\n    \t//check if standard field\r\n    \tif(! field.standard) {\r\n\t\t\tsort = '<span class=\"sortFieldHandle glyphicon glyphicon-resize-vertical\"></span>';\r\n\t\t\tremove = '';\r\n\t\t\tsortable = '';\r\n\t\t}else {\r\n\t\t\tremove = 'disabled';\r\n\t\t\tsort = '';\r\n\t\t\tsortable = 'class=\"sortDisabled\"';\r\n\t\t}\r\n\r\n\t\t//get value\r\n\t\tif(value != '') {\r\n\t\t\tif(type == 'article'){\r\n\t\t\t\tprev_val = value;\r\n\t\t\t\tprev_val = prev_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"); //remove links\r\n\t\t\t\tprev_val = prev_val.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n\t\t\t\tprev_val = prev_val.substr(0,150);\r\n\t\t\t\tif(value.length > 150) prev_val += '...';\r\n\t\t\t\tfield_value = '<small><em>'+prev_val+'</em></small>';\r\n\t\t\t}else {\r\n\t\t\t\tdef_val = value;\r\n\t\t\t\tif(type == 'dropdown' || type == 'checkbox' || type == 'radio') {\r\n\t\t\t\t\tdef_val_indx = field.options.values.indexOf(field.value);\r\n\t\t\t\t\tif(field.value != field.options.displays[def_val_indx]) {\r\n\t\t\t\t\t\tdef_val += ' - ' + field.options.displays[def_val_indx];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdef_val = def_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"); //remove links\r\n\t\t\t\tdef_val_prev = def_val.substr(0,74);\r\n\t\t\t\tif(def_val.length > 74) def_val_prev += '...';\r\n\t\t\t\tfield_value = '<span class=\"label label-primary\">'+def_val_prev+'</span>';\r\n\t\t\t\t// console.log(def_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"));\r\n\t\t\t}\r\n\t\t}else field_value = '';\r\n\t\t\r\n\t\t//get some options if exists\r\n\t\tif(type == 'dropdown' || type == 'checkbox' || type == 'radio') {\r\n\t\t\tif(typeof field.options != undefined) {\r\n\t\t\t\tfieldCounter = 0;\r\n\t\t\t\t$.each(field.options.values, function(i, oVal) {\r\n\t\t\t\t\tif(oVal != '') {\r\n\t\t\t\t\t\tif(fieldCounter <= 3) {\r\n\t\t\t\t\t\t\tif(oVal != field.value) {\r\n\t\t\t\t\t\t\t\tif(oVal == field.options.displays[i]) opt_val = oVal;\r\n\t\t\t\t\t\t\t\telse opt_val = oVal + ' - ' + field.options.displays[i];\r\n\t\t\t\t\t\t\t\topt_val = opt_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"); //remove links\r\n\t\t\t\t\t\t\t\topt_val_prev = opt_val.substr(0,74);\r\n\t\t\t\t\t\t\t\tif(opt_val.length > 74) opt_val_prev += '...';\r\n\t\t\t\t\t\t\t\tfield_value += ' <span class=\"label label-info\">'+ opt_val_prev +'</span>';\r\n\t\t\t\t\t\t\t\tfieldCounter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tfield_value += ' <span class=\"label label-info\">...</span>';\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//get name/label\r\n\t\tvar name_display = name;\r\n\t\tif(field.label != '') {\r\n\t\t\tname_display += '<br><small><em>' + field.label.substr(0,74);\r\n\t\t\tif(field.label.length > 74) name_display += '...';\r\n\t\t\tname_display += '</em></small>';\r\n\t\t}\r\n\r\n    \tfield_content = '<tr '+sortable+' data-id=\"'+index+'\"><th>'+sort+'</th>' +\r\n\t\t\t'<th id=\"fbf-name-'+index+'\">'+ name_display +'</th>' +\r\n          \t'<td><span id=\"fbf-type-'+index+'\" class=\"label label-default\">'+ type +'</span></td>' +\r\n          \t'<td id=\"fbf-value-'+index+'\">'+ field_value +'</td>' +\r\n          \t'<td><button type=\"button\" class=\"removeFieldBtn btn btn-default pull-right\" style=\"margin-left: 5px\" data-id=\"'+index+'\" '+remove+'><span class=\"glyphicon glyphicon-trash\"></span></button>' +\r\n          \t'<button type=\"button\" class=\"viewFieldModalBtn btn btn-default pull-right\" data-id=\"'+index+'\"><span class=\"glyphicon glyphicon-pencil\"></span></button></td>' +\r\n            '</tr>';\r\n\r\n        field_table.append(field_content);\r\n    }\r\n\r\n    //SORT FIELDS\r\n\t// var sorted_fields = [];\r\n\tvar sorted = $('#formFieldsTable tbody').sortable({\r\n\t\thandle: '.sortFieldHandle',\r\n\t\titems: \"tr:not(.sortDisabled)\"\r\n\t});\t\r\n\r\n    var form_builder_fields = [],\r\n    \tfield_names = [],\r\n    \tstandard_fields = $.parseJSON($('#standardRequiredFields').val());\r\n    \tstandard_lf_fields = $.parseJSON($('#standardLFRequiredFields').val());\r\n\r\n    var cssCodeMirror = CodeMirror.fromTextArea($('#custom_css')[0], {\r\n\t  \ttheme: 'default',\r\n\t    lineNumbers: true,\r\n        matchBrackets: true,\r\n        // mode: \"application/x-httpd-php\",\r\n        // mode: 'javascript',\r\n        mode: \"css\",\r\n        indentUnit: 4,\r\n        indentWithTabs: true\r\n\t});\r\n\r\n\tvar jsCodeMirror = CodeMirror.fromTextArea($('#custom_js')[0], {\r\n\t  \ttheme: 'default',\r\n\t    lineNumbers: true,\r\n        matchBrackets: true,\r\n        // mode: \"application/x-httpd-php\",\r\n        // mode: 'javascript',\r\n        mode: 'text/html',\r\n        indentUnit: 4,\r\n        indentWithTabs: true\r\n\t});\r\n\r\n\tvar formBuilderCodeMirror = CodeMirror.fromTextArea(document.getElementById('stack_code'), {\r\n\t  \ttheme: 'default',\r\n\t    lineNumbers: true,\r\n        matchBrackets: true,\r\n        mode: \"application/x-httpd-php\",\r\n        indentUnit: 4,\r\n        indentWithTabs: true,\r\n        readOnly: true\r\n\t});\r\n\r\n    $(document).on('click','.campaignFormBuilder', function() \r\n\t{\r\n\t\tvar id = $(this).data('id'),\r\n\t\t\tcampaign_type = $(this).data('type'),\r\n\t\t\tform_builder = $('#campaign_form_builder'),\r\n\t\t\tthe_url = $('#baseUrl').html() + '/get_campaign_content';\r\n\r\n\t\tform_builder.find('#this_campaign').val(id);\r\n\t\t$('.this_campaign').val(id);\r\n\t\t$('#form-builder-campaign').html(id + ' - ' + $('#cmp-'+id+'-name').html());\r\n\t\t$('#formBuilderCampaignType').val(campaign_type);\r\n\r\n\t\t//campaign type\r\n\t\tif(campaign_type == 5 || campaign_type == 6) { //link out\r\n\t\t\t$('.formBuilderCoregElement').hide();\r\n\t\t\t$('.formBuilderCoregElement').find('[name=\"send_lead_to\"]').removeAttr('required');\r\n\t\t\t$('.formBuilderLinkoutElement').show();\r\n\t\t\t$('.formBuilderLinkoutElement').find('[name=\"redirect_link\"]').attr('required', true);\r\n\t\t}else {\r\n\t\t\t$('.formBuilderCoregElement').show();\r\n\t\t\t$('.formBuilderCoregElement').find('[name=\"send_lead_to\"]').attr('required', true);\r\n\t\t\t$('.formBuilderLinkoutElement').hide();\r\n\t\t\t$('.formBuilderLinkoutElement').find('[name=\"redirect_link\"]').removeAttr('required');\r\n\t\t}\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\t'id'\t:\tid,\r\n\t\t\t\t'type'\t:   campaign_type\r\n\t\t\t},\r\n\t\t\turl: the_url,\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\tif(typeof data.auto_lock !== 'undefined' && data.auto_lock == true) {\r\n\t\t\t\t\tautoLockAlert = '<div id=\"autoLockAlert\" class=\"alert alert-warning alert-dismissible\" role=\"alert\">' +\r\n  \t\t\t\t\t\t'<button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>' +\r\n  \t\t\t\t\t\t'<strong>Warning!</strong> Content was automatically locked since it contained php codes.' +\r\n\t\t\t\t\t\t'</div>';\r\n\t\t\t\t\t$('#cmpFormBuilderModal').find('.modal-body').prepend(autoLockAlert);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(data.content != null) {\r\n\t\t\t\t\tvar form = data.form,\r\n\t\t\t\t\t\tfield_table = $('#formFieldsTable tbody');\r\n\r\n\t\t\t\t\tform_builder.find('#stack_code').val(data.content);\r\n\t\t\t\t\tformBuilderCodeMirror.getDoc().setValue(data.content);\r\n\r\n\t\t\t\t\t//lock\r\n\t\t\t\t\tif(data.lock == 1) {\r\n\t\t\t\t\t\t$('.form_builder_btn').attr('disabled',true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif(campaign_type == 5) {\r\n\t\t\t\t\t\tform_builder.find('#redirect_link').val(form.redirect_link);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tif(form.action == 'lead_reactor' || form.action == 'lead_filter') {\r\n\t\t\t\t\t\t\t$('#formBuilderSendLeadSelect').val(form.action);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t$('#formBuilderSendLeadSelect').val('custom').change();\r\n\t\t\t\t\t\t\t$('#formBuilderCustomUrlInput').val(form.action);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//form\r\n\t\t\t\t\tform_builder.find('#form_id').val(form.id);\r\n\t\t\t\t\tform_builder.find('#form_class').val(form.class);\r\n\r\n\t\t\t\t\t//fields\r\n\t\t\t\t\tform_builder_fields = data.fields;\r\n\t\t\t\t\t// console.log(form_builder_fields);\r\n\t\t\t\t\t$.each(data.fields, function(index, field)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// console.log(field);\r\n\t\t\t\t\t\t// var type,\r\n\t\t\t\t\t\t// \tsort = '',\r\n\t\t\t\t\t\t// \tremove = 'disabled',\r\n\t\t\t\t\t\t// \tvalue = field.value;\r\n\r\n\t\t\t\t\t\tfield_names.push(field.name);\r\n\t\t\t\t\t\t// field_names[index] = field.name;\r\n\r\n\t\t\t\t\t\t// if($('select[name=\"value_select\"] option[value=\"'+field.value+'\"]').length > 0) {\r\n\t\t\t\t\t\t// \tvalue = $('select[name=\"value_select\"] option[value=\"'+field.value+'\"]').html();\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\tvar field_content = addFormField(index);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t//custom\r\n\t\t\t\t\tcustom = data.custom;\r\n\t\t\t\t\tform_builder.find('#custom_css').val(custom.css);\r\n\t\t\t\t\tcssCodeMirror.getDoc().setValue(custom.css);\r\n\t\t\t\t\tform_builder.find('#custom_js').val(custom.js);\r\n\t\t\t\t\tjsCodeMirror.getDoc().setValue(custom.js);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tform_builder_fields = [];\r\n\t\t\t\t\tfield_names = [];\r\n\t\t\t\t\tformBuilderCodeMirror.getDoc().setValue('');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcampaignCreativeTable.ajax.reload();\r\n\t\t\t\t$('#cmpFormBuilderModal').modal('show');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(document).on('shown.bs.tab', 'a[data-toggle=\"tab\"][href=\"#customs_tab\"]', function() {\r\n\t    this.refresh();\r\n\t}.bind(cssCodeMirror));\r\n\r\n\t$(document).on('shown.bs.tab', 'a[data-toggle=\"tab\"][href=\"#customs_tab\"]', function() {\r\n\t    this.refresh();\r\n\t}.bind(jsCodeMirror));\r\n\r\n\t$(document).on('shown.bs.tab', 'a[data-toggle=\"tab\"][href=\"#code_tab\"]', function() {\r\n\t    this.refresh();\r\n\t}.bind(formBuilderCodeMirror));\r\n\r\n    $(document).on('click','.removeFieldBtn', function() \r\n\t{\r\n\t\t// console.log('Submit');\r\n\t\tconfirmation = confirm('Are you sure you want to delete this field?');\r\n\r\n\t\tif(confirmation) {\r\n\t\t\tvar the_index = $(this).data('id');\r\n\t\t\tdelete form_builder_fields[the_index];\r\n\t\t\tdelete field_names[the_index];\r\n\t\t\t// form_builder_fields.splice(the_index, 1);\r\n\t\t\t// field_names.splice(the_index, 1);\r\n\t\t\t$(this).parents('tr').remove();\r\n\t\t\t// console.log('Removing');\r\n\t\t\t// console.log(the_index);\r\n\t\t\t// console.log(form_builder_fields);\r\n\t\t\t// console.log(field_names);\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('change','#formBuilderFieldTypeSelect', function() \r\n\t{\r\n\t\tvar value = $(this).val();\r\n\r\n\t\tif(value == 'article'){\r\n\t\t\t$('.input_field_group').hide();\r\n\t\t\t$('.article_field_group').show();\r\n\t\t\t$('#form_builder_field #name').removeAttr('required');\r\n\t\t}else if(value == 'dropdown' || value == 'radio' || value == 'checkbox') {\r\n\t\t\t$('.input_field_group').show();\r\n\t\t\t$('.article_field_group').hide();\r\n\t\t\t$('#form_builder_field #name').attr('required', true);\r\n\r\n\t\t\t$('.value_group_two').show();\r\n\t\t\t$('.value_group_one').hide();\r\n\t\t}else {\r\n\t\t\t$('.input_field_group').show();\r\n\t\t\t$('.article_field_group').hide();\r\n\t\t\t$('#form_builder_field #name').attr('required', true);\r\n\r\n\t\t\t$('.value_group_two').hide();\r\n\t\t\t$('.value_group_one').show();\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('click','.viewFieldModalBtn', function() \r\n\t{\r\n\t\tvar id = $(this).data('id'),\r\n\t\t\tfield = form_builder_fields[id],\r\n\t\t\tmodal = $('#cmpFormFieldModal');\r\n\t\t\t\r\n\t\t// console.log(field);\r\n\r\n\t\tmodal.find('.modal-title').html('Edit Field');\r\n\t\tmodal.find('#label').val(field.label);\r\n\t\tmodal.find('#name').val(field.name);\r\n\t\tmodal.find('#id').val(field.id);\r\n\t\tmodal.find('#class').val(field.class);\r\n\t\tmodal.find('#field_id').val(id);\r\n\t\tmodal.find('#formBuilderFieldTypeSelect').val(field.type).trigger('change');\r\n\t\t\r\n\t\tif(field.type == 'hidden' || field.type == 'text' || field.type == 'textbox') {\r\n\t\t\tif($('select[name=\"value_select\"] option[value=\"'+field.value+'\"]').length > 0) {\r\n\t\t\t\t$('select[name=\"value_select\"]').val(field.value);\r\n\t\t\t\t$('input[name=\"value_input\"]').val('');\r\n\t\t\t}else {\r\n\t\t\t\t$('select[name=\"value_select\"]').val('');\r\n\t\t\t\t$('input[name=\"value_input\"]').val(field.value);\r\n\t\t\t}\r\n\t\t}else if(field.type == 'article'){\r\n\t\t\t$('#article').val(field.value);\r\n\t\t}else {\r\n\t\t\t$.each(field.options.values, function(index, values)\r\n\t\t\t{\r\n\t\t\t\tvar isDefault = false,\r\n\t\t\t\t\tisAccepted = false,\r\n\t\t\t\t\tdisplay = field.options.displays;\r\n\t\t\t\t\r\n\t\t\t\tif(field.value == values) isDefault = true;\r\n\r\n\t\t\t\tif(field.has_accepts) {\r\n\t\t\t\t\t$key = field.accepted_options.indexOf(values);\r\n\t\t\t\t\tif($key >= 0) isAccepted = true;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(index + ' - ' + values + ' - ' + isDefault + ' - ' + isAccepted);\r\n\t\t\t\t// addFieldRow(value, display, isDefault, isAccepted)\r\n\t\t\t\tif(values != '') {\r\n\t\t\t\t\taddFieldRow(values, display[index], isDefault, isAccepted);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\t\r\n\r\n\t\t//required validtion\r\n\t\tif(field.standard) required = true;\r\n\t\telse {\r\n\t\t\trequired = false;\r\n\t\t\tif(field.hasOwnProperty(\"validation\")) {\r\n\t\t\t\tif(field.validation.hasOwnProperty(\"required\")) {\r\n\t\t\t\t\trequired = field.validation.required;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// if('validation.required' in field) {\r\n\t\t\t// \tconsole.log(field.validation.required);\r\n\t\t\t// \trequired = field.validation.required;\r\n\t\t\t// }else required = false;\r\n\t\t}\r\n\t\t$('[name=\"validation[]\"][value=\"required\"]').prop( \"checked\" , required);\r\n\r\n\t\t//validation\r\n\r\n\t\tif(field.hasOwnProperty('validation')) {\r\n\t\t\tif(typeof field.validation.alphaNumeric != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"alphaNumeric\"]').prop( \"checked\" , field.validation.alphaNumeric);\r\n\r\n\t\t\tif(typeof field.validation.alphaSpace != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"alphaSpace\"]').prop( \"checked\" , field.validation.alphaSpace);\r\n\r\n\t\t\tif(typeof field.validation.date != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"date\"]').prop( \"checked\" , field.validation.date);\r\n\r\n\t\t\tif(typeof field.validation.digits != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"digits\"]').prop( \"checked\" , field.validation.digits);\r\n\r\n\t\t\tif(typeof field.validation.email != \"undefined\")\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"email\"]').prop( \"checked\" , field.validation.email);\r\n\r\n\t\t\tif(typeof field.validation.equalTo != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"equalTo\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\t$('input[name=\"equal_to_value\"]').val(field.validation.equalTo);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif(typeof field.validation.max != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"max\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\t$('input[name=\"max_value\"]').val(field.validation.max);\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof field.validation.min != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"min\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\t$('input[name=\"min_value\"]').val(field.validation.min);\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof field.validation.number != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"number\"]').prop( \"checked\" , field.validation.number);\r\n\r\n\t\t\tif(typeof field.validation.phoneUS != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"phoneUS\"]').prop( \"checked\" , field.validation.phoneUS);\r\n\r\n\t\t\tif(typeof field.validation.range != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"range\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\trange = $.parseJSON(field.validation.range);\r\n\t\t\t\t$('input[name=\"range_min_value\"]').val(range[0]);\r\n\t\t\t\t$('input[name=\"range_max_value\"]').val(range[1]);\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof field.validation.url != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"url\"]').prop( \"checked\" , field.validation.url);\r\n\t\t\t\r\n\t\t\tif(typeof field.validation.zip != \"undefined\")\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"zip\"]').prop( \"checked\" , field.validation.zip);\r\n\r\n\t\t\tif(typeof field.validation.zip != \"undefined\")\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"zip\"]').prop( \"checked\" , field.validation.zip);\r\n\r\n\t\t\tif(typeof field.validation.minWordCount != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"minWordCount\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\t$('input[name=\"min_word_count_value\"]').val(field.validation.minWordCount);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodal.modal('show');\r\n\t});\r\n\r\n\r\n\t$(document).on('click','#addFormField', function() \r\n\t{\r\n\t\t$('#cmpFormFieldModal').modal('show');\r\n\t});\r\n\r\n\t$(document).on('change','#formBuilderSendLeadSelect', function() \r\n\t{\r\n\t\tvar value = $(this).val(),\r\n\t\t\tcustom_url = $('#formBuilderCustomUrlInput'),\r\n\t\t\tform = $('#campaign_form_builder');\r\n\r\n\t\tif(value == 'custom') {\r\n\t\t\tcustom_url.show();\r\n\t\t}else {\r\n\t\t\tcustom_url.hide();\r\n\r\n\t\t\tif(value != '') {\r\n\t\t\t\t$.each(standard_fields, function(index, value) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(field_names.indexOf(index) < 0) {\r\n\t\t\t\t\t\tvar new_id = $('#formFieldsTable tbody tr').length,\r\n\t\t\t\t\t\t\tthe_value = value;\r\n\t\t\t\t\t\tif(index == 'eiq_campaign_id') the_value = form.find('#this_campaign').val();\r\n\r\n\t\t\t\t\t\tfield = { class: '', id: '', label: '', name: index, standard: true, type: 'hidden',  \r\n\t\t\t\t\t\t\tvalue : the_value};\r\n\t\t\t\t\t\tform_builder_fields[form_builder_fields.length] = field;\r\n\t\t\t\t\t\tfield_names[field_names.length] = index;\r\n\t\t\t\t\t\t// form_builder_fields.push(field);\r\n\t\t\t\t\t\t// field_names.push(index);\r\n\t\t\t\t\t\tfield_content = addFormField(new_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(value == 'lead_filter') {\r\n\t\t\t\t\t$.each(standard_lf_fields, function(index, value) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif(field_names.indexOf(index) < 0) {\r\n\t\t\t\t\t\t\tvar new_id = $('#formFieldsTable tbody tr').length,\r\n\t\t\t\t\t\t\t\tthe_value = value;\r\n\t\t\t\t\t\t\tif(index == 'program_id') the_value = form.find('#this_campaign').val();\r\n\t\t\t\t\t\t\telse if(index == 'program_name') the_value = $('#cmp-'+form.find('#this_campaign').val()+'-name').html();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfield = { class: '', id: '', label: '', name: index, standard: false, type: 'hidden',  \r\n\t\t\t\t\t\t\t\tvalue : the_value};\r\n\t\t\t\t\t\t\tform_builder_fields[form_builder_fields.length] = field;\r\n\t\t\t\t\t\t\tfield_names[field_names.length] = index;\r\n\t\t\t\t\t\t\t// form_builder_fields.push(field);\r\n\t\t\t\t\t\t\t// field_names.push(index);\r\n\t\t\t\t\t\t\tfield_content = addFormField(new_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log(field_names);\r\n\t\t// console.log(form_builder_fields);\r\n\t});\r\n\t\r\n\t//SORT FIELD OPTIONS\r\n\t// var sorted_fields = [];\r\n\tvar sorted = $('#fieldValueTable tbody').sortable({\r\n\t\thandle: '.sortValueHandle',\r\n\t});\t\r\n\r\n\t$(document).on('click','.removeRowFielValue', function() \r\n\t{\r\n\t\t$(this).parents('tr').remove();\r\n\t});\r\n\t\r\n\r\n\t$(document).on('click','.clearFieldValueTable', function() \r\n\t{\r\n\t\t$('#fieldValueTable tbody').html('');\r\n\t});\r\n\r\n\t$(document).on('click','#addFieldValueBtn', function() \r\n\t{\r\n\t\taddFieldRow('', '', false, false);\r\n\t\t$('#fieldValueTable tbody tr:last [name=\"field_value[]\"]').focus();\r\n\t});\r\n\r\n\t$(document).on('click','#addRangeValuesBtn', function() \r\n\t{\r\n\t\tvar table = $('#fieldValueTable tbody'),\r\n\t\t\tmin = $('#min_range_value').val(),\r\n\t\t\tmax = $('#max_range_value').val();\r\n\t\t\t\r\n\r\n\t\tif(min > max) {\r\n\t\t\tfor(var i = min; i >= max; i--) {\r\n\t\t\t\taddFieldRow(i,i, false, false);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tfor(var i = min; i <= max; i++) {\r\n\t\t\t\taddFieldRow(i,i, false, false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$('#rangeValueCollapse').collapse('hide');\r\n\r\n\t\t// if(min.val() < max.val()) {\r\n\t\t// \tfor(var i = min.val(); i <= max.val(); i++) {\r\n\t\t// \t\taddFieldRow(i,i, false, false);\r\n\t\t// \t}\r\n\t\t// \t$('#rangeValueCollapse').collapse('hide');\r\n\t\t// }\r\n\t});\r\n\r\n\t//Close Form Builder Modal\r\n\t$('#cmpFormBuilderModal').on('hide.bs.modal', function (e) {\r\n\t\tif($('.editCampaignCreative .glyphicon-remove').length > 0) {\r\n\t\t\talert('Save unfinished campaign creatives before closing the form builder.');\r\n\t\t\t$('#cmpFormBuilderModal [href=\"#creatives_tab\"]').trigger('click');\r\n\t\t\te.preventDefault();\r\n\t\t    e.stopImmediatePropagation();\r\n\t\t    return false; \r\n\t\t}\r\n\t\t\r\n\t\t$('#form-builder-campaign').html('');\r\n\t\t$('.form_builder_btn').removeAttr('disabled');\r\n\t\t$('#formBuilderSendLeadSelect').val('').trigger('change');\r\n\t\t$('#campaign_form_builder').find('.this_field').val('');\r\n\t\t$('#formFieldsTable tbody').html('');\r\n\t\t$('#autoLockAlert').remove();\r\n\t\t$('#cmpFormBuilderModal [href=\"#form_tab\"]').trigger('click');\r\n\t\tcssCodeMirror.getDoc().setValue('');\r\n\t\tjsCodeMirror.getDoc().setValue('');\r\n\t\tformBuilderCodeMirror.getDoc().setValue('');\r\n\t\tsetTimeout(function() {\r\n\t\t\tcssCodeMirror.refresh();\r\n\t\t\tjsCodeMirror.refresh();\r\n\t\t\tformBuilderCodeMirror.refresh();\r\n\t\t},100);\r\n\t});\r\n\r\n\t//Close Edit Field Modal\r\n\t$('#cmpFormFieldModal').on('hide.bs.modal', function () {\r\n\t\t$('#cmpFormFieldModal .modal-title').html('Add Field');\r\n\t\t$('#cmpFormFieldModal .this_field').val('');\r\n\t\t$('#formBuilderFieldTypeSelect').trigger('change');\r\n\t\t$('[name=\"validation[]\"]').prop('checked', false);\r\n\t\t$('[name=\"validation[]\"][value=\"required\"]').prop('checked', true);\r\n\t\t$('#fieldValueTable tbody').html('');\r\n\r\n\t\t//remove required of validation fields\r\n\t\t$('[name=\"equal_to_value\"]').removeAttr('required');\r\n\t\t$('[name=\"range_min_value\"]').removeAttr('required');\r\n\t\t$('[name=\"range_max_value\"]').removeAttr('required');\r\n\t\t$('[name=\"min_value\"]').removeAttr('required');\r\n\t\t$('[name=\"max_value\"]').removeAttr('required');\r\n\t\t$('[name=\"min_word_count_value\"]').removeAttr('required');\r\n\t\t$('#uploadValueCollapse').collapse('hide');\r\n\r\n\t\t$('.selectAcceptedValues').prop('checked',false);\r\n\t});\r\n\r\n\t$('#rangeValueCollapse').on('hidden.bs.collapse', function () {\r\n\t \t$('#min_range_value').val('');\r\n\t \t$('#max_range_value').val('');\r\n\t});\r\n\r\n\t$('#rangeValueCollapse').on('show.bs.collapse', function () {\r\n\t \t$('#uploadValueCollapse').collapse('hide');\r\n\t});\r\n\r\n\t$('#uploadValueCollapse').on('show.bs.collapse', function () {\r\n\t \t$('#rangeValueCollapse').collapse('hide');\r\n\t});\r\n\r\n\t// $(document).on('click','#uploadFileValuesBtn', function() \r\n\t// {\r\n\t// \tvar table = $('#fieldValueTable tbody'),\r\n\t// \t\tmin = $('#min_range_value'),\r\n\t// \t\tmax = $('#max_range_value');\r\n\r\n\t// \tif(min.val() < max.val()) {\r\n\t// \t\tfor(var i = min.val(); i <= max.val(); i++) {\r\n\t// \t\t\taddFieldRow(i,i, false, false);\r\n\t// \t\t}\r\n\r\n\t// \t\t$('#rangeValueCollapse').collapse('hide');\r\n\t// \t}\r\n\t// });\r\n\r\n\tfunction addFieldRow(value, display, isDefault, isAccepted){\r\n\t\tvar table = $('#fieldValueTable tbody'),\r\n\t\t\tifDefault = '',\r\n\t\t\tifAccepted ='',\r\n\t\t\ttr_id = $('#fieldValueTable tbody tr').length;\r\n\r\n\t\t\tif(isDefault) ifDefault = 'checked';\r\n\t\t\tif(isAccepted) ifAccepted = 'checked';\r\n\t\tvar row = '<tr><th><span class=\"sortValueHandle glyphicon glyphicon-resize-vertical\"></span></th>' +\r\n\t\t\t\t'<th><input name=\"default_value\" type=\"radio\" value=\"'+tr_id+'\" '+ifDefault+'></th>' +\r\n\t\t\t\t'<th><input name=\"field_value[]\" value=\"'+value+'\" type=\"text\" class=\"form-control\" required></th>' +\r\n\t\t\t\t'<td><textarea name=\"field_display[]\" class=\"form-control cmpFB_item\" rows=\"2\" required>'+display+'</textarea></td>' +\r\n\t\t\t\t'<th><input name=\"accepted[]\" type=\"checkbox\" value=\"'+tr_id+'\" '+ifAccepted+'></th>' +\r\n                '<td><button class=\"removeRowFielValue btn btn-default pull-right\"><span class=\"glyphicon glyphicon-remove\"></span>' + \r\n                '</button></td></tr>';\r\n        table.append(row);\r\n\t}\r\n\r\n\t$(document).on('submit','#form_builder_field', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\r\n\t\tvar form = $(this),\r\n\t\t\tid = $('#field_id').val(),\r\n\t\t\tthis_field = new Object(),\r\n\t\t\tisInShortCodeDropdown = false;\r\n\r\n\t\t// console.log(id);\r\n\r\n\t\tthis_field.name = form.find('#name').val();\r\n\t\tthis_field.type = $('#formBuilderFieldTypeSelect').val();\r\n\t\tthis_field.id = form.find('#id').val();\r\n\t\tthis_field.class = form.find('#class').val();\r\n\t\tthis_field.label = form.find('#label').val();\r\n\r\n\t\tif(this_field.type == 'article') {\r\n\t\t\tthis_field.value = form.find('#article').val();\r\n\t\t\tprev_val = this_field.value;\r\n\t\t\tprev_val = prev_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"); //remove links\r\n\t\t\tprev_val = prev_val.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n\t\t\tprev_val = prev_val.substr(0,150);\r\n\t\t\tif(this_field.value.length > 150) prev_val += '...';\r\n\t\t\tfield_value = '<small><em>'+prev_val+'</em></small>';\r\n\t\t\t\r\n\t\t\tif(id > 0 || id != '') { //edit existing article field row\r\n\t\t\t\tform_builder_fields[id] = this_field;\r\n\t\t\t\t$('#fbf-name-'+id).html('');\r\n\t\t\t\t$('#fbf-type-'+id).html(this_field.type);\r\n\t\t\t\t$('#fbf-value-'+id).html(field_value);\r\n\t\t\t}else{ //add\r\n\t\t\t\tvar new_id = form_builder_fields.length;\r\n\t\t\t\tform_builder_fields[new_id] = this_field;\r\n\t\t\t\tfield_names[field_names.length] = this_field.name;\r\n\t\t\t\tfield_content = addFormField(new_id);\r\n\t\t\t}\r\n\t\t}else {\r\n\r\n\t\t\tif(this_field.type == 'dropdown' || this_field.type == 'radio' || this_field.type == 'checkbox') {\r\n\t\t\t\tvar option_values = new Array(),\r\n\t\t\t\t\toption_displays = new Array(),\r\n\t\t\t\t\tthis_displays = $('[name=\"field_value[]\"]'),\r\n\t\t\t\t\thasAccepts = false,\r\n\t\t\t\t\toption_accepts = new Array();\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t$('[name=\"field_display[]\"]').each(function(i, obj) {\r\n\t\t\t\t\toption_values.push($(this_displays[i]).val());\r\n\t\t\t\t\toption_displays.push($(obj).val());\r\n\t\t\t\t});\r\n\t\t\t\toptions = { values: option_values, displays : option_displays};\r\n\t\t\t\tthis_field.options= options;\r\n\r\n\t\t\t\t$('[name=\"accepted[]\"]').each(function(i, obj) {\r\n\t\t\t\t\tif($(this).prop('checked')) {\r\n\t\t\t\t\t\thasAccepts = true;\r\n\t\t\t\t\t\tvalue = $('#fieldValueTable tbody tr:nth('+i+')').find('[name=\"field_value[]\"]').val();\r\n\t\t\t\t\t\toption_accepts.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis_field.has_accepts = hasAccepts;\r\n\t\t\t\tthis_field.accepted_options = option_accepts;\r\n\t\t\t\t\r\n\r\n\t\t\t\tthis_field.value = '';\r\n\t\t\t\tif($('[name=\"default_value\"]:checked').length > 0) {\r\n\t\t\t\t\tthis_index = $('[name=\"default_value\"]:checked').val();\r\n\t\t\t\t\tthis_field.value = $('#fieldValueTable tbody tr:nth('+this_index+')').find('[name=\"field_value[]\"]').val();\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('Default: '+ this_field.value);\r\n\t\t\t\t// this_field['options']['values'] = option_values;\r\n\t\t\t\t// this_field['options']['displays'] = option_displays;\r\n\t\t\t}else {\r\n\t\t\t\tif($('[name=\"value_select\"]').val() != '') {\r\n\t\t\t\t\tthis_field.value = $('[name=\"value_select\"]').val();\r\n\t\t\t\t\tisInShortCodeDropdown = true;\r\n\t\t\t\t}\r\n\t\t\t\telse if($('[name=\"value_input\"]').val() != '') this_field.value = $('[name=\"value_input\"]').val();\r\n\t\t\t\telse this_field.value = '';\r\n\t\t\t}\r\n\r\n\t\t\tvar validations = {};\r\n\t\t\t$('[name=\"validation[]\"]').each(function(i, obj) {\r\n\t\t\t\tvar valid_value = $(this).val();\r\n\t\t\t\tif(valid_value == 'equalTo'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = $('[name=\"equal_to_value\"]').val();\r\n\t\t\t\t}else if(valid_value == 'min'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = $('[name=\"min_value\"]').val();\r\n\t\t\t\t}else if(valid_value == 'max'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = $('[name=\"max_value\"]').val();\r\n\t\t\t\t}else if(valid_value == 'range'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = '[' + $('[name=\"range_min_value\"]').val() + ',' + $('[name=\"range_max_value\"]').val() + ']';\r\n\t\t\t\t}else if(valid_value == 'minWordCount'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = $('[name=\"min_word_count_value\"]').val();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tvalidations[valid_value] = $(this).prop('checked');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis_field.validation = validations;\r\n\r\n\t\t\tif(id > 0 || id != '') {\r\n\t\t\t\t//edit\r\n\t\t\t\tform_builder_fields[id] = this_field;\r\n\t\t\t\tfield_names[id] = this_field.name;\r\n\t\t\t\tvalue_display = this_field.value;\r\n\t\t\t\tif(isInShortCodeDropdown == true) value_display = $('[name=\"value_select\"] option[value=\"'+this_field.value+'\"]').html();\r\n\t\t\t\t\r\n\t\t\t\t//get value\r\n\t\t\t\tif(value_display != '') {\r\n\t\t\t\t\tif(this_field.type == 'dropdown' || this_field.type == 'checkbox' || this_field.type == 'radio') {\r\n\t\t\t\t\t\tdef_val_indx = this_field.options.values.indexOf(this_field.value);\r\n\t\t\t\t\t\tdef_val = value_display;\r\n\t\t\t\t\t\tif(def_val != this_field.options.displays[def_val_indx]) {\r\n\t\t\t\t\t\t\tdef_val += ' - ' + this_field.options.displays[def_val_indx];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tdef_val = value_display;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdef_val_prev = def_val.substr(0,74);\r\n\t\t\t\t\tif(def_val.length > 74) def_val_prev += '...';\r\n\t\t\t\t\tfield_value = '<span class=\"label label-primary\">'+def_val_prev+'</span>';\r\n\t\t\t\t}else field_value = '';\r\n\t\t\t\t\r\n\t\t\t\t//get some options if exists\r\n\t\t\t\tif(this_field.type == 'dropdown' || this_field.type == 'checkbox' || this_field.type == 'radio') {\r\n\t\t\t\t\tif(typeof this_field.options != undefined) {\r\n\t\t\t\t\t\tfieldCounter = 0;\r\n\t\t\t\t\t\t$.each(this_field.options.values, function(i, oVal) {\r\n\t\t\t\t\t\t\tif(oVal != '') {\r\n\t\t\t\t\t\t\t\tif(fieldCounter <= 3) {\r\n\t\t\t\t\t\t\t\t\tif(oVal != this_field.value) {\r\n\t\t\t\t\t\t\t\t\t\tif(oVal == this_field.options.displays[i]) opt_val = oVal;\r\n\t\t\t\t\t\t\t\t\t\telse opt_val = oVal + ' - ' + this_field.options.displays[i];\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\topt_val_prev = opt_val.substr(0,74);\r\n\t\t\t\t\t\t\t\t\t\tif(opt_val.length > 74) opt_val_prev += '...';\r\n\t\t\t\t\t\t\t\t\t\tfield_value += ' <span class=\"label label-info\">'+ opt_val_prev +'</span>';\r\n\t\t\t\t\t\t\t\t\t\tfieldCounter++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\tfield_value += ' <span class=\"label label-info\">...</span>';\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//get name/label\r\n\t\t\t\tvar name_display = this_field.name;\r\n\t\t\t\tif(this_field.label != '') {\r\n\t\t\t\t\tname_display += '<br><small><em>' + this_field.label.substr(0,74);\r\n\t\t\t\t\tif(this_field.label.length > 74) name_display += '...';\r\n\t\t\t\t\tname_display += '</em></small>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// console.log(form_builder_fields[id]);\r\n\t\t\t\t$('#fbf-name-'+id).html(name_display);\r\n\t\t\t\t$('#fbf-type-'+id).html(this_field.type);\r\n\t\t\t\t$('#fbf-value-'+id).html(field_value);\r\n\t\t\t}else {\r\n\t\t\t\t//add\r\n\t\t\t\t// form_builder_fields.push(this_field);\r\n\t\t\t\t// field_names.push(this_field.name);\r\n\t\t\t\t// console.log('Add');\r\n\t\t\t\tvar new_id = form_builder_fields.length;\r\n\t\t\t\tform_builder_fields[new_id] = this_field;\r\n\t\t\t\tfield_names[field_names.length] = this_field.name;\r\n\t\t\t\t// value_display = this_field.value;\r\n\t\t\t\t// if(isInShortCodeDropdown == true) value_display = $('[name=\"value_select\"] option[value=\"'+this_field.value+'\"]').html();\r\n\t\t\t\t// var new_id = $('#formFieldsTable tbody tr').length,\r\n\t\t\t\t\tfield_content = addFormField(new_id);\r\n\r\n\t    \t\t// console.log(this_field);\r\n\t    \t\t// console.log(form_builder_fields);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$('#cmpFormFieldModal').modal('hide');\r\n\t\t// console.log(this_field);\r\n\t});\r\n\r\n\t$(document).on('change','[name=\"validation[]\"]', function() \r\n\t{\r\n\t\tvar type = $(this).val(),\r\n\t\t\tisChecked = $(this).prop('checked');\r\n\r\n\t\tif(type == 'equalTo') {\r\n\t\t\tif(isChecked) $('[name=\"equal_to_value\"]').attr('required',true);\r\n\t\t\telse $('[name=\"equal_to_value\"]').removeAttr('required');\r\n\t\t}else if(type == 'range') {\r\n\t\t\tif(isChecked) {\r\n\t\t\t\t$('[name=\"range_min_value\"]').attr('required',true);\r\n\t\t\t\t$('[name=\"range_max_value\"]').attr('required',true);\r\n\t\t\t}else {\r\n\t\t\t\t$('[name=\"range_min_value\"]').removeAttr('required');\r\n\t\t\t\t$('[name=\"range_max_value\"]').removeAttr('required');\r\n\t\t\t}\r\n\t\t}else if(type == 'min') {\r\n\t\t\tif(isChecked) $('[name=\"min_value\"]').attr('required',true);\r\n\t\t\telse $('[name=\"min_value\"]').removeAttr('required');\r\n\t\t}else if(type == 'max') {\r\n\t\t\tif(isChecked) $('[name=\"max_value\"]').attr('required',true);\r\n\t\t\telse $('[name=\"max_value\"]').removeAttr('required');\r\n\t\t}else if(type == 'minWordCount') {\r\n\t\t\tif(isChecked) $('[name=\"min_word_count_value\"]').attr('required',true);\r\n\t\t\telse $('[name=\"min_word_count_value\"]').removeAttr('required');\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('submit','#campaign_form_builder', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\r\n\t\tvar form =  $('#campaign_form_builder'),\r\n\t\t\tfinal_form_builder_fields = [],\r\n\t\t\tsubmitBtn = $('#cmpConfigAutomationSubmit');\r\n\r\n\t\t//check for unsaved campaign creative\r\n\t\tif($('.editCampaignCreative .glyphicon-remove').length > 0) {\r\n\t\t\talert('Campaign Form Builder NOT SAVED YET. Save unfinished campaign creatives first.');\r\n\t\t\t$('[href=\"#creatives_tab\"]').trigger('click');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// console.log('Submit');\r\n\t\tconfirmation = confirm('Are you sure you want to update this campaign content?');\r\n\r\n\t\tif(confirmation) {\r\n\t\t\t$('#formFieldsTable tbody tr').each(function(index, object) {\r\n\t\t\t\tfinal_form_builder_fields.push(form_builder_fields[$(this).data('id')]);\r\n\t\t\t});\r\n\r\n\t\t\tsubmitBtn.attr('disabled','true');\r\n            submitBtn.html('<i class=\"fa fa-spin fa-spinner\"></i>');\r\n            // console.log(final_form_builder_fields);\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t'id'\t\t: form.find('.this_campaign').val(),\r\n\t\t\t\t\t'type'\t\t: $('#formBuilderCampaignType').val(),\r\n\t\t\t\t\t'form[url]'  : $('#formBuilderSendLeadSelect').val(),\r\n\t\t\t\t\t'form[custom_url]'  : form.find('[name=\"custom_url\"]').val(),\r\n\t\t\t\t\t'form[id]'  : form.find('[name=\"form_id\"]').val(),\r\n\t\t\t\t\t'form[class]'  : form.find('[name=\"form_class\"]').val(),\r\n\t\t\t\t\t'fields'\t: final_form_builder_fields,\r\n\t\t\t\t\t'custom[css]'  : form.find('[name=\"custom_css\"]').val(),\r\n\t\t\t\t\t'custom[js]'  : form.find('[name=\"custom_js\"]').val(),\r\n\t\t\t\t\t'form[linkout_url]'  : form.find('[name=\"redirect_link\"]').val(),\r\n\t\t\t\t},\r\n\t\t\t\turl: $('#baseUrl').html() + '/campaign_form_builder',\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t// console.log(data);\r\n\r\n\t\t\t\t\tform.find('#stack_code').val(data.stack);\r\n\t\t\t\t\tformBuilderCodeMirror.getDoc().setValue(data.stack);\r\n\t\t\t\t\tform.find('#form_id').val(data.form_id);\r\n\t\t\t\t\tform.find('#custom_js').val(data.js);\r\n\t\t\t\t\tjsCodeMirror.getDoc().setValue(data.js);\r\n\t\t\t\t\t\r\n\t\t\t\t\t// $('#cmpFormBuilderModal').modal('show');\r\n\t\t\t\t\tsubmitBtn.html('Save');\r\n                    submitBtn.removeAttr('disabled');\r\n\t\t\t\t\talert('Campaign Form Builder Modification Saved!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t//Update Campaign Content Form Builder Lock\r\n\t$('#stack_form_lock').change(function() {\r\n\r\n        // console.log('reorder toggle: ' + $(this).prop('checked'));\r\n        if($(this).prop('checked'))\r\n        {\r\n            $(this).val(1);\r\n           \tconfirm_stat = 'DISABLED';\r\n           \tstack_lock = 1;\r\n        }\r\n        else\r\n        {\r\n            $(this).val(0);\r\n            confirm_stat = 'ENABLED';\r\n            stack_lock = 0;\r\n        }\r\n\r\n        if ($('#editCampaignStackContent').is(':visible')) {\r\n        \t// var confirmation = confirm('You are about to '+ confirm_stat + ' this campaign from updating campaign content through the form builder');\r\n\t        // if(confirmation) {\r\n\t        \t$.ajax({\r\n\t\t\t\t\ttype: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t'id' : $('#editCmpFormModal').find('#this_id').val(),\r\n\t\t\t\t\t\t'lock' : stack_lock\r\n\t\t\t\t\t},\r\n\t\t\t\t\turl: $('#baseUrl').html() + '/update_campaign_stack_lock',\r\n\t\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\t\talert('This campaign is now '+ confirm_stat + ' from being updated through the content form builder')\r\n\t\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t        // }\r\n        }  \r\n    });\r\n\r\n    $('.selectAcceptedValues').change(function() {\r\n        $('[name=\"accepted[]\"').prop('checked',$(this).prop('checked'));\r\n    });\r\n\r\n    $('#fieldValueTable').on('change','[name=\"accepted[]\"]', function()  {\r\n    \tvar ifChecked = false;\r\n    \tif($('#fieldValueTable').find('[name=\"accepted[]\"]:checked').length == $('#fieldValueTable').find('[name=\"accepted[]\"]').length) {\r\n    \t\tifChecked = true;\r\n    \t}\r\n    \t$('.selectAcceptedValues').prop('checked',ifChecked);\r\n    });\r\n\r\n    $('.clearDefaultValRadio').click(function() {\r\n        $('[name=\"default_value\"').prop('checked',false);\r\n    });\r\n\r\n    $(document).on('click','#uploadFileValuesBtn', function() \r\n\t{\r\n\t\tvar file = $('#upload_file_value').val(),\r\n\t\t\tlabel = $('[for=\"upload_file_value\"]');\r\n\r\n\t\tlabel.removeClass('error_label');\r\n\t\tif(file != '') {\r\n\t\t\tvar file_data = $('#upload_file_value').prop('files')[0];   \r\n\t    \tvar formData = new FormData();\r\n\t    \tformData.append('file', file_data);\r\n\t    \t// console.log(file_data);\r\n\t    \t$.ajax({\r\n\t            url: $('#baseUrl').html() + '/campaign_upload_field_options',\r\n\t            dataType: 'text', \r\n\t            cache: false,\r\n\t            contentType: false,\r\n\t            processData: false,\r\n\t            data: formData,                         \r\n\t            type: 'post',\r\n\t            success: function(data){\r\n\t                options = $.parseJSON(data);\r\n\t                displays = options.displays;\r\n\t                $.each(options.values, function(i, value) {\r\n\t                \taddFieldRow(value, displays[i], false, false);\r\n\t                });\r\n\t                // console.log(options);\r\n\t                $('#uploadValueCollapse').collapse('hide');\r\n\t            }\r\n\t     \t});\r\n\t\t}else {\r\n\t\t\tlabel.addClass('error_label');\r\n\t\t}\r\n    });\r\n\r\n    $('#uploadValueCollapse').on('hide.bs.collapse', function () {\r\n\t \t$('#upload_file_value').val('');\r\n\t \t$('[for=\"upload_file_value\"]').removeClass('error_label');\r\n\t});\r\n\r\n\t$(document).on('change','[name=\"value_select\"]', function(e) \r\n\t{\r\n\t\t$('[name=\"value_input\"]').val('');\r\n\t});\r\n\r\n\t$(document).on('change','[name=\"value_input\"]', function(e) \r\n\t{\r\n\t\t$('[name=\"value_select\"]').val('');\r\n\t});\r\n\r\n\t/* Campaign Affiliate Management */\r\n\r\n    var affiliateSelect = $('#searchCmpAffMgmt').select2({\r\n        //tags: true,\r\n        // placeholder: 'Select the id or name of the affiliate.',\r\n        // minimumInputLength: 2,\r\n        dropdownParent: $(\"#affCampMgmtModal\"),\r\n        theme: 'bootstrap',\r\n        language: {\r\n            inputTooShort: function(args) {\r\n                return \"Please enter the id or name of the affiliate. (Enter 1 or more characters)\";\r\n            }\r\n        },\r\n        ajax: {\r\n            url: $('#baseUrl').html()+'/search/select/activeAffiliates',\r\n            dataType: \"json\",\r\n            type: \"POST\",\r\n            data: function (params) {\r\n                var queryParameters = {\r\n                    term: params.term\r\n                };\r\n                // console.log(params);\r\n                return queryParameters;\r\n            },\r\n            processResults: function (data) {\r\n            \t// console.log(data);\r\n                return {\r\n                    results: $.map(data.items, function (item) {\r\n                        return {\r\n                            text: item.name,\r\n                            id: item.id\r\n                        }\r\n                    })\r\n                };\r\n            }\r\n        }\r\n    });\r\n\r\n  \tvar campaignAffiliateManagementTable = $('#cmpAffMgmt-table')\r\n\t.on( 'page.dt',   function () {\r\n    \t$('#allCAMcampaigns-chkbx').prop('checked', false).trigger('change');\r\n    \t$('#allCAMTblcampaigns-chkbx').prop('checked', false).trigger('change');\r\n    })\r\n\t.DataTable({\r\n\t\t'processing': true,\r\n\t\t'serverSide': true,\r\n\t\t'columns': [\r\n\t\t\t{ 'orderable': false },\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t\tnull,\r\n\t\t],\r\n\t\t\"order\": [[ 1, \"asc\" ]],\r\n\t\t'ajax':{\r\n\t\t\turl:$('#baseUrl').html() + '/campaigns/datatable/affiliate_managament', // json datasource\r\n\t\t\ttype: 'post',  // method\r\n\t\t\t'data': function(d)\r\n            {\r\n                d.operation = $('#cam_op_chkbx').val();\r\n                d.affiliate = $('#searchCmpAffMgmt').val();\r\n            },\r\n            \"dataSrc\": function ( json ) {\r\n                // $('#downloadSurveyTakers').removeAttr('disabled');\r\n                return json.data;\r\n            },\r\n\t\t},\r\n\t\t\"createdRow\": function( row, data, dataIndex ) {\r\n            if(data[5] != 'Default' && data[5] != '') {\r\n            \t$(row).addClass('cam_active_row');\r\n            }\r\n            // console.log(row);\r\n            // console.log(data);\r\n            // console.log(dataIndex);\r\n        }\r\n\t});\r\n  \t$('#cam_op_chkbx').bootstrapToggle('off');\r\n\r\n  \tfunction checkValidCamAffMgmt() {\r\n  \t\tvar submitBtn = $('#campAffMgmtSubmitBtn'),\r\n  \t\t\taff = $('#searchCmpAffMgmt').val(),\r\n  \t\t\tcheckAll = $('#allCAMTblcampaigns-chkbx').prop('checked'),\r\n  \t\t\tallCamp = $('#allCAMcampaigns-chkbx').prop('checked'),\r\n  \t\t\tcamp = $('[name=\"cam_campaign[]\"]:checked').length,\r\n  \t\t\tcap_type = $('.camAddAff-div #lead_cap_type').val(),\r\n  \t\t\tcap_val = Math.floor(Number($('.camAddAff-div #lead_cap_value').val())),\r\n  \t\t\top = $('#cam_op_chkbx').val(),\r\n  \t\t\terrorNum = 0;\r\n\r\n  \t\tif(op == 1) {\r\n  \t\t\tif(cap_type > 0 && !(cap_val > 0)) errorNum++;\r\n  \t\t}\r\n\r\n  \t\tif(aff === null) errorNum++;\r\n\r\n  \t\tif(!checkAll && !allCamp && camp == 0) errorNum++;\r\n\r\n  \t\tif(errorNum == 0) submitBtn.show();\r\n  \t\telse submitBtn.hide();\r\n  \t}\r\n\r\n    $('#affCampMgmtModal').on('change','#allCAMcampaigns-chkbx', function(e) \r\n    {\r\n        if($(this).prop('checked')){\r\n        \t$('[name=\"cam_campaign[]\"]').prop('checked',false).attr('disabled', true);\r\n        \t$('#allCAMTblcampaigns-chkbx').prop('checked', false).attr('disabled', true);\r\n        }else\r\n        {\r\n            $('[name=\"cam_campaign[]\"]').prop('checked',false).removeAttr('disabled');\r\n        \t$('#allCAMTblcampaigns-chkbx').prop('checked',false).removeAttr('disabled');\r\n        }\r\n\r\n        $('.cam_cmp_type').prop('checked', false);\r\n\r\n        checkValidCamAffMgmt();\r\n    });\r\n\r\n    $('#affCampMgmtModal').on('change','#allCAMTblcampaigns-chkbx', function(e) \r\n    {\r\n    \t$('[name=\"cam_campaign[]\"]').prop('checked',$(this).prop('checked'));\r\n    \t$('.cam_cmp_type').prop('checked', $(this).prop('checked'));\r\n\r\n        if($(this).prop('checked')){\r\n        \t$('#allCAMcampaigns-chkbx').prop('checked', false).attr('disabled', true);\r\n        }else\r\n        {\r\n        \t$('#allCAMcampaigns-chkbx').prop('checked',false).removeAttr('disabled');\r\n        }\r\n\r\n        checkValidCamAffMgmt();\r\n    });\r\n\r\n    $('#cmpAffMgmt-table').on('change','[name=\"cam_campaign[]\"]', function()  {\r\n\r\n    \t$('[name=\"cam_campaign_type['+$(this).val()+']\"]').prop('checked', $(this).prop('checked'));\r\n\r\n    \tvar ifChecked = false;\r\n    \tif($('#cmpAffMgmt-table').find('[name=\"cam_campaign[]\"]:checked').length == $('#cmpAffMgmt-table').find('[name=\"cam_campaign[]\"]').length) {\r\n    \t\tifChecked = true;\r\n    \t}\r\n    \t$('#allCAMTblcampaigns-chkbx').prop('checked',ifChecked);\r\n\r\n    \tcheckValidCamAffMgmt();\r\n    });\r\n\r\n    $('.camAddAff-div').on('change','[name=\"lead_cap_type\"]', function(e) \r\n    {\r\n    \tvar $value = $('.camAddAff-div').find('[name=\"lead_cap_value\"]');\r\n    \tif($(this).val() > 0) {\r\n    \t\t$value.removeAttr('disabled');\r\n    \t}else {\r\n    \t\t$value.attr('disabled', true);\r\n    \t}\r\n    \t$value.val('');\r\n\r\n    \tcheckValidCamAffMgmt();\r\n    });\r\n\r\n    $('.camAddAff-div').on('change','[name=\"lead_cap_value\"]', function(e) \r\n    {\r\n    \tcheckValidCamAffMgmt();\r\n    });\r\n\r\n\t$(document).on('click','#affiliateCampaignMgmtBtn', function() \r\n\t{\r\n\t\t// campaignAffiliateManagementTable.ajax.reload();\r\n\t\t$('#affCampMgmtModal').modal('show');\r\n\t\tcheckValidCamAffMgmt();\r\n    });\r\n\r\n\t// change event for operation\r\n    $('#affCampMgmtModal').on('change','#cam_op_chkbx', function(e) \r\n    {\r\n    \t// $('#allCAMTblcampaigns-chkbx').prop('checked', false).trigger('change');\r\n        if($(this).prop('checked')) {\r\n        \t//Add\r\n        \t$(this).val(1);\r\n\r\n        \t$('.camAddAff-div').show();\r\n\r\n\t\t\t// $('#affCampMgmtModal').modal('show');\r\n        }\r\n        else { \r\n        \t//Remove\r\n        \t$(this).val(0);\r\n\r\n        \t$('.camAddAff-div').hide();\r\n        \t$('.camAddAff-div').find('[name=\"lead_cap_type\"]').val(0).trigger('change');\r\n        }\r\n\r\n        if($('#searchCmpAffMgmt').val() != null) campaignAffiliateManagementTable.ajax.reload();\r\n    \t\r\n    \tcheckValidCamAffMgmt();\r\n    });\r\n\r\n    $('#affCampMgmtModal').on('hidden.bs.modal', function (e) {\r\n\t\t$('#searchCmpAffMgmt').val(null).trigger('change');\r\n\t\t$('#cam_op_chkbx').bootstrapToggle('off');\r\n\t\t$('.camAddAff-div').hide();\r\n\t\t$('.camAddAff-div').find('[name=\"lead_cap_type\"]').val(0).trigger('change');\r\n\t\tcampaignAffiliateManagementTable.ajax.reload();\r\n\t});\r\n\r\n    $('#affCampMgmtModal').on('change','#searchCmpAffMgmt', function(e) \r\n    {\r\n    \tcampaignAffiliateManagementTable.ajax.reload();\r\n\r\n    \tcheckValidCamAffMgmt();\r\n    });\r\n\r\n    //Get Available Affiliates\r\n    var campaign_available_affiliates = null;\r\n    $('[href=\"#affiliate_tab\"]').click(function() {\r\n\t\tif(campaign_available_affiliates == null) {\r\n\t\t\tvar addBtn = $('#addCampAff');\r\n\t\t\t\taddBtn.find('span').removeClass().addClass('fa fa-spin fa-spinner');\r\n\t\t\t\taddBtn.attr('disabled', true);\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : $('#baseUrl').html() + '/get_available_affiliates_for_campaign',\r\n\t\t\t\tdata : {\r\n\t\t\t\t\t'id' : $('.this_campaign').val()\r\n\t\t\t\t}, \r\n\t\t\t\tsuccess : function(affiliates) {\r\n\t\t\t\t\t// console.log(affiliates);\r\n\t\t\t\t\tcampaign_available_affiliates = affiliates;\r\n\t\t\t\t\t$('select[name=\"affiliates[]\"] option').remove();\r\n\t\t\t\t\tvar aff_select = $('select[name=\"affiliates[]\"]');\r\n\t\t\t\t\t$.each(campaign_available_affiliates, function(index,value){\r\n\t\t\t\t\t\taff_select.append('<option value=\"'+index+'\">'+value+'</option>');\r\n\t\t\t\t\t});\t\t\r\n\t\t\t\t\tvar affiliate_count = $('select[name=\"affiliates[]\"] option').length;\r\n\t\t\t\t\tif(affiliate_count <= 10) $('select[name=\"affiliates[]\"]').attr('size', affiliate_count);\r\n\t\t\t\t\telse $('select[name=\"affiliates[]\"]').attr('size', 10);\r\n\r\n\t\t\t\t\taddBtn.find('span').removeClass().addClass('glyphicon glyphicon-plus');\r\n\t\t\t\t\taddBtn.removeAttr('disabled');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n    //Get Available Affiliates for Payout\r\n    var campaign_payout_available_affiliates = null;\r\n    $('[href=\"#payout_tab\"]').click(function() {\r\n\t\tif(campaign_payout_available_affiliates == null) {\r\n\t\t\tvar addBtn = $('#addPytAff');\r\n\t\t\t\taddBtn.find('span').removeClass().addClass('fa fa-spin fa-spinner');\r\n\t\t\t\taddBtn.attr('disabled', true);\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype : 'POST',\r\n\t\t\t\turl  : $('#baseUrl').html() + '/get_available_affiliates_for_campaign_payout',\r\n\t\t\t\tdata : {\r\n\t\t\t\t\t'id' : $('.this_campaign').val()\r\n\t\t\t\t}, \r\n\t\t\t\tsuccess : function(affiliates) {\r\n\t\t\t\t\t// console.log(affiliates);\r\n\t\t\t\t\tcampaign_payout_available_affiliates = affiliates;\r\n\t\t\t\t\t$('select[name=\"payout[]\"] option').remove();\r\n\t\t\t\t\tvar aff_select = $('select[name=\"payout[]\"]');\r\n\t\t\t\t\t$.each(campaign_payout_available_affiliates, function(index,value){\r\n\t\t\t\t\t\taff_select.append('<option value=\"'+index+'\">'+value+'</option>');\r\n\t\t\t\t\t});\t\t\r\n\t\t\t\t\tvar affiliate_count = $('select[name=\"payout[]\"] option').length;\r\n\t\t\t\t\tif(affiliate_count <= 10) $('select[name=\"payout[]\"]').attr('size', affiliate_count);\r\n\t\t\t\t\telse $('select[name=\"payout[]\"]').attr('size', 10);\r\n\r\n\t\t\t\t\taddBtn.find('span').removeClass().addClass('glyphicon glyphicon-plus');\r\n\t\t\t\t\taddBtn.removeAttr('disabled');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t// var campaign_affiliate_datatable = $('#campaign-affiliates-table').DataTable({\r\n\t// \t'processing': true,\r\n\t// \t'serverSide': true,\r\n\t// \t'columns': [\r\n\t// \t\t{ 'orderable': false },\r\n\t// \t\tnull,\r\n\t// \t\tnull,\r\n\t// \t\tnull,\r\n\t// \t\tnull,\r\n\t// \t],\r\n\t// \t\"order\": [[ 1, \"asc\" ]],\r\n\t// \t'ajax':{\r\n\t// \t\turl:$('#baseUrl').html() + '/campaign_affiliates_datatable',\r\n\t// \t\ttype: 'post',\r\n\t// \t\t'data': function(d)\r\n\t//         {\r\n\t//             d.status = $('#campAffiliaStatus').val();\r\n\t//             d.campaign = $('.this_campaign').val();\r\n\t//         },\r\n\t// \t\terror: function(data) //error handling\r\n\t// \t\t{\r\n\t// \t\t\tconsole.log(data);\r\n\t// \t\t}\r\n\t// \t},\r\n\t// \t\"createdRow\": function( row, data, dataIndex ) {\r\n //            if(data[2] != 'Default' && data[2] != '') {\r\n //            \t$(row).addClass('camAff_active_row');\r\n //            }\r\n //        },\r\n\t// \tlengthMenu: [[25,50,100,1000,2000,3000],[25,50,100,1000,2000,3000]],\r\n\t// \t\"sDom\": 'lf<\"camAffAddtnlToolbar\">rtip'\r\n\t// });\r\n\r\n\t// $(\"div.camAffAddtnlToolbar\").html('<label> Affiliate: <select id=\"campAffiliaStatus\" class=\"form-control input-sm\"><option value=\"1\">Active</option><option value=\"0\">Inactive</option><option value=\"\">All</option></select></label>');\r\n\r\n\t// $(document).on('change','#campAffiliaStatus', function() \r\n\t// {\r\n\t// \tcampaign_affiliate_datatable.ajax.reload();\r\n //    });\r\n\r\n\t// var affiliate_table = $('#campaign-affiliate-table').DataTable({\r\n\t// \t'processing': true,\r\n\t// \t'serverSide': true,\r\n\t// \t\"columns\": [\r\n\t// \t\t{ \"orderable\": false },\r\n\t// \t\tnull,\r\n\t// \t\tnull,\r\n\t// \t\tnull,\r\n\t// \t\t{ \"orderable\": false }\r\n\t// \t],\r\n\t// \t\"order\": [[ 1, \"asc\" ]],\r\n\t// \t'ajax':{\r\n\t// \t\turl: $('#baseUrl').html() + '/get_campaign_affiliates', // json datasource\r\n\t// \t\ttype: 'post',  // method  , by default get\r\n\t// \t\t'data': function(d)\r\n\t//         {\r\n\t//             d.campaign = $('.this_campaign').val();\r\n\t//         },\r\n\t// \t\terror: function(){  // error handling\r\n\r\n\t// \t\t}\r\n\t// \t},\r\n\t// \tlengthMenu: [[25,50,100,1000,2000,3000],[25,50,100,1000,2000,3000]]\r\n\t// });\r\n\r\n\t// $('.search-campaign-affiliate-select').select2({\r\n //        //tags: true,\r\n //        placeholder: 'Select the id or name of the affiliate.',\r\n //        minimumInputLength: 1,\r\n //        dropdownParent: $(\"#editCmpFormModal\"),\r\n //        theme: 'bootstrap',\r\n //        language: {\r\n //            inputTooShort: function(args) {\r\n //                return \"Please enter the id or name of the affiliate. (Enter 1 or more characters)\";\r\n //            }\r\n //        },\r\n //        ajax: {\r\n //            url: $('#baseUrl').html()+'/search/select/campaignAffiliate',\r\n //            dataType: \"json\",\r\n //            type: \"POST\",\r\n //            data: function (params) {\r\n\r\n //                var queryParameters = {\r\n //                    term: params.term,\r\n //                    campaign: $('.this_campaign').val()\r\n //                };\r\n //                return queryParameters;\r\n //            },\r\n //            processResults: function (data) {\r\n //                return {\r\n //                    results: $.map(data.items, function (item) {\r\n //                        return {\r\n //                            text: item.name,\r\n //                            id: item.id\r\n //                        }\r\n //                    })\r\n //                };\r\n //            }\r\n //        }\r\n //    });\r\n\r\n \t//CAMPAIGN CONFIG FTP\r\n \t//Update Campaign Content Form Builder Lock\r\n\t$('#if_ftp_sent').change(function() {\r\n\t    // console.log('reorder toggle: ' + $(this).prop('checked'));\r\n\t    if($(this).prop('checked'))\r\n\t    {\r\n\t        $(this).val(1);\r\n\t       \t$('.cmpCfgFtp-fld').attr('required', true);\r\n\r\n\t       \tif($('#cmpCfg-ftppt-txt input').val() == '') {\r\n\t       \t\t$('#cmpCfg-ftppt-txt input').val(21);\r\n\t       \t}\r\n\r\n\t       \tif($('#cmpCfg-ftpto-txt input').val() == '') {\r\n\t       \t\t$('#cmpCfg-ftpto-txt input').val(30);\r\n\t       \t}\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t        $(this).val(0);\r\n\t        $('.cmpCfgFtp-fld').removeAttr('required');\r\n\t    }\r\n\t});\r\n\r\n\t$('#if_email_sent').change(function() {\r\n\t    // console.log('reorder toggle: ' + $(this).prop('checked'));\r\n\t    if($(this).prop('checked'))\r\n\t    {\r\n\t        $(this).val(1);\r\n\t       \t$('.cmpCfgSTE-fld').attr('required', true);\r\n\t    }\r\n\t    else\r\n\t    {\r\n\t        $(this).val(0);\r\n\t        $('.cmpCfgSTE-fld').removeAttr('required');\r\n\t    }\r\n\t});\r\n\r\n\t/* JSON FORM BUILDER */\r\n\r\n\tvar json_form_builder_fields = [],\r\n    \tjson_field_names = [];\r\n\r\n    var json_sorted = $('#jsonFormFieldsTable tbody').sortable({\r\n\t\thandle: '.sortJsonFieldHandle',\r\n\t\titems: \"tr:not(.sortDisabled)\"\r\n\t});\t\r\n\r\n\tvar scriptCodeMirror = CodeMirror.fromTextArea($('#custom_script')[0], {\r\n\t  \ttheme: 'default',\r\n\t    lineNumbers: true,\r\n        matchBrackets: true,\r\n        mode: \"application/x-httpd-php\",\r\n        // mode: 'javascript',\r\n        // mode: 'text/html',\r\n        indentUnit: 4,\r\n        indentWithTabs: true\r\n\t});\r\n\r\n\tfunction addJsonFieldRow(value, display, image_url,  isDefault, isAccepted){\r\n\t\tvar table = $('#jsonFieldValueTable tbody'),\r\n\t\t\tifDefault = '',\r\n\t\t\tifAccepted ='',\r\n\t\t\ttr_id = $('#jsonFieldValueTable tbody tr').length;\r\n\r\n\t\t\tif(isDefault) ifDefault = 'checked';\r\n\t\t\tif(isAccepted) ifAccepted = 'checked';\r\n\t\tvar row = '<tr><th><span class=\"sortValueHandle glyphicon glyphicon-resize-vertical\"></span></th>' +\r\n\t\t\t\t'<th><input name=\"default_value\" type=\"radio\" value=\"'+tr_id+'\" '+ifDefault+'></th>' +\r\n\t\t\t\t'<th valign=\"middle\"><input name=\"field_value[]\" value=\"'+value+'\" type=\"text\" class=\"form-control\" required></th>' +\r\n\t\t\t\t'<td><div class=\"row\"><div class=\"col-md-12\"><img src=\"'+image_url+'\"></div><div class=\"col-md-12 form_div\" style=\"\"><label>Image URL:</label><input class=\"form-control this_field\" name=\"field_img_value[]\" type=\"text\" value=\"'+image_url+'\"></div><div class=\"col-md-12 form_div mt-1\" style=\"\"><label>Description</label><textarea name=\"field_display[]\" class=\"form-control cmpFB_item\" rows=\"2\" required>'+display+'</textarea></div></div></td>' +\r\n\t\t\t\t'<th><input name=\"accepted[]\" type=\"checkbox\" value=\"'+tr_id+'\" '+ifAccepted+'></th>' +\r\n                '<td><button class=\"removeRowFielValue btn btn-default pull-right\"><span class=\"glyphicon glyphicon-remove\"></span>' + \r\n                '</button></td></tr>';\r\n        table.append(row);\r\n\t}\r\n\r\n\tfunction addJsonFormField(index) {\r\n    \tvar field_table = $('#jsonFormFieldsTable tbody'),\r\n    \t\tfield = json_form_builder_fields[index],\r\n    \t\ttype = field.type,\r\n    \t\tvalue = field.value,\r\n    \t\tname = field.name;\r\n\r\n    \t// console.log(field);\r\n\r\n    \tif(field.value.indexOf('\"') < 0) {\r\n\t    \tif($('select[name=\"value_select\"] option[value=\"'+field.value+'\"]').length > 0) {\r\n\t\t\t\tvalue = $('select[name=\"value_select\"] option[value=\"'+field.value+'\"]').html();\r\n\t\t\t}\r\n\t\t}\r\n\r\n    \t//check if standard field\r\n    \tif(field.standard == 'true') {\r\n\t\t\tremove = 'disabled';\r\n\t\t\tsort = '';\r\n\t\t\tsortable = 'class=\"sortDisabled\"';\r\n\t\t}else {\r\n\t\t\tsort = '<span class=\"sortJsonFieldHandle glyphicon glyphicon-resize-vertical\"></span>';\r\n\t\t\tremove = '';\r\n\t\t\tsortable = '';\r\n\t\t}\r\n\r\n\t\t//get value\r\n\t\tif(value != '') {\r\n\t\t\tif(type == 'article'){\r\n\t\t\t\tprev_val = value;\r\n\t\t\t\tprev_val = prev_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"); //remove links\r\n\t\t\t\tprev_val = prev_val.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n\t\t\t\tprev_val = prev_val.substr(0,150);\r\n\t\t\t\tif(value.length > 150) prev_val += '...';\r\n\t\t\t\tfield_value = '<small><em>'+prev_val+'</em></small>';\r\n\t\t\t}else {\r\n\t\t\t\tdef_val = value;\r\n\t\t\t\tif(type == 'dropdown' || type == 'checkbox' || type == 'radio') {\r\n\t\t\t\t\tdef_val_indx = field.options.values.indexOf(field.value);\r\n\t\t\t\t\tif(field.value != field.options.displays[def_val_indx]) {\r\n\t\t\t\t\t\tdef_val += ' - ' + field.options.displays[def_val_indx];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tdef_val = def_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"); //remove links\r\n\t\t\t\tdef_val_prev = def_val.substr(0,74);\r\n\t\t\t\tif(def_val.length > 74) def_val_prev += '...';\r\n\t\t\t\tfield_value = '<span class=\"label label-primary\">'+def_val_prev+'</span>';\r\n\t\t\t\t// console.log(def_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"));\r\n\t\t\t}\r\n\t\t}else field_value = '';\r\n\t\t\r\n\t\t//get some options if exists\r\n\t\tif(type == 'dropdown' || type == 'checkbox' || type == 'radio') {\r\n\t\t\tif(typeof field.options != undefined) {\r\n\t\t\t\tfieldCounter = 0;\r\n\t\t\t\t$.each(field.options.values, function(i, oVal) {\r\n\t\t\t\t\tif(oVal != '') {\r\n\t\t\t\t\t\tif(fieldCounter <= 3) {\r\n\t\t\t\t\t\t\tif(oVal != field.value) {\r\n\t\t\t\t\t\t\t\tif(oVal == field.options.displays[i]) opt_val = oVal;\r\n\t\t\t\t\t\t\t\telse opt_val = oVal + ' - ' + field.options.displays[i];\r\n\t\t\t\t\t\t\t\topt_val = opt_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"); //remove links\r\n\t\t\t\t\t\t\t\topt_val_prev = opt_val.substr(0,74);\r\n\t\t\t\t\t\t\t\tif(opt_val.length > 74) opt_val_prev += '...';\r\n\t\t\t\t\t\t\t\tfield_value += ' <span class=\"label label-info\">'+ opt_val_prev +'</span>';\r\n\t\t\t\t\t\t\t\tfieldCounter++;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\tfield_value += ' <span class=\"label label-info\">...</span>';\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//get name/label\r\n\t\tvar name_display = name;\r\n\t\tif(field.label != '') {\r\n\t\t\tname_display += '<br><small><em>' + field.label.substr(0,74);\r\n\t\t\tif(field.label.length > 74) name_display += '...';\r\n\t\t\tname_display += '</em></small>';\r\n\t\t}\r\n\r\n    \tfield_content = '<tr '+sortable+' data-id=\"'+index+'\"><th>'+sort+'</th>' +\r\n\t\t\t'<th id=\"jfbf-name-'+index+'\">'+ name_display +'</th>' +\r\n          \t'<td><span id=\"jfbf-type-'+index+'\" class=\"label label-default\">'+ type +'</span></td>' +\r\n          \t'<td id=\"jfbf-value-'+index+'\">'+ field_value +'</td>' +\r\n          \t'<td><button type=\"button\" class=\"removeJsonFieldBtn btn btn-default pull-right\" style=\"margin-left: 5px\" data-id=\"'+index+'\" '+remove+'><span class=\"glyphicon glyphicon-trash\"></span></button>' +\r\n          \t'<button type=\"button\" class=\"viewJsonFieldModalBtn btn btn-default pull-right\" data-id=\"'+index+'\"><span class=\"glyphicon glyphicon-pencil\"></span></button></td>' +\r\n            '</tr>';\r\n\r\n        field_table.append(field_content);\r\n    }\r\n\r\n\t$(document).on('click','.campaignJsonFormBuilder', function() \r\n\t{\r\n\t\tvar id = $(this).data('id'),\r\n\t\t\tcampaign_type = $(this).data('type'),\r\n\t\t\tform_builder = $('#campaign_json_form_builder'),\r\n\t\t\tthe_url = $('#baseUrl').html() + '/get_campaign_json_content';\r\n\r\n\t\tform_builder.find('#this_campaign').val(id);\r\n\t\t$('.this_campaign').val(id);\r\n\t\t$('#cmpJsonFormBuilderModal #cmpName').html(id + ' - ' + $('#cmp-'+id+'-name').html());\r\n\t\t$('#cmpJsonFormBuilderModal #jsonFormBuilderCampaignType').val(campaign_type);\r\n\r\n\t\t//campaign type\r\n\t\tif(campaign_type == 5 || campaign_type == 6) { //link out\r\n\t\t\t$('.jsonFormBuilderCoregElement').hide();\r\n\t\t\t$('.jsonFormBuilderCoregElement').find('[name=\"send_lead_to\"]').removeAttr('required');\r\n\t\t\t$('.jsonFormBuilderLinkoutElement').show();\r\n\t\t\t$('.jsonFormBuilderLinkoutElement').find('[name=\"redirect_link\"]').attr('required', true);\r\n\t\t}else {\r\n\t\t\t$('.jsonFormBuilderCoregElement').show();\r\n\t\t\t$('.jsonFormBuilderCoregElement').find('[name=\"send_lead_to\"]').attr('required', true);\r\n\t\t\t$('.jsonFormBuilderLinkoutElement').hide();\r\n\t\t\t$('.jsonFormBuilderLinkoutElement').find('[name=\"redirect_link\"]').removeAttr('required');\r\n\t\t}\r\n\r\n\t\t$.ajax({\r\n\t\t\ttype: 'POST',\r\n\t\t\tdata: {\r\n\t\t\t\t'id'\t:\tid,\r\n\t\t\t\t'type'\t:   campaign_type\r\n\t\t\t},\r\n\t\t\turl: the_url,\r\n\t\t\tsuccess: function(data) {\r\n\t\t\t\tconsole.log(data);\r\n\r\n\t\t\t\tif(data.json != null) {\r\n\t\t\t\t\tvar json = data.json,\r\n\t\t\t\t\t\tform = json.form,\r\n\t\t\t\t\t\tfield_table = $('#jsonFormFieldsTable tbody');\r\n\t\t\t\t\t// console.log(json);\r\n\t\t\t\t\t// //lock\r\n\t\t\t\t\t// if(data.lock == 1) {\r\n\t\t\t\t\t// \t$('.form_builder_btn').attr('disabled',true);\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\tif(campaign_type == 5) {\r\n\t\t\t\t\t\tform_builder.find('#redirect_link').val(form.redirect_link);\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tif(form.url == 'lead_reactor' || form.url == 'lead_filter') {\r\n\t\t\t\t\t\t\t$('#jsonFormBuilderSendLeadSelect').val(form.url);\r\n\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t$('#jsonFormBuilderSendLeadSelect').val('custom').change();\r\n\t\t\t\t\t\t\t$('#jsonFormBuilderCustomUrlInput').val(form.custom_url);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t//form\r\n\t\t\t\t\tform_builder.find('#form_id').val(form.id);\r\n\t\t\t\t\tform_builder.find('#form_class').val(form.class);\r\n\t\t\t\t\tform_builder.find('#redirect_link').val(form.linkout_url);\r\n\r\n\t\t\t\t\tjson_form_builder_fields = [];\r\n\t\t\t\t\tjson_field_names = [];\r\n\t\t\t\t\t//fields\r\n\t\t\t\t\t$.each(json.fields, function(index, field)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar this_field = field;\r\n\t\t\t\t\t\tthis_field.has_accepts = field.has_accepts == 'true' ? true : false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(field.hasOwnProperty(\"validation\")) {\r\n\t\t\t\t\t\t\t$.each(field.validation, function(name, val)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tvar evalue = val;\r\n\t\t\t\t\t\t\t\tif(val == 'false') evalue = false;\r\n\t\t\t\t\t\t\t\telse if(val == 'true') evalue = true; \r\n\t\t\t\t\t\t\t\tthis_field.validation[name] = evalue;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tjson_form_builder_fields.push(this_field);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// console.log(json_form_builder_fields);\r\n\t\t\t\t\t$.each(json.fields, function(index, field)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tjson_field_names.push(field.name);\r\n\t\t\t\t\t\tvar field_content = addJsonFormField(index);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tform_builder.find('#custom_script').val(data.script);\r\n\t\t\t\t\tscriptCodeMirror.getDoc().setValue(data.script);\r\n\t\t\t\t}else {\r\n\t\t\t\t\tjson_form_builder_fields = [];\r\n\t\t\t\t\tjson_field_names = [];\r\n\t\t\t\t\tscriptCodeMirror.getDoc().setValue('');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcampaignJsonCreativeTable.ajax.reload();\r\n\t\t\t\t$('#cmpJsonFormBuilderModal').modal('show');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(document).on('click','#addFormFieldJson', function() \r\n\t{\r\n\t\t$('#jsonFormFieldModal').modal('show');\r\n\t});\r\n\r\n\t$(document).on('click','#addJsonFieldValueBtn', function() \r\n\t{\r\n\t\taddJsonFieldRow('', '', '', false, false);\r\n\t\t$('#jsonFieldValueTable tbody tr:last [name=\"field_value[]\"]').focus();\r\n\t});\r\n\t\r\n\t$(document).on('change','#jsonFormBuilderFieldTypeSelect', function() \r\n\t{\r\n\t\tvar value = $(this).val();\r\n\t\tif(value == 'article'){\r\n\t\t\t$('.json_input_field_group').hide();\r\n\t\t\t$('.json_article_field_group').show();\r\n\t\t\t$('#json_form_builder_field #name').removeAttr('required');\r\n\t\t}else if(value == 'dropdown' || value == 'radio' || value == 'checkbox') {\r\n\t\t\t$('.json_input_field_group').show();\r\n\t\t\t$('.json_article_field_group').hide();\r\n\t\t\t$('#json_form_builder_field #name').attr('required', true);\r\n\r\n\t\t\t$('.json_value_group_two').show();\r\n\t\t\t$('.json_value_group_one').hide();\r\n\t\t}else {\r\n\t\t\t$('.json_input_field_group').show();\r\n\t\t\t$('.json_article_field_group').hide();\r\n\t\t\t$('#json_form_builder_field #name').attr('required', true);\r\n\r\n\t\t\t$('.json_value_group_two').hide();\r\n\t\t\t$('.json_value_group_one').show();\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('click','.clearJsonFieldValueTable', function() \r\n\t{\r\n\t\t$('#jsonFieldValueTable tbody').html('');\r\n\t});\r\n\r\n\t$(document).on('submit','#json_form_builder_field', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\r\n\t\tvar form = $(this),\r\n\t\t\tid = $('#jsonFormFieldModal #field_id').val(),\r\n\t\t\tthis_field = new Object(),\r\n\t\t\tisInShortCodeDropdown = false;\r\n\r\n\t\t// console.log(id);\r\n\r\n\t\tthis_field.name = form.find('#name').val();\r\n\t\tthis_field.type = $('#jsonFormBuilderFieldTypeSelect').val();\r\n\t\tthis_field.id = form.find('#id').val();\r\n\t\tthis_field.class = form.find('#class').val();\r\n\t\tthis_field.label = form.find('#label').val();\r\n\r\n\t\tif(this_field.type == 'article') {\r\n\t\t\tthis_field.value = form.find('#article').val();\r\n\t\t\tprev_val = this_field.value;\r\n\t\t\tprev_val = prev_val.replace(/<a\\b[^>]*>(.*?)<\\/a>/i,\"\"); //remove links\r\n\t\t\tprev_val = prev_val.replace(/<\\/?[^>]+(>|$)/g, \"\");\r\n\t\t\tprev_val = prev_val.substr(0,150);\r\n\t\t\tif(this_field.value.length > 150) prev_val += '...';\r\n\t\t\tfield_value = '<small><em>'+prev_val+'</em></small>';\r\n\t\t\t\r\n\t\t\tif(id > 0 || id != '') { //edit existing article field row\r\n\t\t\t\tjson_form_builder_fields[id] = this_field;\r\n\t\t\t\t$('#jfbf-name-'+id).html('');\r\n\t\t\t\t$('#jfbf-type-'+id).html(this_field.type);\r\n\t\t\t\t$('#jfbf-value-'+id).html(field_value);\r\n\t\t\t}else{ //add\r\n\t\t\t\tvar new_id = json_form_builder_fields.length;\r\n\t\t\t\tjson_form_builder_fields[new_id] = this_field;\r\n\t\t\t\tjson_field_names[json_field_names.length] = this_field.name;\r\n\t\t\t\tfield_content = addJsonFormField(new_id);\r\n\t\t\t}\r\n\t\t}else {\r\n\r\n\t\t\tif(this_field.type == 'dropdown' || this_field.type == 'radio' || this_field.type == 'checkbox') {\r\n\t\t\t\tvar option_values = new Array(),\r\n\t\t\t\t\toption_displays = new Array(),\r\n\t\t\t\t\toption_images = new Array(),\r\n\t\t\t\t\tthis_displays = $('#json_form_builder_field [name=\"field_value[]\"]'),\r\n\t\t\t\t\tthis_images = $('#json_form_builder_field [name=\"field_img_value[]\"]'),\r\n\t\t\t\t\thasAccepts = false,\r\n\t\t\t\t\toption_accepts = new Array();\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t$('#json_form_builder_field [name=\"field_display[]\"]').each(function(i, obj) {\r\n\t\t\t\t\toption_values.push($(this_displays[i]).val());\r\n\t\t\t\t\toption_images.push($(this_images[i]).val());\r\n\t\t\t\t\toption_displays.push($(obj).val());\r\n\t\t\t\t});\r\n\t\t\t\toptions = { values: option_values, displays : option_displays, images : option_images};\r\n\t\t\t\tthis_field.options= options;\r\n\r\n\t\t\t\t$('#json_form_builder_field [name=\"accepted[]\"]').each(function(i, obj) {\r\n\t\t\t\t\tif($(this).prop('checked')) {\r\n\t\t\t\t\t\thasAccepts = true;\r\n\t\t\t\t\t\tvalue = $('#jsonFieldValueTable tbody tr:nth('+i+')').find('[name=\"field_value[]\"]').val();\r\n\t\t\t\t\t\toption_accepts.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tthis_field.has_accepts = hasAccepts;\r\n\t\t\t\tthis_field.accepted_options = option_accepts;\r\n\t\t\t\t\r\n\r\n\t\t\t\tthis_field.value = '';\r\n\t\t\t\tif($('#json_form_builder_field [name=\"default_value\"]:checked').length > 0) {\r\n\t\t\t\t\tthis_index = $('#json_form_builder_field [name=\"default_value\"]:checked').val();\r\n\t\t\t\t\tthis_field.value = $('#jsonFieldValueTable tbody tr:nth('+this_index+')').find('[name=\"field_value[]\"]').val();\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('Default: '+ this_field.value);\r\n\t\t\t\t// this_field['options']['values'] = option_values;\r\n\t\t\t\t// this_field['options']['displays'] = option_displays;\r\n\t\t\t}else {\r\n\t\t\t\tif($('#json_form_builder_field [name=\"value_select\"]').val() != '') {\r\n\t\t\t\t\tthis_field.value = $('#json_form_builder_field [name=\"value_select\"]').val();\r\n\t\t\t\t\tisInShortCodeDropdown = true;\r\n\t\t\t\t}\r\n\t\t\t\telse if($('#json_form_builder_field [name=\"value_input\"]').val() != '') this_field.value = $('#json_form_builder_field [name=\"value_input\"]').val();\r\n\t\t\t\telse this_field.value = '';\r\n\t\t\t}\r\n\r\n\t\t\tvar validations = {};\r\n\t\t\t$('#json_form_builder_field [name=\"validation[]\"]').each(function(i, obj) {\r\n\t\t\t\tvar valid_value = $(this).val();\r\n\t\t\t\tif(valid_value == 'equalTo'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = $('#json_form_builder_field [name=\"equal_to_value\"]').val();\r\n\t\t\t\t}else if(valid_value == 'min'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = $('#json_form_builder_field [name=\"min_value\"]').val();\r\n\t\t\t\t}else if(valid_value == 'max'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = $('#json_form_builder_field [name=\"max_value\"]').val();\r\n\t\t\t\t}else if(valid_value == 'range'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = '[' + $('#json_form_builder_field [name=\"range_min_value\"]').val() + ',' + $('#json_form_builder_field [name=\"range_max_value\"]').val() + ']';\r\n\t\t\t\t}else if(valid_value == 'minWordCount'){\r\n\t\t\t\t\tif($(this).prop('checked')) validations[valid_value] = $('#json_form_builder_field [name=\"min_word_count_value\"]').val();\r\n\t\t\t\t}else {\r\n\t\t\t\t\tvalidations[valid_value] = $(this).prop('checked');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tthis_field.validation = validations;\r\n\r\n\t\t\tif(id > 0 || id != '') {\r\n\t\t\t\t//edit\r\n\t\t\t\tjson_form_builder_fields[id] = this_field;\r\n\t\t\t\tjson_field_names[id] = this_field.name;\r\n\t\t\t\tvalue_display = this_field.value;\r\n\t\t\t\tif(isInShortCodeDropdown == true) value_display = $('#json_form_builder_field [name=\"value_select\"] option[value=\"'+this_field.value+'\"]').html();\r\n\t\t\t\t\r\n\t\t\t\t//get value\r\n\t\t\t\tif(value_display != '') {\r\n\t\t\t\t\tif(this_field.type == 'dropdown' || this_field.type == 'checkbox' || this_field.type == 'radio') {\r\n\t\t\t\t\t\tdef_val_indx = this_field.options.values.indexOf(this_field.value);\r\n\t\t\t\t\t\tdef_val = value_display;\r\n\t\t\t\t\t\tif(def_val != this_field.options.displays[def_val_indx]) {\r\n\t\t\t\t\t\t\tdef_val += ' - ' + this_field.options.displays[def_val_indx];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}else {\r\n\t\t\t\t\t\tdef_val = value_display;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdef_val_prev = def_val.substr(0,74);\r\n\t\t\t\t\tif(def_val.length > 74) def_val_prev += '...';\r\n\t\t\t\t\tfield_value = '<span class=\"label label-primary\">'+def_val_prev+'</span>';\r\n\t\t\t\t}else field_value = '';\r\n\t\t\t\t\r\n\t\t\t\t//get some options if exists\r\n\t\t\t\tif(this_field.type == 'dropdown' || this_field.type == 'checkbox' || this_field.type == 'radio') {\r\n\t\t\t\t\tif(typeof this_field.options != undefined) {\r\n\t\t\t\t\t\tfieldCounter = 0;\r\n\t\t\t\t\t\t$.each(this_field.options.values, function(i, oVal) {\r\n\t\t\t\t\t\t\tif(oVal != '') {\r\n\t\t\t\t\t\t\t\tif(fieldCounter <= 3) {\r\n\t\t\t\t\t\t\t\t\tif(oVal != this_field.value) {\r\n\t\t\t\t\t\t\t\t\t\tif(oVal == this_field.options.displays[i]) opt_val = oVal;\r\n\t\t\t\t\t\t\t\t\t\telse opt_val = oVal + ' - ' + this_field.options.displays[i];\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\topt_val_prev = opt_val.substr(0,74);\r\n\t\t\t\t\t\t\t\t\t\tif(opt_val.length > 74) opt_val_prev += '...';\r\n\t\t\t\t\t\t\t\t\t\tfield_value += ' <span class=\"label label-info\">'+ opt_val_prev +'</span>';\r\n\t\t\t\t\t\t\t\t\t\tfieldCounter++;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}else {\r\n\t\t\t\t\t\t\t\t\tfield_value += ' <span class=\"label label-info\">...</span>';\r\n\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//get name/label\r\n\t\t\t\tvar name_display = this_field.name;\r\n\t\t\t\tif(this_field.label != '') {\r\n\t\t\t\t\tname_display += '<br><small><em>' + this_field.label.substr(0,74);\r\n\t\t\t\t\tif(this_field.label.length > 74) name_display += '...';\r\n\t\t\t\t\tname_display += '</em></small>';\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// console.log(json_form_builder_fields[id]);\r\n\t\t\t\t$('#jfbf-name-'+id).html(name_display);\r\n\t\t\t\t$('#jfbf-type-'+id).html(this_field.type);\r\n\t\t\t\t$('#jfbf-value-'+id).html(field_value);\r\n\t\t\t}else {\r\n\t\t\t\t//add\r\n\t\t\t\t// json_form_builder_fields.push(this_field);\r\n\t\t\t\t// json_field_names.push(this_field.name);\r\n\t\t\t\t// console.log('Add');\r\n\t\t\t\tvar new_id = json_form_builder_fields.length;\r\n\t\t\t\tjson_form_builder_fields[new_id] = this_field;\r\n\t\t\t\tjson_field_names[json_field_names.length] = this_field.name;\r\n\t\t\t\t// value_display = this_field.value;\r\n\t\t\t\t// if(isInShortCodeDropdown == true) value_display = $('[name=\"value_select\"] option[value=\"'+this_field.value+'\"]').html();\r\n\t\t\t\t// var new_id = $('#formFieldsTable tbody tr').length,\r\n\t\t\t\t\tfield_content = addJsonFormField(new_id);\r\n\r\n\t    \t\t// console.log(this_field);\r\n\t    \t\t// console.log(json_form_builder_fields);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$('#jsonFormFieldModal').modal('hide');\r\n\t\t// console.log(this_field);\r\n\t});\r\n\r\n\t//Close Edit Field Modal\r\n\t$('#jsonFormFieldModal').on('hide.bs.modal', function () {\r\n\t\t$('#jsonFormFieldModal .modal-title').html('Add Field');\r\n\t\t$('#jsonFormFieldModal .this_field').val('');\r\n\t\t$('#jsonFormBuilderFieldTypeSelect').trigger('change');\r\n\t\t$('[name=\"validation[]\"]').prop('checked', false);\r\n\t\t$('[name=\"validation[]\"][value=\"required\"]').prop('checked', true);\r\n\t\t$('#jsonFieldValueTable tbody').html('');\r\n\r\n\t\t//remove required of validation fields\r\n\t\t$('[name=\"equal_to_value\"]').removeAttr('required');\r\n\t\t$('[name=\"range_min_value\"]').removeAttr('required');\r\n\t\t$('[name=\"range_max_value\"]').removeAttr('required');\r\n\t\t$('[name=\"min_value\"]').removeAttr('required');\r\n\t\t$('[name=\"max_value\"]').removeAttr('required');\r\n\t\t$('[name=\"min_word_count_value\"]').removeAttr('required');\r\n\t\t$('#uploadValueCollapse').collapse('hide');\r\n\r\n\t\t$('.selectAcceptedValues').prop('checked',false);\r\n\t});\r\n\r\n\t$(document).on('click','.viewJsonFieldModalBtn', function() \r\n\t{\r\n\t\tvar id = $(this).data('id'),\r\n\t\t\tfield = json_form_builder_fields[id],\r\n\t\t\tmodal = $('#jsonFormFieldModal');\r\n\t\t\t\r\n\t\tconsole.log(field);\r\n\r\n\t\tmodal.find('.modal-title').html('Edit Field');\r\n\t\tmodal.find('#label').val(field.label);\r\n\t\tmodal.find('#name').val(field.name);\r\n\t\tmodal.find('#id').val(field.id);\r\n\t\tmodal.find('#class').val(field.class);\r\n\t\tmodal.find('#field_id').val(id);\r\n\t\tmodal.find('#jsonFormBuilderFieldTypeSelect').val(field.type).trigger('change');\r\n\t\t\r\n\t\tif(field.type == 'hidden' || field.type == 'text' || field.type == 'textbox') {\r\n\t\t\tif($('select[name=\"value_select\"] option[value=\"'+field.value+'\"]').length > 0) {\r\n\t\t\t\t$('select[name=\"value_select\"]').val(field.value);\r\n\t\t\t\t$('input[name=\"value_input\"]').val('');\r\n\t\t\t}else {\r\n\t\t\t\t$('select[name=\"value_select\"]').val('');\r\n\t\t\t\t$('input[name=\"value_input\"]').val(field.value);\r\n\t\t\t}\r\n\t\t}else if(field.type == 'article'){\r\n\t\t\tmodal.find('#article').val(field.value);\r\n\t\t}else {\r\n\t\t\t$.each(field.options.values, function(index, values)\r\n\t\t\t{\r\n\t\t\t\tvar isDefault = false,\r\n\t\t\t\t\tisAccepted = false,\r\n\t\t\t\t\tdisplay = field.options.displays;\r\n\t\t\t\t\r\n\t\t\t\tif(field.value == values) isDefault = true;\r\n\r\n\t\t\t\tif(field.has_accepts) {\r\n\t\t\t\t\tconsole.log('Has Accepts');\r\n\t\t\t\t\t$key = field.accepted_options.indexOf(values);\r\n\t\t\t\t\tif($key >= 0) isAccepted = true;\r\n\t\t\t\t\tconsole.log($key)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar image = '';\r\n\t\t\t\tif(field.options.images !== undefined) {\r\n\t\t\t\t\timages = field.options.images;\r\n\t\t\t\t\timage = images[index];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(values != '') {\r\n\t\t\t\t\taddJsonFieldRow(values, display[index], image, isDefault, isAccepted);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\t\r\n\r\n\t\t//required validtion\r\n\t\tif(field.standard) required = true;\r\n\t\telse {\r\n\t\t\trequired = false;\r\n\t\t\tif(field.hasOwnProperty(\"validation\")) {\r\n\t\t\t\tif(field.validation.hasOwnProperty(\"required\")) {\r\n\t\t\t\t\trequired = field.validation.required;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t// if('validation.required' in field) {\r\n\t\t\t// \tconsole.log(field.validation.required);\r\n\t\t\t// \trequired = field.validation.required;\r\n\t\t\t// }else required = false;\r\n\t\t}\r\n\t\tmodal.find('[name=\"validation[]\"][value=\"required\"]').prop( \"checked\" , required);\r\n\r\n\t\t//validation\r\n\r\n\t\tif(field.hasOwnProperty('validation')) {\r\n\t\t\tif(typeof field.validation.alphaNumeric != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"alphaNumeric\"]').prop( \"checked\" , field.validation.alphaNumeric);\r\n\r\n\t\t\tif(typeof field.validation.alphaSpace != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"alphaSpace\"]').prop( \"checked\" , field.validation.alphaSpace);\r\n\r\n\t\t\tif(typeof field.validation.date != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"date\"]').prop( \"checked\" , field.validation.date);\r\n\r\n\t\t\tif(typeof field.validation.digits != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"digits\"]').prop( \"checked\" , field.validation.digits);\r\n\r\n\t\t\tif(typeof field.validation.email != \"undefined\")\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"email\"]').prop( \"checked\" , field.validation.email);\r\n\r\n\t\t\tif(typeof field.validation.equalTo != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"equalTo\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\t$('input[name=\"equal_to_value\"]').val(field.validation.equalTo);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif(typeof field.validation.max != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"max\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\t$('input[name=\"max_value\"]').val(field.validation.max);\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof field.validation.min != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"min\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\t$('input[name=\"min_value\"]').val(field.validation.min);\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof field.validation.number != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"number\"]').prop( \"checked\" , field.validation.number);\r\n\r\n\t\t\tif(typeof field.validation.phoneUS != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"phoneUS\"]').prop( \"checked\" , field.validation.phoneUS);\r\n\r\n\t\t\tif(typeof field.validation.range != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"range\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\trange = $.parseJSON(field.validation.range);\r\n\t\t\t\t$('input[name=\"range_min_value\"]').val(range[0]);\r\n\t\t\t\t$('input[name=\"range_max_value\"]').val(range[1]);\r\n\t\t\t}\r\n\r\n\t\t\tif(typeof field.validation.url != \"undefined\") \r\n\t\t\t\t$('[name=\"validation[]\"][value=\"url\"]').prop( \"checked\" , field.validation.url);\r\n\t\t\t\r\n\t\t\tif(typeof field.validation.zip != \"undefined\")\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"zip\"]').prop( \"checked\" , field.validation.zip);\r\n\r\n\t\t\tif(typeof field.validation.zip != \"undefined\")\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"zip\"]').prop( \"checked\" , field.validation.zip);\r\n\r\n\t\t\tif(typeof field.validation.minWordCount != \"undefined\") {\r\n\t\t\t\t$('[name=\"validation[]\"][value=\"minWordCount\"]').prop( \"checked\" , true).trigger('change');\r\n\t\t\t\t$('input[name=\"min_word_count_value\"]').val(field.validation.minWordCount);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodal.modal('show');\r\n\t});\r\n\r\n\t$(document).on('change','#jsonFormBuilderSendLeadSelect', function() \r\n\t{\r\n\t\tvar value = $(this).val(),\r\n\t\t\tcustom_url = $('#jsonFormBuilderCustomUrlInput'),\r\n\t\t\tform = $('#campaign_json_form_builder');\r\n\r\n\t\tif(value == 'custom') {\r\n\t\t\tcustom_url.show();\r\n\t\t}else {\r\n\t\t\tcustom_url.hide();\r\n\r\n\t\t\tif(value != '') {\r\n\t\t\t\t$.each(standard_fields, function(index, value) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(json_field_names.indexOf(index) < 0) {\r\n\t\t\t\t\t\tvar new_id = $('#jsonFormFieldsTable tbody tr').length,\r\n\t\t\t\t\t\t\tthe_value = value;\r\n\t\t\t\t\t\tif(index == 'eiq_campaign_id') the_value = form.find('#this_campaign').val();\r\n\r\n\t\t\t\t\t\tfield = { class: '', id: '', label: '', name: index, standard: true, type: 'hidden',  \r\n\t\t\t\t\t\t\tvalue : the_value};\r\n\t\t\t\t\t\tjson_form_builder_fields[json_form_builder_fields.length] = field;\r\n\t\t\t\t\t\tjson_field_names[json_field_names.length] = index;\r\n\t\t\t\t\t\t// json_form_builder_fields.push(field);\r\n\t\t\t\t\t\t// json_field_names.push(index);\r\n\t\t\t\t\t\tfield_content = addJsonFormField(new_id);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(value == 'lead_filter') {\r\n\t\t\t\t\t$.each(standard_lf_fields, function(index, value) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tif(json_field_names.indexOf(index) < 0) {\r\n\t\t\t\t\t\t\tvar new_id = $('#jsonFormFieldsTable tbody tr').length,\r\n\t\t\t\t\t\t\t\tthe_value = value;\r\n\t\t\t\t\t\t\tif(index == 'program_id') the_value = form.find('#this_campaign').val();\r\n\t\t\t\t\t\t\telse if(index == 'program_name') the_value = $('#cmp-'+form.find('#this_campaign').val()+'-name').html();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfield = { class: '', id: '', label: '', name: index, standard: false, type: 'hidden',  \r\n\t\t\t\t\t\t\t\tvalue : the_value};\r\n\t\t\t\t\t\t\tjson_form_builder_fields[json_form_builder_fields.length] = field;\r\n\t\t\t\t\t\t\tjson_field_names[json_field_names.length] = index;\r\n\t\t\t\t\t\t\t// json_form_builder_fields.push(field);\r\n\t\t\t\t\t\t\t// json_field_names.push(index);\r\n\t\t\t\t\t\t\tfield_content = addJsonFormField(new_id);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// console.log(field_names);\r\n\t\t// console.log(form_builder_fields);\r\n\t});\r\n\r\n\t$(document).on('click','.removeJsonFieldBtn', function() \r\n\t{\r\n\t\t// console.log('Submit');\r\n\t\tconfirmation = confirm('Are you sure you want to delete this field?');\r\n\r\n\t\tif(confirmation) {\r\n\t\t\tvar the_index = $(this).data('id');\r\n\t\t\tdelete json_form_builder_fields[the_index];\r\n\t\t\tdelete json_field_names[the_index];\r\n\t\t\t// form_builder_fields.splice(the_index, 1);\r\n\t\t\t// field_names.splice(the_index, 1);\r\n\t\t\t$(this).parents('tr').remove();\r\n\t\t\t// console.log('Removing');\r\n\t\t\t// console.log(the_index);\r\n\t\t\t// console.log(form_builder_fields);\r\n\t\t\t// console.log(field_names);\r\n\t\t}\r\n\t});\r\n\r\n\t$(document).on('shown.bs.tab', 'a[data-toggle=\"tab\"][href=\"#json_customs_tab\"]', function() {\r\n\t    this.refresh();\r\n\t}.bind(scriptCodeMirror));\r\n\r\n\t$(document).on('submit','#campaign_json_form_builder', function(e) \r\n\t{\r\n\t\te.preventDefault();\r\n\r\n\t\tvar form =  $('#campaign_json_form_builder'),\r\n\t\t\tfinal_form_builder_fields = [],\r\n\t\t\tsubmitBtn = $('#jsonConfigAutomationSubmit');\r\n\r\n\t\t//check for unsaved campaign creative\r\n\t\tif($('.editCampaignCreative .glyphicon-remove').length > 0) {\r\n\t\t\talert('Campaign Form Builder NOT SAVED YET. Save unfinished campaign creatives first.');\r\n\t\t\t$('[href=\"#creatives_tab\"]').trigger('click');\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// console.log('Submit');\r\n\t\tconfirmation = confirm('Are you sure you want to update this campaign content?');\r\n\r\n\t\tif(confirmation) {\r\n\t\t\t$('#jsonFormFieldsTable tbody tr').each(function(index, object) {\r\n\t\t\t\tfinal_form_builder_fields.push(json_form_builder_fields[$(this).data('id')]);\r\n\t\t\t});\r\n\r\n\t\t\tsubmitBtn.attr('disabled','true');\r\n            submitBtn.html('<i class=\"fa fa-spin fa-spinner\"></i>');\r\n            // console.log(final_form_builder_fields);\r\n\t\t\t$.ajax({\r\n\t\t\t\ttype: 'POST',\r\n\t\t\t\tdata: {\r\n\t\t\t\t\t'id'\t\t: form.find('.this_campaign').val(),\r\n\t\t\t\t\t'type'\t\t: $('#jsonFormBuilderCampaignType').val(),\r\n\t\t\t\t\t'form[url]'  : $('#jsonFormBuilderSendLeadSelect').val(),\r\n\t\t\t\t\t'form[custom_url]'  : form.find('[name=\"custom_url\"]').val(),\r\n\t\t\t\t\t'form[id]'  : form.find('[name=\"form_id\"]').val(),\r\n\t\t\t\t\t'form[class]'  : form.find('[name=\"form_class\"]').val(),\r\n\t\t\t\t\t'fields'\t: final_form_builder_fields,\r\n\t\t\t\t\t'script'  : form.find('[name=\"custom_script\"]').val(),\r\n\t\t\t\t\t'form[linkout_url]'  : form.find('[name=\"redirect_link\"]').val(),\r\n\t\t\t\t},\r\n\t\t\t\turl: $('#baseUrl').html() + '/campaign_json_form_builder',\r\n\t\t\t\tsuccess: function(data) {\r\n\t\t\t\t\tconsole.log(data);\r\n\t\t\t\t\tsubmitBtn.html('Save');\r\n                    submitBtn.removeAttr('disabled');\r\n\t\t\t\t\talert('Campaign Form Builder Modification Saved!');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t//Close Form Builder Modal\r\n\t$('#cmpJsonFormBuilderModal').on('hide.bs.modal', function (e) {\r\n\t\tif($('.editCampaignCreative .glyphicon-remove').length > 0) {\r\n\t\t\talert('Save unfinished campaign creatives before closing the form builder.');\r\n\t\t\t$('#cmpFormBuilderModal [href=\"#creatives_tab\"]').trigger('click');\r\n\t\t\te.preventDefault();\r\n\t\t    e.stopImmediatePropagation();\r\n\t\t    return false; \r\n\t\t}\r\n\t\t\r\n\t\t$('#cmpJsonFormBuilderModal #cmpName').html('');\r\n\t\t$('.form_builder_btn').removeAttr('disabled');\r\n\t\t$('#jsonFormBuilderSendLeadSelect').val('').trigger('change');\r\n\t\t$('#campaign_json_form_builder').find('.this_field').val('');\r\n\t\t$('#jsonFormFieldsTable tbody').html('');\r\n\t\t// $('#autoLockAlert').remove();\r\n\t\t$('#cmpJsonFormBuilderModal [href=\"#json_form_tab\"]').trigger('click');\r\n\t\tscriptCodeMirror.getDoc().setValue('');\r\n\t\tsetTimeout(function() {\r\n\t\t\tscriptCodeMirror.refresh();\r\n\t\t},100);\r\n\t});\r\n\r\n\tvar canEditJsonCampaignCreative = true, canDeleteJsonCampaignCreative = true;\r\n\r\n\tvar campaignJsonCreativeTable = $('#json-campaign-stack-creative-table').DataTable({\r\n        responsive: true,\r\n        autoWidth: false,\r\n        'processing': true,\r\n    \t'serverSide': true,\r\n        \"order\": [[ 0, \"desc\" ]],\r\n        'columns': [\r\n\t\t\tnull,\r\n\t\t\t{ 'orderable': false },\r\n\t\t\t{ 'orderable': false },\r\n\t\t\t{ 'orderable': false }\r\n\t\t],\r\n        columnDefs: [\r\n        \t{ width: '10%', targets: 0 },\t                \r\n            { width: '55%', targets: 1 },\r\n            { width: '30%', targets: 2 },\r\n            { width: '5%', targets: 3 },\r\n        ],\r\n        \"bFilter\" : false,\r\n        \"bLengthChange\": false,\r\n        \"bInfo\": false,\r\n        \"bPaginate\": false,\r\n        'ajax':{\r\n\t\t\turl: $('#baseUrl').html() + '/get_campaign_json_creative',\r\n\t\t\ttype: 'post', \r\n\t\t\t'data': function(d)\r\n            {\r\n            \t// console.log('Campaign ID: ' + $('.this_campaign').val());\r\n                // d.campaign_id = $('.this_campaign').val();\r\n                d.campaign_id = $('#campaign_json_form_builder').find('.this_campaign').val();\r\n            },\r\n\t\t\terror: function(data) //error handling\r\n\t\t\t{\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t},\r\n\t\t\t\"dataSrc\": function ( json ) {\r\n        \t\t// console.log(json);\r\n        \t\tcanEditJsonCampaignCreative = json.canEdit;\r\n\t\t\t\tcanDeleteJsonCampaignCreative = json.canDelete;\r\n\r\n\t\t\t\tif(! json.canAdd) {\r\n\t\t\t\t\t$('#addCampJsonCreative').hide();\r\n\t\t\t\t}else {\r\n\t\t\t\t\t$('#addCampJsonCreative').show();\r\n\t\t\t\t}\r\n        \t\treturn json.data;\r\n        \t}\r\n\t\t},\r\n\t\t\"sDom\": 'lf<\"json-campaign-stack-creative-table-add-toolbar\">rtip',\r\n        \"fnDrawCallback\": function( oSettings ) {\r\n            // console.log(oSettings);\r\n            campaignCreativeID =  $('.this_campaign').val();\r\n        \t$('.stackCreativeDesc').ckeditor({\r\n\t\t    \ttoolbarGroups : [\r\n\t\t\t\t\t{ name: 'clipboard', groups: [ 'clipboard', 'undo' ] },\r\n\t\t\t\t\t{ name: 'editing', groups: [ 'find', 'selection', 'spellchecker', 'editing' ] },\r\n\t\t\t\t\t{ name: 'forms', groups: [ 'forms' ] },\r\n\t\t\t\t\t{ name: 'basicstyles', groups: [ 'basicstyles', 'cleanup' ] },\r\n\t\t\t\t\t{ name: 'paragraph', groups: [ 'list', 'indent', 'blocks', 'align', 'bidi', 'paragraph' ] },\r\n\t\t\t\t\t{ name: 'links', groups: [ 'links' ] },\r\n\t\t\t\t\t{ name: 'insert', groups: [ 'insert' ] },\r\n\t\t\t\t\t{ name: 'styles', groups: [ 'styles' ] },\r\n\t\t\t\t\t{ name: 'colors', groups: [ 'colors' ] },\r\n\t\t\t\t\t{ name: 'document', groups: [ 'mode', 'document', 'doctools' ] },\r\n\t\t\t\t\t{ name: 'tools', groups: [ 'tools' ] },\r\n\t\t\t\t\t{ name: 'others', groups: [ 'others' ] },\r\n\t\t\t\t\t{ name: 'about', groups: [ 'about' ] }\r\n\t\t\t\t],\r\n\t\t    \tremoveButtons : 'Save,NewPage,Preview,Print,Templates,Cut,Copy,Paste,PasteText,PasteFromWord,Redo,Undo,Find,Replace,SelectAll,Scayt,Form,Checkbox,Radio,TextField,Textarea,Select,Button,ImageButton,HiddenField,RemoveFormat,Language,BidiRtl,BidiLtr,Link,Unlink,Anchor,Image,Flash,Table,HorizontalRule,Smiley,SpecialChar,PageBreak,Iframe,ShowBlocks,About'\r\n\t\t    });\r\n        \t\r\n\t\t    $( \".spinner\" ).spinner({\r\n\t\t      step: 0.01,\r\n\t\t      numberFormat: \"n\",\r\n\t\t      min: 0,\r\n\t\t      max: 1,\r\n\t\t      change: function( event, ui ) {\r\n\t\t      \t$('#'+event.currentTarget.id).parent('span.ui-spinner').removeClass('error_element');\r\n\t\t      \tif(! $(this).spinner('isValid')) {\r\n\t\t      \t\t$('#'+event.currentTarget.id).parent('span.ui-spinner').addClass('error_element');\r\n\t\t      \t}\r\n\t\t      \t// var value = parseInt(event.currentTarget.value);\r\n\t\t      }\r\n\t\t    });\r\n\t\t    $( \".spinner\" ).spinner(\"disable\");\r\n\r\n\t\t    if(canEditJsonCampaignCreative == false) {\r\n\t\t    \t$('.editCampaignCreative').hide();\r\n\t\t    }\r\n\r\n\t\t    if(canDeleteJsonCampaignCreative == false) {\r\n\t\t    \t$('.deleteCampaignCreative').hide();\r\n\t\t    }\r\n        }\r\n    });\r\n    $(\"div.json-campaign-stack-creative-table-add-toolbar\").html('<button id=\"addCampJsonCreative\" class=\"btn btn-default pull-right\" type=\"button\"><span class=\"glyphicon glyphicon-plus\"></span></button>');\r\n\r\n    $(document).on('click','#addCampJsonCreative', function() \r\n\t{\r\n\t\tvar id = $('#campaign_json_form_builder').find('.this_campaign').val();\r\n\t\t$.ajax({\r\n\t\t\ttype: 'POST',\r\n\t\t\turl: $('#baseUrl').val() + '/add_campaign_creative',\r\n\t\t\tdata: {\r\n\t\t\t\tid : id\r\n\t\t\t},\r\n\t\t\tsuccess: function(data)\r\n\t\t\t{\r\n\t\t\t\tcampaignJsonCreativeTable.order([]);\r\n\t\t\t\tcampaignJsonCreativeTable.ajax.reload();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(document).on('change','[name=\"field_img_value[]\"]', function() \r\n\t{\r\n\t\tvar this_input = $(this);\r\n\t\tvar has_error = false;\r\n\r\n\t\tvar container = $(this).closest('.row'),\r\n\t\t\timage = container.find('img');\r\n\r\n\t\tthis_input.removeClass('error_field error');\r\n\r\n\t\t$(image)\r\n\t\t    .on('load', function() { console.log(\"image loaded correctly\"); })\r\n\t\t    .on('error', function() { \r\n\t\t    \tif(this_input.val() != '') {\r\n\t\t    \t\tconsole.log(this_input.val());\r\n\t\t    \t\tthis_input.addClass('error_field error').val('');\r\n\t\t    \t\tconsole.log(\"error loading image\"); \r\n\t\t    \t\thas_error = true;\r\n\t\t    \t}\r\n\t\t    })\r\n\t\t    .attr(\"src\", $(this).val());\r\n\t\t;\r\n\r\n\t\t// var gallery_alert = '<div id=\"cmpCrtv-'+id+'-imgGalleryAlert\" class=\"col-md-12 alert alert-info\" role=\"alert\" style=\"margin-top: 10px;\"><button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-label=\"Close\"><span aria-hidden=\"true\">×</span></button>It is recommended that the image comes from our very own <a href=\"'+$('#baseUrl').html()+'/admin/gallery\" class=\"alert-link\" target=\"_blank\">gallery</a></div>';\r\n\t\t// if ($(this).val().indexOf($('#baseUrl').html()+'/images/gallery/') < 0 && $('#cmpCrtv-'+id+'-imgGalleryAlert').length == 0) {\r\n\t\t// \tconsole.log('not from gallery');\r\n\t\t// \t$('#cmpCrtv-'+id+'-imgLinkDiv').after(gallery_alert);\r\n\t\t// }\r\n\t\t// else console.log('from gallery');\r\n    });\r\n\r\n    $(document).on('click','#jsonAddRangeValuesBtn', function() \r\n\t{\r\n\t\tvar table = $('#jsonFieldValueTable tbody'),\r\n\t\t\tmin = $('#json_min_range_value').val(),\r\n\t\t\tmax = $('#json_max_range_value').val();\r\n\t\t\t\r\n\r\n\t\tif(min > max) {\r\n\t\t\tfor(var i = min; i >= max; i--) {\r\n\t\t\t\taddJsonFieldRow(i,i, '', false, false);\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tfor(var i = min; i <= max; i++) {\r\n\t\t\t\taddJsonFieldRow(i,i, '', false, false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$('#jsonRangeValueCollapse').collapse('hide');\r\n\t});\r\n\r\n\t$(document).on('click','#jsonUploadFileValuesBtn', function() \r\n\t{\r\n\t\tvar file = $('#json_upload_file_value').val(),\r\n\t\t\tlabel = $('[for=\"json_upload_file_value\"]');\r\n\r\n\t\tlabel.removeClass('error_label');\r\n\t\tif(file != '') {\r\n\t\t\tvar file_data = $('#json_upload_file_value').prop('files')[0];   \r\n\t    \tvar formData = new FormData();\r\n\t    \tformData.append('file', file_data);\r\n\t    \t// console.log(file_data);\r\n\t    \t$.ajax({\r\n\t            url: $('#baseUrl').html() + '/campaign_upload_field_options',\r\n\t            dataType: 'text', \r\n\t            cache: false,\r\n\t            contentType: false,\r\n\t            processData: false,\r\n\t            data: formData,                         \r\n\t            type: 'post',\r\n\t            success: function(data){\r\n\t                options = $.parseJSON(data);\r\n\t                displays = options.displays;\r\n\t                $.each(options.values, function(i, value) {\r\n\t                \taddJsonFieldRow(value, displays[i], '', false, false);\r\n\t                });\r\n\t                // console.log(options);\r\n\t                $('#jsonUploadValueCollapse').collapse('hide');\r\n\t            }\r\n\t     \t});\r\n\t\t}else {\r\n\t\t\tlabel.addClass('error_label');\r\n\t\t}\r\n    });\r\n\r\n    $(document).on('click','.prvJsonCmpCnt', function(e) {\r\n\t\te.preventDefault();\r\n\t\tvar id = $('#this_campaign').val();\r\n\t\tvar url = $(this).attr('href') + id + '&type=' + $('#jsonFormBuilderCampaignType').val();\r\n\t\tvar win = window.open(url, '_blank');\r\n \t\twin.focus();\r\n\t});\r\n\r\n\tfunction convertLinkOutLink(the_url) {\r\n\t\t$('#loa-modal #linkout_url').val('');\r\n\t\t$('.loa-rows').remove();\r\n\r\n\t\tvar isValidUrl = true;\r\n\r\n\t\ttry {\r\n\t\t    var url = new URL(the_url);\r\n\r\n\t\t    $('#loa-modal #linkout_url').val(url.origin);\r\n\t\t    var searchParams = new URLSearchParams(url.search);\r\n\t\t    searchParams.forEach(function(value, key) {\r\n\t\t\t  addLinkOutParamRow(key, value)\r\n\t\t\t});\r\n\t  \t} catch (_) {\r\n\t    \tisValidUrl = false;\r\n\t  \t}\r\n\t  \treturn isValidUrl;\r\n    }\r\n\r\n\tfunction addLinkOutParamRow(key, val) {\r\n\t\tvar table = $('#loa-table tbody');\r\n\r\n    \tvar row = '<tr class=\"loa-rows\"><td><input class=\"form-control this_field\" required=\"true\" name=\"loa_key[]\" type=\"text\" value=\"'+key+'\"></td>' +\r\n\t\t\t\t\t'<td><input class=\"form-control this_field\" required=\"true\" name=\"loa_value[]\" type=\"text\" value=\"'+val+'\"></td>' + \r\n\t\t\t\t\t'<td class=\"text-center\"><button id=\"loa-deleteMe\" class=\"btn btn-default\" type=\"button\">' +\r\n\t\t\t\t\t\t'<span class=\"glyphicon glyphicon-trash\"></span></button></td></tr>';\r\n\r\n        table.append(row);\r\n    }\r\n\r\n\t$(document).on('click','#loa-btn', function() \r\n\t{\r\n\t\tvar redirect_link = $('.formBuilderLinkoutElement #redirect_link').val(),\r\n\t\t\tisValidUrl = true;\r\n\r\n\t\tconvertLinkOutLink(redirect_link);\r\n\t\t$('#loa-modal #parse_linkout_url').val(redirect_link);\r\n\t\t$('#loa-modal').modal('show');\r\n\t});\r\n\r\n\t$(document).on('click','#loa-split', function() \r\n\t{\r\n\t\tconvertLinkOutLink($('#loa-modal #parse_linkout_url').val());\r\n\t});\r\n\r\n\t$(document).on('click','#loa-addRow', function() \r\n\t{\r\n\t\taddLinkOutParamRow('', '')\r\n\t});\r\n\r\n\t$(document).on('click','#loa-deleteMe', function() \r\n\t{\r\n\t\t$(this).closest('tr').remove();\r\n\t});\r\n\r\n\t$(document).on('click','#loa-submit', function() \r\n\t{\r\n\t\tvar url = $('#loa-modal #linkout_url').val().trim() + '?';\r\n\t\t$('[name=\"loa_key[]\"]').each(function(i, j) {\r\n\t\t\t// console.log(i)\r\n\t\t\tconsole.log($(this).val() + ' = ' + $('[name=\"loa_value[]\"]').eq(i).val());\r\n\t\t\tkey = $(this).val()\r\n\t\t\tvalue = $('[name=\"loa_value[]\"]').eq(i).val()\r\n\t\t\turl += key + '=' + value + '&';\r\n\t\t});\r\n\t\turl = url.substring(0, url.length - 1);\r\n\t\tconsole.log(url);\r\n\t\t$('.formBuilderLinkoutElement #redirect_link').val(url)\r\n\t\t$('#loa-modal').modal('hide')\r\n\t});\r\n\r\n\t\r\n\r\n    $('#loa-modal').on('hide.bs.modal', function (e) {\r\n\t\t$('.loa-rows').remove();\r\n\t\t$('#loa-modal #linkout_url').val('');\r\n\t\t$('#loa-modal #parse_linkout_url').val('')\r\n\t});\r\n});\r\n"]}