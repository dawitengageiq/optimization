$(document).ready(function(){var a=$("#baseUrl").html()+"/getRevenueStatistics",e=$("#revStats-table").DataTable({processing:!0,serverSide:!0,order:[[0,"desc"]],searching:!1,ajax:{url:a,type:"post",data:function(a){a.campaign_id=$("#realCampaignId").val(),a.affiliate_id=$("#affiliate_id").val(),a.lead_status=$("#lead_status").val(),a.containing_data=$("#containing_data").val(),a.s1=$("#s1").val(),a.s2=$("#s2").val(),a.s3=$("#s3").val(),a.s4=$("#s4").val(),a.s5=$("#s5").val(),a.lead_date_from=$("#lead_date_from").val(),a.lead_date_to=$("#lead_date_to").val(),a.date_range=$("#date_range").val(),a.group_by=$("#group_by").val(),a.group_by_column=$("#group_by_column").val(),a.table=$("#table").val(),a.affiliate_type=$("#affiliate_type").val(),a.sib_s1=$("#sib_s1").prop("checked"),a.sib_s2=$("#sib_s2").prop("checked"),a.sib_s3=$("#sib_s3").prop("checked"),a.sib_s4=$("#sib_s4").prop("checked"),$("#show_inactive_campaign").prop("checked")&&(a.show_inactive_campaign=1)},dataSrc:function(a){return $("#downloadRevenueReport").removeClass("disabled"),console.log(a),$(e.column(14).footer()).html(a.totalLeadCount),$(e.column(15).footer()).html(a.totalCost),$(e.column(16).footer()).html(a.totalRevenue),$(e.column(17).footer()).html(a.totalProfit),$("#generateReportBtn").removeAttr("disabled"),a.data},error:function(a){console.log(a)}},lengthMenu:[[25,50,100,1e3,2e3,3e3],[25,50,100,1e3,2e3,3e3]]});$("#revStats-form").submit(function(a){a.preventDefault();var l=$("#lead_date_from").val(),t=$("#lead_date_to").val(),o=$("#generateReportBtn");""==l||""==t?($("#downloadRevenueReport").addClass("disabled"),o.attr("disabled",!0),e.order([]),e.ajax.reload()):""!=l&&""!=t&&t>=l?($('label[for="lead_date_from"]').removeClass("error_label error"),$("#lead_date_from").removeClass("error_field error"),$('label[for="lead_date_to"]').removeClass("error_label error"),$("#lead_date_to").removeClass("error_field error"),$("#downloadRevenueReport").addClass("disabled"),o.attr("disabled",!0),e.order([]),e.ajax.reload()):($('label[for="lead_date_from"]').addClass("error_label error"),$("#lead_date_from").addClass("error_field error"),$('label[for="lead_date_to"]').addClass("error_label error"),$("#lead_date_to").addClass("error_field error"))}),$("#date_range").change(function(){""!=$(this).val()&&($("#lead_date_from").val(""),$("#lead_date_to").val(""))}),$(".lead_date").change(function(){""!=$(this).val()&&$("#date_range").val("")}),$("#clear").click(function(){var a=$("#revStats-form");a.find("input:text, input:password, input:file, select, textarea").val(""),$("#group_by").val("date"),a.find("input:radio, input:checkbox").removeAttr("checked").removeAttr("selected"),$("#realCampaignId").val(""),$(".campaignField").trigger("change.select2")}),$(".show-details").click(function(){var a=$(this).data("lead_id"),e=$("#baseUrl").val()+"/admin/leads/"+a+"/getLeadDetails";console.log(a),$("#id").val(a),$.ajax({type:"POST",url:e,success:function(a){console.log(a),void 0===a.leadDataCSV&&null===a.leadDataCSV||$("#lead_csv").val(a.leadDataCSV.value),void 0===a.leadMessage&&null===a.leadMessage||$("#message").val(a.leadMessage.value),void 0===a.leadDataADV&&null===a.leadDataADV||$("#advertiser_data").val(a.leadDataADV.value),void 0===a.leadSentResult&&null===a.leadSentResult||$("#sent_result").val(a.leadSentResult.value)},error:function(a){console.log(a)}}),$("#lead_details_modal").modal("show")}),$(".input-group.date").datepicker({format:"yyyy-mm-dd",clearBtn:!0,autoclose:!0,todayHighlight:!0}),$(".campaignField").select2({theme:"bootstrap"}),$("#group_by_column").change(function(){""!=$(this).val()?$(".sibs").prop("checked",!0).attr("disabled",!0):$(".sibs").removeAttr("disabled")}),$(document).on("change","#show_inactive_campaign",function(a){console.log($(this).prop("checked")),$(this).prop("checked")?($("#showAllCampaigns-container").show(),$("#showActiveCampaigns-container").hide(),$("#realCampaignId").val($('[name="fake_campaign_id_all"]').val())):($("#showAllCampaigns-container").hide(),$("#showActiveCampaigns-container").show(),$("#realCampaignId").val($('[name="fake_campaign_id_active"]').val()))}),$(document).on("change",'[name="fake_campaign_id_all"]',function(a){console.log("all"),console.log($(this).val()),$("#show_inactive_campaign").prop("checked")&&($("#realCampaignId").val($('[name="fake_campaign_id_all"').val()),console.log("update the other one"),$('[name="fake_campaign_id_active"]').val($(this).val()).trigger("change"))}),$(document).on("change",'[name="fake_campaign_id_active"]',function(a){console.log("active"),console.log($(this).val()),$("#show_inactive_campaign").prop("checked")||($("#realCampaignId").val($('[name="fake_campaign_id_active"').val()),console.log("update the other one"),$('[name="fake_campaign_id_all"]').val($(this).val()).trigger("change"))})});
//# sourceMappingURL=revenue_statistics.min.js.map
