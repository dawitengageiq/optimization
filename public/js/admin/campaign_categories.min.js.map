{"version":3,"sources":["campaign_categories.js"],"names":["$","document","ready","DataTable","aoColumnDefs","bSortable","aTargets","click","modal","on","the_modal","the_form","find","url","html","id","this","data","cat_name","attr","val","prop","e","this_category","confirmation","confirm","the_url","ajax","type","success","table","row","parents","remove","draw"],"mappings":"AAAAA,EAAAC,UAAAC,MAAA,WACAF,EAAA,qBAAAG,WACAC,eACAC,WAAA,EACAC,iBAIAN,GAAA,wBAAAO,MAAA,WACAP,EAAA,wBAAAQ,MAAA,UAGAR,EAAAC,UAAAQ,GAAA,QAAA,gBAAA,WAEA,GAAAC,GAAAV,EAAA,wBACAW,EAAAD,EAAAE,KAAA,kBACAC,EAAAb,EAAA,YAAAc,OAAA,iBACAC,EAAAf,EAAAgB,MAAAC,KAAA,MACAC,EAAA,QAAAH,EAAA,GAEAL,GAAAE,KAAA,gBAAAE,KAAA,iBACAH,EAAAQ,KAAA,SAAAN,GACAF,EAAAM,KAAA,UAAA,iBACAN,EAAAQ,KAAA,eAAA,iBACAR,EAAAM,KAAA,eAAA,gDACAN,EAAAQ,KAAA,oBAAA,gDACAR,EAAAC,KAAA,YAAAQ,IAAAL,GACAJ,EAAAC,KAAA,SAAAQ,IAAApB,EAAAkB,EAAA,QAAAJ,QACAH,EAAAC,KAAA,gBAAAQ,IAAApB,EAAAkB,EAAA,QAAAJ,QACAH,EAAAC,KAAA,0BAAAZ,EAAAkB,EAAA,UAAAD,KAAA,UAAA,MAAAI,KAAA,WAAA,GACAX,EAAAF,MAAA,UAIAR,EAAA,wBAAAS,GAAA,kBAAA,SAAAa,GACA,GAAAZ,GAAAV,EAAA,wBACAW,EAAAD,EAAAE,KAAA,kBACAC,EAAAb,EAAA,YAAAc,OAAA,eAEAH,GAAAQ,KAAA,SAAAN,GACAF,EAAAM,KAAA,UAAA,gBACAN,EAAAQ,KAAA,eAAA,gBACAR,EAAAM,KAAA,eAAA,IACAN,EAAAQ,KAAA,oBAAA,IACAR,EAAAC,KAAA,YAAAQ,IAAA,IACAT,EAAAC,KAAA,SAAAQ,IAAA,IACAT,EAAAC,KAAA,gBAAAQ,IAAA,IACAT,EAAAC,KAAA,8BAAAS,KAAA,WAAA,GACAX,EAAAE,KAAA,gBAAAE,KAAA,kBAGAd,EAAAC,UAAAQ,GAAA,QAAA,kBAAA,WAEA,GAAAc,GAAAvB,EAAAgB,MACAD,EAAAf,EAAAgB,MAAAC,KAAA,MAEAO,EAAAC,QAAA,iDAEA,IAAAD,KAAA,EAAA,CACA,GAAAE,GAAA1B,EAAA,YAAAc,OAAA,kBACAd,GAAA2B,MACAC,KAAA,OACAf,IAAAa,EACAT,MACAF,GAAAA,GAEAc,QAAA,SAAAZ,GACA,GAAAa,GAAA9B,EAAA,qBAAAG,WACA2B,GAAAC,IAAAR,EAAAS,QAAA,OAAAC,SAAAC","file":"campaign_categories.min.js","sourcesContent":["$(document).ready(function() {\r\n    var category_table = $('#categories-table').DataTable({\r\n        'aoColumnDefs': [{\r\n            'bSortable': false,\r\n            'aTargets': [-1]\r\n        }],\r\n    });\r\n\r\n    $('#add_category_button').click(function() {\r\n        $('#category_form_modal').modal('show');\r\n    });\r\n\r\n    $(document).on('click','.editCategory',function()\r\n    {\r\n        var the_modal = $('#category_form_modal');\r\n        var the_form = the_modal.find('form.this_form');\r\n        var url = $('#baseUrl').html() + '/edit_category';\r\n        var id = $(this).data('id');\r\n        var cat_name = '#cat-' + id + '-';\r\n\r\n        the_modal.find('.modal-title').html('Edit Category');\r\n        the_form.attr('action',url);\r\n        the_form.data('process','edit_category');\r\n        the_form.attr('data-process', 'edit_category');\r\n        the_form.data('confirmation','Are you sure you want to edit this category?');\r\n        the_form.attr('data-confirmation', 'Are you sure you want to edit this category?');\r\n        the_form.find('#this_id').val(id);\r\n        the_form.find('#name').val( $(cat_name+'name').html() );\r\n        the_form.find('#description').val( $(cat_name+'desc').html() );\r\n        the_form.find('[name=\"status\"][value=\"'+ $(cat_name+'status').data('status') +'\"]').prop('checked',true);\r\n        the_modal.modal('show');\r\n    });\r\n\r\n    /* Close Confirmation Modal */\r\n    $('#category_form_modal').on('hidden.bs.modal', function (e) {\r\n        var the_modal = $('#category_form_modal');\r\n        var the_form = the_modal.find('form.this_form');\r\n        var url = $('#baseUrl').html() + '/add_category';\r\n\r\n        the_form.attr('action',url);\r\n        the_form.data('process','add_category');\r\n        the_form.attr('data-process', 'add_category');\r\n        the_form.data('confirmation','');\r\n        the_form.attr('data-confirmation', '');\r\n        the_form.find('#this_id').val('');\r\n        the_form.find('#name').val('');\r\n        the_form.find('#description').val('');\r\n        the_form.find('[name=\"status\"][value=\"1\"]').prop('checked',true);\r\n        the_modal.find('.modal-title').html('Add Category');\r\n    });\r\n\r\n    $(document).on('click','.deleteCategory',function()\r\n    {\r\n        var this_category = $(this);\r\n        var id = $(this).data('id');\r\n\r\n        var confirmation = confirm('Are you sure you want to delete this category?');\r\n\r\n        if(confirmation === true) {\r\n            var the_url = $('#baseUrl').html() + '/delete_category';\r\n            $.ajax({\r\n                type : 'POST',\r\n                url  : the_url,\r\n                data : {\r\n                    'id' : id\r\n                },\r\n                success : function(data) {\r\n                    var table = $('#categories-table').DataTable();\r\n                    table.row(this_category.parents('tr')).remove().draw();\r\n                }\r\n            });\r\n        }\r\n    });\r\n});"]}