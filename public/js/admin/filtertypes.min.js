$(document).ready(function(){var e=$("#baseUrl").html()+"/filtertypes";$("#filtertypes-table").DataTable({processing:!0,serverSide:!0,columns:[null,null,null,{orderable:!1}],ajax:{url:e,type:"post",error:function(){}},lengthMenu:[[25,50,100,1e3,2e3,3e3],[25,50,100,1e3,2e3,3e3]]}),$("#add_filtertype_button").click(function(){var e=$("#filtertype_form_modal"),t=$("#baseUrl").html()+"/admin/filter/store";e.find("form").attr("action",t),e.find("form").attr("data-process","add_filter_type"),e.find("form").attr("data-confirmation",""),e.find(".modal-title").html("Add Filter Type"),e.modal("show"),$(".this_error_wrapper").hide()}),$(document).on("click",".edit-filtertype",function(){var e=$("#filtertype_form_modal"),t=$(this).data("id"),r=$("#baseUrl").html()+"/admin/filtertype/update/"+t;e.find("form").attr("action",r),e.find("form").data("process","edit_filter_type"),e.find("form").attr("data-process","edit_filter_type"),e.find("form").data("confirmation","Are you sure you want to update this filter type?"),e.find("form").attr("data-confirmation","Are you sure you want to update this filter type?"),e.find(".modal-title").html("Edit Filter Type"),e.find("#id").val(t);var i="#filtertype-"+t+"-",a=$(i+"type").html().trim(),o=$(i+"name").html().trim(),l=$(i+"status").data("status"),n=$(i+"image").html();$("#type").val(a).trigger("change"),$("#name").val(o),$('input[name="status"][value="'+l+'"]').prop("checked",!0),$(".imgPreview").show(),$(".imgPreview img").attr("src",n),e.modal("show")}),$(document).on("click",".delete-filtertype",function(){if(confirm("Are you sure you want to delete this Filter Type?")){var e=$(this).data("id"),t=$("#baseUrl").val()+"/admin/filtertype/delete/"+e;$.ajax({type:"POST",url:t,success:function(t){if(t.delete_status){var r=$("#filtertypes-table").DataTable();r.row($("#row-filtertype-"+e)).remove(),r.draw()}else alert(t.message)}})}}),$("#type").change(function(){var e=$(this).val();"question"==e?$(".forPrflIconDiv").show():$(".forPrflIconDiv").hide(),$('[name="img_type"][value="1"]').prop("checked",!0).trigger("change")}),$(".img_type").change(function(){var e=$("#filtertype_form_modal").find("form").attr("data-process");"add_filter_type"==e&&($(".imgPreview").hide(),$(".imgPreview img").attr("src","")),$("#icon").val("");var t=$(this).val();2==t?$("#icon").attr("type","text"):$("#icon").attr("type","file")}),$("#icon").change(function(){var e=$(this),t=$('input[name="img_type"]:checked').val();e.removeClass("error_field error"),""!=$(this).val()?($(".imgPreview").show(),1==t?imgPreview($(this),$(".imgPreview img")):$(".imgPreview img").on("load",function(){console.log("image loaded correctly")}).on("error",function(){""!=e.val()&&(console.log(e.val()),e.addClass("error_field error").val(""),console.log("error loading image"))}).attr("src",$(this).val())):($("#icon").removeClass("error_field error"),$(".imgPreview").hide(),$(".imgPreview img").attr("src",""))}),$("#filtertype_form_modal").on("hide.bs.modal",function(e){var t=$(this).find(".form_with_file");$(".imgPreview").hide(),$(".imgPreview img").attr("src",""),$(".forPrflIconDiv").hide(),$('[name="img_type"][value="1"]').prop("checked",!0).trigger("change"),t.find(".this_field").each(function(){"status"==$(this).attr("name")?$('input[name="status"][value="0"]').prop("checked",!0):"type"==$(this).attr("name")?$("#type").val("profile"):$(this).val("")}),t.find(".error").each(function(){$(this).removeClass("error"),$(this).removeClass("error_field"),$(this).removeClass("error_label")}),$("#icon").removeClass("error error_field")})});
//# sourceMappingURL=filtertypes.min.js.map
