{"version":3,"sources":["survey_takers.js"],"names":["$","document","ready","surveyTakersURL","html","surveyTakersTable","DataTable","processing","serverSide","columns","orderable","ajax","url","type","data","d","id","val","email","gender","zip","affiliate_id","first_name","city","source_url","revenue_tracker","last_name","state","phone","ip","date_from","date_to","s1","s2","s3","s4","s5","dataSrc","json","removeAttr","lengthMenu","searching","order","deferLoading","on","e","preventDefault","attr","reload","datepicker","format","clearBtn","autoclose","todayHighlight","click","form","find","this","details","parseJSON","ifMobile","ifSent","is_mobile","status","text","revenue_tracker_id","birthdate","address1","address2","ethnic_group","response","created_at","updated_at","modal","event"],"mappings":"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","file":"survey_takers.min.js","sourcesContent":["/**\r\n * Created by magbanua-ariel on 12/02/2016.\r\n */\r\n$(document).ready(function()\r\n{\r\n    var surveyTakersURL = $('#baseUrl').html() + '/surveyTakers';\r\n    var surveyTakersTable = $('#survey-takers-table').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        \"columns\": [\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            null,\r\n            { \"orderable\": false }\r\n        ],\r\n        'ajax':{\r\n            url:surveyTakersURL, // json datasource\r\n            type: 'post',\r\n            'data': function(d)\r\n            {\r\n                d.id = $('#id').val();\r\n                d.email = $('#email').val();\r\n                d.gender = $('#gender').val();\r\n                d.zip = $('#zip').val();\r\n                d.affiliate_id = $('#affiliate_id').val();\r\n                d.first_name = $('#first_name').val();\r\n                d.city = $('#city').val();\r\n                d.source_url = $('#source_url').val();\r\n                d.revenue_tracker = $('#revenue_tracker').val();\r\n                d.last_name = $('#first_name').val();\r\n                d.state = $('#state').val();\r\n                d.phone = $('#phone').val();\r\n                d.ip = $('#ip').val();\r\n                d.date_from = $('#date_from').val();\r\n                d.date_to = $('#date_to').val();\r\n                d.s1 = $('#s1').val();\r\n                d.s2 = $('#s2').val();\r\n                d.s3 = $('#s3').val();\r\n                d.s4 = $('#s4').val();\r\n                d.s5 = $('#s5').val();\r\n            },\r\n            \"dataSrc\": function ( json ) {\r\n                $('#downloadSurveyTakers').removeAttr('disabled');\r\n                return json.data;\r\n            },\r\n        },\r\n        //lengthMenu: [[10,50,100,-1],[10,50,100,\"All\"]]\r\n        lengthMenu: [[25,50,100,1000,2000,3000],[25,50,100,1000,2000,3000]],\r\n        // \"sDom\": 'lf<\"addToolbar\">rtip',\r\n        // language: {\r\n        //     search: \"_INPUT_\",\r\n        //     searchPlaceholder: \"Search\"\r\n        // },\r\n        \"searching\": false,\r\n        \"order\": [[ 0, \"desc\" ]],\r\n        \"deferLoading\": 0,\r\n    });\r\n\r\n\r\n    // var table_colums = {\r\n    //     // id : 'ID', \r\n    //     affiliate_id : 'Affiliate ID', \r\n    //     revenue_tracker_id : 'Rev. Tracker ID', \r\n    //     email : 'Email',\r\n    //     name : 'Name',   \r\n    //     gender : 'Gender',\r\n    //     city : 'City',\r\n    //     state : 'State',\r\n    //     zip : 'Zip',\r\n    //     source_url : 'Source URL',\r\n    //     created_at : 'Created At'\r\n    // }, col_options = '';\r\n\r\n    // $.each(table_colums, function( index, value ) {\r\n    //     col_options += '<option value=\"'+index+'\">'+value+'</option>';\r\n    // });\r\n\r\n    // $(\"div.addToolbar\").html('<label> Search: <select id=\"filter\" name=\"filter\" class=\"form-control input-sm\">'+col_options+'</select></label>');\r\n\r\n    $(document).on('click','#getSurveyTakers', function(e)\r\n    {\r\n        e.preventDefault();\r\n        $('#downloadSurveyTakers').attr('disabled','true');\r\n        surveyTakersTable.ajax.reload();\r\n    });\r\n\r\n    $('.input-group.date').datepicker({\r\n        format: \"yyyy-mm-dd\",\r\n        clearBtn: true,\r\n        autoclose: true,\r\n        todayHighlight: true\r\n    });\r\n\r\n    $('#clear').click(function()\r\n    {\r\n        var form = $('#surveyTakers-form');\r\n\r\n        form.find('input:text, select').val('');\r\n    });\r\n});\r\n\r\n$(document).on('click','.more-details', function()\r\n{\r\n    var id = $(this).data('id'),\r\n        json = $('#st-'+id+'-md').val(),\r\n        details = $.parseJSON(json),\r\n        ifMobile = 'false',\r\n        ifSent = 'Sent';\r\n\r\n    if(details.is_mobile == 1) ifMobile = 'true';\r\n    if(details.status == 0) ifSent = 'Pending';\r\n    else if(details.status == 2) ifSent = 'Processing';\r\n\r\n    $('#id-value').text(details.id);\r\n    $('#affiliate-value').text(details.affiliate_id);\r\n    $('#rev_tracker-value').text(details.revenue_tracker_id);\r\n    $('#fname-value').text(details.first_name);\r\n    $('#lname-value').text(details.last_name);\r\n    $('#email-value').text(details.email);\r\n    $('#zip-value').text(details.zip);\r\n    $('#city-value').text(details.city);\r\n    $('#state-value').text(details.state);\r\n    $('#birthdate-value').text(details.birthdate);\r\n    $('#gender-value').text(details.gender);  \r\n    $('#address1-value').text(details.address1);\r\n    $('#address2-value').text(details.address2);\r\n    $('#ethnicity-value').text(details.ethnic_group);\r\n    $('#phone-value').text(details.phone);\r\n    $('#ip-value').text(details.ip);\r\n    $('#mobile-value').text(ifMobile);\r\n    $('#source_url-value').text(details.source_url);\r\n    $('#status-value').text(ifSent);\r\n    $('#response-value').text(details.response);\r\n    $('#created_at-value').text(details.created_at);\r\n    $('#updated_at-value').text(details.updated_at);\r\n    $('#more-details-modal').modal('show');\r\n});\r\n\r\n$('#more-details-modal').on('hide.bs.modal', function (event) {\r\n    $('.md-deets').html('');\r\n});"]}