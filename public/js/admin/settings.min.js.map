{"version":3,"sources":["settings.js"],"names":["$","widget","bridge","ui","button","tooltip","document","ready","change","min_high_orig","val","min_high_field","max_high_orig","max_high_field","keyup","max_high","Number","this","min_critical","sortable","helper","e","children","each","width","update","event","pathJsonString","data","slice","disableSelection","console","log","prop","pixelHeadCodeMirror","CodeMirror","fromTextArea","getElementById","theme","lineNumbers","matchBrackets","mode","indentUnit","indentWithTabs","on","cm","pixelBodyCodeMirror","pixelFootCodeMirror","CKEDITOR","config","enterMode","ENTER_BR","allowedContent","ckeditor","removeButtons","i","instances","name","select2","placeholder","minimumInputLength","maximumSelectionLength","language","inputTooShort","searching","ajax","url","html","dataType","type","params","queryParameters","term","processResults","results","map","items","item","text","revenue_tracker_id","id","trigger","sourceID","confirm","success","response","status","table","DataTable","reload","alert","message","processing","serverSide","dataSrc","json","rows","row","btn","push","affiliate_id","created_at","columns","orderable","addClass","removeClass"],"mappings":"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","file":"settings.min.js","sourcesContent":["/*** Handle jQuery plugin naming conflict between jQuery UI and Bootstrap ***/\r\n$.widget.bridge('uibutton', $.ui.button);\r\n$.widget.bridge('uitooltip', $.ui.tooltip);\r\n\r\n$(document).ready(function()\r\n{\r\n    $('.rejection_rate_field').change(function() {\r\n        var min_high_orig = $('#min_high_reject_rate_hidden').val(),\r\n            min_high_field = $('#min_high_reject_rate').val(),\r\n            max_high_orig = $('#max_high_reject_rate_hidden').val(),\r\n            max_high_field = $('#max_high_reject_rate').val();\r\n\r\n        if( (min_high_orig != min_high_field) || (max_high_orig != max_high_field)) {\r\n            //There's a change\r\n            $('#update_rejection_rate').val(1);\r\n        }else {\r\n            $('#update_rejection_rate').val(0);\r\n        }\r\n    });\r\n\r\n    $('#max_high_reject_rate').keyup(function() {\r\n        var max_high = Number($(this).val());\r\n        var min_critical = 0;\r\n        if(max_high < 100) min_critical = max_high + .1;\r\n        else min_critical = 100;\r\n        $('#min_critical_reject_rate').val(min_critical);\r\n    });\r\n\r\n    $('#stack_order_table').sortable({\r\n        helper: function(e, ui) {\r\n            ui.children().each(function() {\r\n                $(this).width($(this).width());\r\n            });\r\n            return ui;\r\n        },\r\n        update: function(event, ui) {\r\n            // '[1,3,2,7,4,5,6,8,9,10,11,12]';\r\n            var pathJsonString = '[';\r\n            $('#stack_order_table li').each( function(e) {\r\n                pathJsonString += $(this).data('id') +',';\r\n            });\r\n            pathJsonString = pathJsonString.slice(0,-1);\r\n            pathJsonString += ']';\r\n            $('#stack_page_order').val(pathJsonString);\r\n        }\r\n    }).disableSelection();\r\n\r\n    $('#campaign_reordering').change(function() {\r\n        console.log('campaign_reordering toggle: ' + $(this).prop('checked'));\r\n\r\n        if($(this).prop('checked'))\r\n        {\r\n            $(this).val(1);\r\n            $('#campaign_reordering_status').val(1);\r\n        }\r\n        else\r\n        {\r\n            $(this).val(0);\r\n            $('#campaign_reordering_status').val(0);\r\n        }\r\n    });\r\n\r\n    $('#mixed_coreg_campaign_reordering').change(function() {\r\n        console.log('mixed_coreg_campaign_reordering toggle: ' + $(this).prop('checked'));\r\n\r\n        if($(this).prop('checked'))\r\n        {\r\n            $(this).val(1);\r\n            $('#mixed_coreg_campaign_reordering_status').val(1);\r\n        }\r\n        else\r\n        {\r\n            $(this).val(0);\r\n            $('#mixed_coreg_campaign_reordering_status').val(0);\r\n        }\r\n    });\r\n\r\n    $('.email_recipient').change(function() {\r\n        $('#recipientChange').val(1);\r\n    });\r\n\r\n    $('.hrk_txtb').change(function() {\r\n        $('#high_rejection_keywords_update').val(1);\r\n    });\r\n\r\n    var pixelHeadCodeMirror = CodeMirror.fromTextArea(document.getElementById('uni_pixel_header'), {\r\n        theme: 'default',\r\n        lineNumbers: true,\r\n        matchBrackets: true,\r\n        mode: \"application/x-httpd-php\",\r\n        indentUnit: 4,\r\n        indentWithTabs: true\r\n    });\r\n\r\n    pixelHeadCodeMirror.on('change',function(cm){\r\n        $('#header_pixel_status').val(1);\r\n    });\r\n\r\n    var pixelBodyCodeMirror = CodeMirror.fromTextArea(document.getElementById('uni_pixel_body'), {\r\n        theme: 'default',\r\n        lineNumbers: true,\r\n        matchBrackets: true,\r\n        mode: \"application/x-httpd-php\",\r\n        indentUnit: 4,\r\n        indentWithTabs: true\r\n    });\r\n\r\n    pixelBodyCodeMirror.on('change',function(cm){\r\n        $('#body_pixel_status').val(1);\r\n    });\r\n\r\n    var pixelFootCodeMirror = CodeMirror.fromTextArea(document.getElementById('uni_pixel_footer'), {\r\n        theme: 'default',\r\n        lineNumbers: true,\r\n        matchBrackets: true,\r\n        mode: \"application/x-httpd-php\",\r\n        indentUnit: 4,\r\n        indentWithTabs: true\r\n    });\r\n\r\n    pixelFootCodeMirror.on('change',function(cm){\r\n        $('#footer_pixel_status').val(1);\r\n    });\r\n\r\n    $('#campaign_filter_process_status').change(function() {\r\n        $('#campaign_filter_process_status_update').val(1);\r\n    });\r\n\r\n    $('#cake_conversions_archiving_age_in_days').change(function() {\r\n        $('#cake_conversions_archiving_age_in_days_update').val(1);\r\n    });\r\n\r\n    $('#campaign_type_view_count').change(function() {\r\n        $('#campaign_type_view_count_update').val(1);\r\n    });\r\n\r\n    $('#user_nos_before_not_displaying_campaign').change(function() {\r\n        $('#user_nos_before_not_displaying_campaign_update').val(1);\r\n    });\r\n\r\n    $('#num_leads_to_process_for_send_pending_leads').change(function() {\r\n        $('#num_leads_to_process_for_send_pending_leads_update').val(1);\r\n    });\r\n\r\n    $('#send_pending_lead_cron_expiration').change(function() {\r\n        $('#send_pending_lead_cron_expiration_update').val(1);\r\n    });\r\n\r\n    $('#cplchecker_excluded_campaigns').change(function() {\r\n        $('#cplchecker_excluded_campaigns_update').val(1);\r\n    });\r\n\r\n    $('#nocpl_recipient').change(function() {\r\n        $('#nocpl_recipient_update').val(1);\r\n    });\r\n\r\n    $('#optoutreport_recipient').change(function() {\r\n        $('#optoutreport_recipient_update').val(1);\r\n    });\r\n\r\n    $('#ccpaadminemail_recipient').change(function() {\r\n        $('#ccpaadminemail_recipient_update').val(1);\r\n    });\r\n    $('#optoutexternal_recipient').change(function() {\r\n        $('#optoutexternal_recipient_update').val(1);\r\n    });\r\n    $('#optoutemail_replyto').change(function() {\r\n        $('#optoutemail_replyto_update').val(1);\r\n    });\r\n    $('#publisher_percentage_revenue').change(function() {\r\n        $('#publisher_percentage_revenue_update').val(1);\r\n    });\r\n    $('#data_feed_excluded_affiliates').change(function() {\r\n        $('#data_feed_excluded_affiliates_update').val(1);\r\n    });\r\n    $('#excessive_affiliate_subids').change(function() {\r\n        $('#excessive_affiliate_subids_update').val(1);\r\n    });\r\n\r\n    CKEDITOR.config.enterMode = CKEDITOR.ENTER_BR;\r\n    CKEDITOR.config.allowedContent = true;\r\n    \r\n    $('#epicdemand_tcpa').ckeditor({\r\n        removeButtons : 'Underline,Subscript,Superscript,Scayt,RemoveFormat,About,Copy,Paste,PasteText,PasteFromWord,Cut,Anchor'\r\n    });\r\n\r\n    $('#pfr_tcpa').ckeditor({\r\n        removeButtons : 'Underline,Subscript,Superscript,Scayt,RemoveFormat,About,Copy,Paste,PasteText,PasteFromWord,Cut,Anchor'\r\n    });\r\n\r\n    $('#admired_tcpa').ckeditor({\r\n        removeButtons : 'Underline,Subscript,Superscript,Scayt,RemoveFormat,About,Copy,Paste,PasteText,PasteFromWord,Cut,Anchor'\r\n    });\r\n\r\n    $('#clinical_trial_tcpa').ckeditor({\r\n        removeButtons : 'Underline,Subscript,Superscript,Scayt,RemoveFormat,About,Copy,Paste,PasteText,PasteFromWord,Cut,Anchor'\r\n    });\r\n\r\n    for (var i in CKEDITOR.instances) {\r\n        CKEDITOR.instances[i].on('change', function(e) {\r\n            if(this.name == 'epicdemand_tcpa') {\r\n                $('#epicdemand_tcpa_status').val(1)\r\n            }else if(this.name == 'pfr_tcpa'){\r\n                $('#pfr_tcpa_status').val(1)\r\n            }else if(this.name == 'admired_tcpa'){\r\n                $('#admired_tcpa_status').val(1)\r\n            }else if(this.name == 'clinical_trial_tcpa'){\r\n                $('#clinical_trial_tcpa_status').val(1)\r\n            }\r\n        });\r\n    }\r\n\r\n    $('#full_rejection_alert_status_checkbox').change(function() {\r\n        console.log('full_rejection_alert_status_checkbox toggle: ' + $(this).prop('checked'));\r\n\r\n        if($(this).prop('checked'))\r\n        {\r\n            $(this).val(1);\r\n            $('#full_rejection_alert_status').val(1);\r\n        }\r\n        else\r\n        {\r\n            $(this).val(0);\r\n            $('#full_rejection_alert_status').val(0);\r\n        }\r\n        $('#full_rejection_alert_status_update').val(1)\r\n    });\r\n    $('#full_rejection_alert_min_leads,#full_rejection_alert_check_days,#full_rejection_advertiser_email_status,#full_rejection_deactivate_campaign_status, #full_rejection_excluded_campaigns').change(function() {\r\n        $('#full_rejection_alert_status_update').val(1);\r\n    });\r\n\r\n    $('#clickLogTrafficSourceSelect').select2({\r\n        placeholder: 'Select the traffic source',\r\n        minimumInputLength: 1,\r\n        maximumSelectionLength: 0,\r\n        theme: 'bootstrap',\r\n        language: {\r\n            inputTooShort: function() {\r\n                return \"Please enter the id or name of the affiliate. (Enter 1 or more characters)\";\r\n            },\r\n            searching: function() {\r\n                return \"Searching...\";\r\n            }\r\n        },\r\n        ajax: {\r\n            url: $('#baseUrl').html()+'/search/select/revenueTrackers',\r\n            dataType: \"json\",\r\n            type: \"POST\",\r\n            data: function (params) {\r\n\r\n                var queryParameters = {\r\n                    term: params.term\r\n                };\r\n\r\n                return queryParameters;\r\n            },\r\n            processResults: function (data) {\r\n                console.log(data);\r\n                return {\r\n                    results: $.map(data.items, function (item) {\r\n                        return {\r\n                            text: item.revenue_tracker_id,\r\n                            id: item.id\r\n                        }\r\n                    })\r\n                };\r\n            }\r\n        }\r\n    });\r\n\r\n    $(document).on('click','#clearClickLogTrafficSourceSelect',function(e)\r\n    {\r\n        $('#clickLogTrafficSourceSelect').val(null).trigger('change');\r\n    });\r\n\r\n    $(document).on('click','#addClickLogTrafficBtn',function(e)\r\n    {\r\n        \r\n        var sourceID = $('#clickLogTrafficSourceSelect').val();\r\n\r\n        if(sourceID != null) {\r\n            if(confirm('Are you sure you want to add this source?')) {\r\n                console.log($('#clickLogTrafficSourceSelect').val());\r\n\r\n                $.ajax({\r\n                    type: 'POST',\r\n                    url: $('#baseUrl').html() + '/add_click_log_source',\r\n                    data: {\r\n                        id : sourceID,\r\n                    },\r\n                    success: function(response){\r\n                        console.log(response);\r\n                        if(response.status == 'success') {\r\n                            var table = $('#clicks-log-source-table').DataTable();\r\n                            table.ajax.reload();\r\n                            alert(response.message)\r\n                        }else{\r\n                            $('#clickLogTrafficSourceSelect').val(null).trigger('change');\r\n                            alert(response.message)\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }else {\r\n            alert('Select source first');\r\n        }\r\n    });\r\n\r\n    $(document).on('click','.remove-click-log-source',function(e)\r\n    {\r\n        \r\n        var sourceID = $(this).data('id');\r\n        console.log(sourceID);\r\n\r\n        if(confirm('Are you sure you want to remove this source?')) {\r\n            $.ajax({\r\n                type: 'POST',\r\n                url: $('#baseUrl').html() + '/delete_click_log_source',\r\n                data: {\r\n                    id : sourceID,\r\n                },\r\n                success: function(response){\r\n                    var table = $('#clicks-log-source-table').DataTable();\r\n                    table.ajax.reload();\r\n                    alert('Source successfully removed!')\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    var clickLogsTable = $('#clicks-log-source-table').DataTable({\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'ajax':{\r\n            url:$('#baseUrl').html() + '/getClickLogSources', // json datasource\r\n            type: 'post', \r\n            \"dataSrc\": function ( json ) {\r\n                console.log(json);\r\n                var rows = [];\r\n\r\n                $(json.data).each(function(i, row) {\r\n                    var btn = '<button data-id=\"'+row.id+'\" type=\"button\" class=\"remove-click-log-source btn btn-danger btn-xs\"><span class=\"glyphicon glyphicon-remove\"></span></button>';\r\n                    rows.push([\r\n                        row.affiliate_id + ' / ' + row.revenue_tracker_id,\r\n                        row.created_at,\r\n                        btn\r\n                    ])\r\n                });\r\n                return rows;\r\n            },\r\n        },\r\n        'columns': [\r\n            null,\r\n            null,\r\n            { 'orderable': false }\r\n        ],\r\n    });\r\n\r\n    $('#click_log_num_days, #clic_logs_apply_all_affiliates').change(function() {\r\n        $('#click_log_tracing_update').val(1);\r\n    });\r\n\r\n    if($('#clic_logs_apply_all_affiliates').prop('checked')) {\r\n        $('#addClickLogTrafficBtn').addClass('disabled');\r\n    }\r\n    \r\n    $(document).on('change','#clic_logs_apply_all_affiliates',function(e)\r\n    {\r\n        if($(this).prop('checked')) {\r\n            $('#addClickLogTrafficBtn').addClass('disabled');\r\n        }else {\r\n            $('#addClickLogTrafficBtn').removeClass('disabled');\r\n        }\r\n    });\r\n});"]}