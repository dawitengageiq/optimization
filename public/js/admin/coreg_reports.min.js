$(document).ready(function(){var e=$("#baseUrl").html()+"/getCoregReports",a=[],r=$("#coregReport-table").DataTable({processing:!0,serverSide:!0,order:[[13,"desc"]],searching:!1,ajax:{url:e,type:"post",data:function(e){e.campaign_id=$("#realCampaignId").val(),e.affiliate_id=$("#affiliate_id").val(),e.revenue_tracker_id=$("#revenue_tracker_id").val(),e.group_by_column=$("#group_by_column").val(),e.lead_date=$("#lead_date").val(),$("#show_inactive_campaign").prop("checked")&&(e.show_inactive_campaign=1)},dataSrc:function(e){return $("#downloadRevenueReport").removeClass("disabled"),console.log(e),$("#snapshot-date").html(e.date),$("#total-net-profit").html(e.profit),$("#total-cost").html(e.cost),$("#total-revenue").html(e.revenue),$("#generateReportBtn").removeAttr("disabled"),a=e.rows,e.data},error:function(e){console.log(e)}},createdRow:function(e,r,o){1==a[o]?$(e).addClass("success"):2==a[o]?$(e).addClass("danger"):3==a[o]?$(e).addClass("warning"):4==a[o]&&$(e).addClass("info")},lengthMenu:[[25,50,100,1e3,2e3,3e3],[25,50,100,1e3,2e3,3e3]],sDom:'lf<"addToolbar">rtip'});$("div.addToolbar").html($("#coregReportLegendDiv").html()),$("#coregReport-form").submit(function(e){e.preventDefault(),$('label[for="affiliate_id"]').removeClass("error_label error"),$("#affiliate_id").removeClass("error_field error"),$('label[for="revenue_tracker_id"]').removeClass("error_label error"),$("#revenue_tracker_id").removeClass("error_field error");var a=$("#affiliate_id").val(),o=$("#revenue_tracker_id").val(),l=$("#generateReportBtn"),i=!0;(isNaN(a)||a<0)&&($('label[for="affiliate_id"]').addClass("error_label error"),$("#affiliate_id").addClass("error_field error"),i=!1),(isNaN(o)||o<0)&&($('label[for="revenue_tracker_id"]').addClass("error_label error"),$("#revenue_tracker_id").addClass("error_field error"),i=!1),i&&($('label[for="affiliate_id"]').removeClass("error_label error"),$("#affiliate_id").removeClass("error_field error"),$('label[for="revenue_tracker_id"]').removeClass("error_label error"),$("#revenue_tracker_id").removeClass("error_field error"),$("#downloadRevenueReport").addClass("disabled"),l.attr("disabled",!0),r.ajax.reload())}),$("#date_range").change(function(){""!=$(this).val()&&($("#lead_date_from").val(""),$("#lead_date_to").val(""))}),$(".lead_date").change(function(){""!=$(this).val()&&$("#date_range").val("")}),$("#clear").click(function(){var e=$("#coregReport-form");e.find("input:text, input:password, input:file, select, textarea").val(""),e.find("input:radio, input:checkbox").removeAttr("checked").removeAttr("selected"),$("#realCampaignId").val(""),$(".campaignField").trigger("change.select2")}),$(".input-group.date").datepicker({format:"yyyy-mm-dd",clearBtn:!0,autoclose:!0,todayHighlight:!0}),$(".campaignField").select2({theme:"bootstrap"}),$(document).on("change","#show_inactive_campaign",function(e){console.log($(this).prop("checked")),$(this).prop("checked")?($("#showAllCampaigns-container").show(),$("#showActiveCampaigns-container").hide(),$("#realCampaignId").val($('[name="fake_campaign_id_all"]').val())):($("#showAllCampaigns-container").hide(),$("#showActiveCampaigns-container").show(),$("#realCampaignId").val($('[name="fake_campaign_id_active"]').val()))}),$(document).on("change",'[name="fake_campaign_id_all"]',function(e){console.log("all"),console.log($(this).val()),$("#show_inactive_campaign").prop("checked")&&($("#realCampaignId").val($('[name="fake_campaign_id_all"').val()),console.log("update the other one"),$('[name="fake_campaign_id_active"]').val($(this).val()).trigger("change"))}),$(document).on("change",'[name="fake_campaign_id_active"]',function(e){console.log("active"),console.log($(this).val()),$("#show_inactive_campaign").prop("checked")||($("#realCampaignId").val($('[name="fake_campaign_id_active"').val()),console.log("update the other one"),$('[name="fake_campaign_id_all"]').val($(this).val()).trigger("change"))})});
//# sourceMappingURL=coreg_reports.min.js.map
