{"version":3,"sources":["campaigns.js"],"names":["$","document","ready","tooltip","ajaxSetup","headers","X-CSRF-Token","attr","campaignsURL","html","eiqIframeID","val","DataTable","processing","serverSide","order","initComplete","category_column","this","api","column","cat_column_name","footer","innerHTML","cat_select","appendTo","header","empty","on","fn","dataTable","util","escapeRegex","search","draw","ajax","url","method","success","categories","each","index","category","append","id","name","error","jqXHR","textStatus","errorThrown","console","log","status_column","stat_column_name","statusSelect","data","i","length","value","option","drawCallback","settings","type","d","status","undefined","datatable_category","datatable_status","columns","orderable","lengthMenu","e","preventDefault","advertiser_name","campaign_name","img","description","modal","this_button","campaign_id","affiliate_id","the_url","campaign","affiliate","table","pendingBtn","cell","parent","setTimeout","hasIframeInstructions","lastCampaignOpened","oWebId","oRedUrl","cWebId","cRedUrl","cSampleCode","scriptEnd","scriptEndPos","oAppendTo","cAppendTo","oSkipTime","cSkipTime","osubmitTxt","csubmitTxt","oLoadTxt","cLoadTxt","orig_sc","updated_sc","String","prototype","replaceAll","replacement","target","replace","RegExp","show","sample_code","posting_instruction","text","block","hljs","highlightBlock","alert","this_field","og_app_val","slice","og_timeout_val","og_submit_val","og_load_val","collapse","hide"],"mappings":"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","file":"campaigns.min.js","sourcesContent":["$(document).ready(function() {\r\n\r\n    $('[data-toggle=\"tooltip\"]').tooltip();\r\n\r\n    $.ajaxSetup({\r\n       headers: {\r\n           'X-CSRF-Token': $('meta[name=\"_token\"]').attr('content')\r\n       }\r\n    });\r\n\r\n    var campaignsURL = $('#baseUrl').html() + '/affiliate/campaignList';\r\n\r\n    var eiqIframeID = $('#eiq_iframe_id').val();\r\n\r\n    var campaignsDataTable = $('#campaigns-table').DataTable(\r\n    {\r\n        'processing': true,\r\n        'serverSide': true,\r\n        'order': [], //disable the initial ordering\r\n\r\n        'initComplete': function()\r\n        {\r\n\r\n            var category_column = this.api().column(2);\r\n            var cat_column_name = category_column.footer().innerHTML;\r\n\r\n            var cat_select = $('<select id=\"datatable_category\"><option value=\"\">'+cat_column_name+'</option></select>')\r\n                .appendTo($(category_column.header()).empty())\r\n                .on('change', function ()\r\n                {\r\n                    var val = $.fn.dataTable.util.escapeRegex(\r\n                        $(this).val()\r\n                    );\r\n                    category_column\r\n                        .search( val ? '^'+val+'$' : '', true, false )\r\n                        .draw();\r\n                });\r\n\r\n            //add items in the column from the categories table\r\n            $.ajax({\r\n                url: $('#baseUrl').html()+'/getCategories',\r\n                method: 'POST',\r\n                success: function(categories)\r\n                {\r\n                    // console.log(categories);\r\n                    $.each(categories, function(index,category) {\r\n                        cat_select.append('<option value=\"'+category.id+'\">'+category.name+'</option>');\r\n                    });\r\n\r\n                    //add undefined category\r\n                    cat_select.append('<option value=\"null\">Undefined</option>');\r\n                },\r\n                error: function(jqXHR,textStatus,errorThrown)\r\n                {\r\n                    console.log(textStatus);\r\n                }\r\n            });\r\n\r\n            //Status\r\n            var status_column = this.api().column(5);\r\n            var stat_column_name = status_column.footer().innerHTML;\r\n\r\n            var statusSelect = $('<select id=\"datatable_status\"><option value=\"\">'+stat_column_name+'</option></select>')\r\n                .appendTo($(status_column.header()).empty())\r\n                .on( 'change', function ()\r\n                {\r\n                    var val = $.fn.dataTable.util.escapeRegex(\r\n                        $(this).val()\r\n                    );\r\n                    status_column\r\n                        .search( val ? '^'+val+'$' : '', true, false )\r\n                        .draw();\r\n                });\r\n\r\n            //add items in the column from the categories table\r\n            $.ajax({\r\n                url: $('#baseUrl').html()+'/affiliateRequestStatusList',\r\n                method: 'GET',\r\n                success: function(data)\r\n                {\r\n                    for(var i=0;i<data.length;i++)\r\n                    {\r\n                        statusSelect.append('<option value=\"'+data[i].value+'\">'+data[i].option+'</option>');\r\n                    }\r\n                },\r\n                error: function(jqXHR,textStatus,errorThrown)\r\n                {\r\n                    console.log(textStatus);\r\n                }\r\n            });\r\n\r\n            \r\n        },\r\n        'drawCallback': function(settings)\r\n        {\r\n            /*\r\n            var category_column = this.api().column(2);\r\n            var cat_column_name = category_column.footer().innerHTML;\r\n\r\n            var cat_select = $('<select id=\"datatable_category\"><option value=\"\">'+cat_column_name+'</option></select>')\r\n                .appendTo($(category_column.header()).empty())\r\n                .on('change', function ()\r\n                {\r\n                    var val = $.fn.dataTable.util.escapeRegex(\r\n                        $(this).val()\r\n                    );\r\n                    category_column\r\n                        .search( val ? '^'+val+'$' : '', true, false )\r\n                        .draw();\r\n                });\r\n\r\n            category_column.data().unique().sort().each(function (d,j) {\r\n                cat_select.append( '<option value=\"'+d+'\">'+d+'</option>' )\r\n            });\r\n\r\n\r\n            //Status\r\n            var status_column = this.api().column(5);\r\n            var stat_column_name = status_column.footer().innerHTML;\r\n\r\n            $('<select id=\"datatable_status\"><option value=\"\">'+stat_column_name+'</option><option value=\"Active\">Active</option><option value=\"Pending\">Pending</option><option value=\"Apply to Run\">Apply to Run</option></select>')\r\n                .appendTo( $(status_column.header()).empty())\r\n                .on( 'change', function ()\r\n                {\r\n                    var val = $.fn.dataTable.util.escapeRegex(\r\n                        $(this).val()\r\n                    );\r\n                    status_column\r\n                        .search( val ? '^'+val+'$' : '', true, false )\r\n                        .draw();\r\n                });\r\n                */\r\n        },\r\n\r\n        'ajax':{\r\n            url: campaignsURL,\r\n            type: 'POST',  // method  , by default get\r\n            'data': function(d)\r\n            {\r\n\r\n                var category = $('#datatable_category').val();\r\n                var status = $('#datatable_status').val();\r\n\r\n                if(category===undefined)\r\n                {\r\n                    category = '';\r\n                }\r\n\r\n                if(status===undefined)\r\n                {\r\n                    status = '';\r\n                }\r\n\r\n                d.datatable_category = category;\r\n                d.datatable_status = status;\r\n            },\r\n            error: function()\r\n            {\r\n                // error handling\r\n            }\r\n        },\r\n\r\n        'columns': [\r\n            {\r\n                'data': 'image',\r\n                'orderable': false\r\n            },\r\n            {\r\n                'data': 'name',\r\n                'orderable': true\r\n            },\r\n            {\r\n                'data': 'category_name',\r\n                'orderable': false\r\n            },\r\n            {\r\n                'data': 'description',\r\n                'orderable': false\r\n            },\r\n            {\r\n                'data': 'payouts',\r\n                'orderable': true\r\n            },\r\n            {\r\n                'data': 'request_status',\r\n                'orderable': false\r\n            },\r\n            {\r\n                'data': 'action',\r\n                'orderable': false\r\n            }\r\n        ],\r\n        'lengthMenu': [[20,50,100,-1],[20,50,100,'ALL']]\r\n    });\r\n\r\n    $(document).on('click','.displayMoreDetailsBtn',function(e) \r\n    {\r\n        e.preventDefault();\r\n        var id = $(this).data('id');\r\n        var advertiser_name = $(this).data('advertiser_name');\r\n        var campaign_name = $('#cmp-'+id+'-name').html();\r\n        var img = $('#cmp-'+id+'-img').attr('src');\r\n        var description = $('#cmp-'+id+'-description').html();\r\n\r\n        $('#campaign-name.campaign-desc').html(campaign_name);\r\n        $('#advertiser-name.campaign-desc').html(advertiser_name);\r\n        $('#campaign-image.campaign-desc').attr('src',img);\r\n        $('#campaign-full-description.campaign-desc').html(description);\r\n\r\n        $('#campaignMoreDetailsModal').modal('show');\r\n    });\r\n\r\n    $('#campaignMoreDetailsModal').on('hidden.bs.modal', function (e) {\r\n        $('#campaign-name.campaign-desc').html('');\r\n        $('#advertiser-name.campaign-desc').html('');\r\n        $('#campaign-image.campaign-desc').attr('src','');\r\n        $('#campaign-full-description.campaign-desc').html('');\r\n    });\r\n\r\n    $(document).on('click','.applyToRunRequestBtn',function(e) \r\n    {\r\n        var this_button = $(this);\r\n        var campaign_id = $(this).data('campaign_id');\r\n        var affiliate_id = $(this).data('affiliate_id');\r\n        var the_url = $('#baseUrl').html() + '/receive_request_to_run_campaign';\r\n\r\n        this_button.html('<i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>');\r\n\r\n        $.ajax({\r\n            type : 'POST',\r\n            url  : the_url,\r\n            data : {\r\n                 'campaign'  :   campaign_id,\r\n                 'affiliate' : affiliate_id\r\n            }, \r\n            success : function(data) {\r\n                $('#applyToRunMessageModal').modal('show');\r\n                var table = $('#campaigns-table').DataTable();\r\n                var pendingBtn = '<span class=\"btn btn-default btn-warning\">Pending</span>';\r\n                table.cell( this_button.parent('td') ).data(pendingBtn).draw();\r\n                setTimeout(function(){ $('#applyToRunMessageModal').modal('hide'); }, 5000);      \r\n            }\r\n        });\r\n    });\r\n\r\n    var hasIframeInstructions = false;\r\n        lastCampaignOpened = 0,\r\n        oWebId = \"'website_id'   : \",\r\n        oRedUrl = \"'redirect_url' : \",\r\n        cWebId = \"'{website_id}'\",\r\n        cRedUrl = \"'{next_page}'\",\r\n        cSampleCode = '',\r\n        scriptEnd = '&lt;/script&gt;',\r\n        scriptEndPos = 0,\r\n        oAppendTo = \"options.appendTo = '\",\r\n        cAppendTo = '{append_element}',\r\n        oSkipTime = \"options.skipTimeout = \",\r\n        cSkipTime = '{skip_timeout}',\r\n        osubmitTxt = \"options.submitBtntext = '\",\r\n        csubmitTxt = '{submit_text}',\r\n        oLoadTxt = \"options.loaderText = '\",\r\n        cLoadTxt = '{load_text}';\r\n\r\n    var orig_sc = '',\r\n        updated_sc = '';\r\n\r\n    String.prototype.replaceAll = function(search, replacement) {\r\n        var target = this;\r\n        return target.replace(new RegExp(search, 'g'), replacement);\r\n    };\r\n\r\n    $(document).on('click','.getACodeBtn',function(e) \r\n    {\r\n        var this_button = $(this);\r\n        var campaign_id = $(this).data('campaign_id');\r\n        var affiliate_id = $(this).data('affiliate_id');\r\n        var the_url = $('#baseUrl').html() + '/get_campaign_posting_instruction';\r\n        this_button.html('<i class=\"fa fa-spinner fa-spin\" aria-hidden=\"true\"></i>');\r\n\r\n        if(campaign_id == eiqIframeID) {\r\n            $('#iframeCustomCodeBtn').show();\r\n        }\r\n\r\n        if(lastCampaignOpened == campaign_id && hasIframeInstructions) {\r\n            this_button.html('Get A Code');\r\n            $('#campaignGetCodeModal').modal('show');  \r\n            return;\r\n        }\r\n\r\n        $.ajax({\r\n            type : 'POST',\r\n            url  : the_url,\r\n            data : {\r\n                 'campaign'  :   campaign_id,\r\n                 'affiliate' : affiliate_id\r\n            }, \r\n            success : function(data) {\r\n                var status = data.status;\r\n                var campaign = data.data;\r\n                if(status == 1) {\r\n                    if(campaign != null) {\r\n\r\n                        var sample_code = campaign.sample_code;\r\n\r\n                        // Replace affiliate_id\r\n                        sample_code = sample_code.replace(\"'{affiliate_id}'\", affiliate_id);\r\n\r\n                        $('#posting-tab').html(campaign.posting_instruction);\r\n                        // $('#get-tab .code-sample-div p').html(campaign.sample_code);\r\n                        $('#get-tab .code-sample-div pre code').html(sample_code);\r\n                        $('#sampleCode4Custom').text(sample_code);\r\n                        cSampleCode = sample_code;\r\n\r\n                        orig_sc = sample_code;\r\n\r\n                        $('pre code').each(function(i, block) {\r\n                            hljs.highlightBlock(block);\r\n                        });\r\n                        // console.log(cSampleCode);\r\n\r\n                        $('#campaignGetCodeModal').modal('show');  \r\n\r\n                        hasIframeInstructions = true;\r\n\r\n                    }else {\r\n                        alert('Unfortunately, We have not created the posting instructions yet :(');\r\n                    }\r\n                }else {\r\n                    alert('You do not have the right to run this campign');\r\n                }\r\n                this_button.html('Get A Code');\r\n\r\n                lastCampaignOpened = campaign_id;\r\n                // console.log(data);\r\n            }\r\n        });\r\n    });\r\n    \r\n    $(document).on('click','#updateIframeCodeBtn',function(e) \r\n    {\r\n        updated_sc = orig_sc;\r\n\r\n        $('.customizeCode').each(function( index ) {\r\n            var this_field = $(this).attr('id'),\r\n            value = $(this).val();\r\n\r\n            if(this_field == 'website') {\r\n                if(value != '') updated_sc = updated_sc.replaceAll(\"'{website_id}'\", value);\r\n            }else if(this_field == 'redirect_url') {\r\n                if(value != '') updated_sc = updated_sc.replaceAll(\"{next_page}\", value);\r\n            }else if(this_field == 'append_to') {\r\n                if(value != '') {\r\n                    og_app_val = \"options.appendTo = '\"+value+\"';  // Optional\\n\";\r\n                    scriptEndPos = updated_sc.search(scriptEnd);\r\n                    updated_sc = updated_sc.slice(0, scriptEndPos) + og_app_val + updated_sc.slice(scriptEndPos);\r\n                }\r\n            }else if(this_field == 'timeout') {\r\n                if(value != '') {\r\n                    og_timeout_val = \"options.skipTimeout = \"+value+\";  // Optional\\n\";\r\n                    scriptEndPos = updated_sc.search(scriptEnd);\r\n                    updated_sc = updated_sc.slice(0, scriptEndPos) + og_timeout_val + updated_sc.slice(scriptEndPos);\r\n                }\r\n            }else if(this_field == 'submit_btn') {\r\n                if(value != '') {\r\n                    og_submit_val = \"options.submitBtntext = '\"+value+\"';  // Optional\\n\";\r\n                    scriptEndPos = updated_sc.search(scriptEnd);\r\n                    updated_sc = updated_sc.slice(0, scriptEndPos) + og_submit_val + updated_sc.slice(scriptEndPos);\r\n                }\r\n            }else if(this_field == 'loader_text') {\r\n                if(value != '') {\r\n                    og_load_val = \"options.loaderText = '\"+value+\"';  // Optional\\n\";\r\n                    scriptEndPos = updated_sc.search(scriptEnd);\r\n                    updated_sc = updated_sc.slice(0, scriptEndPos) + og_load_val + updated_sc.slice(scriptEndPos);\r\n                }\r\n            }\r\n        });\r\n        \r\n        console.log(updated_sc);\r\n        $('#get-tab .code-sample-div pre code').html(updated_sc);\r\n        $('pre code').each(function(i, block) {\r\n            hljs.highlightBlock(block);\r\n        });\r\n\r\n        $('#customCodeCollapse').collapse('hide');\r\n    });\r\n\r\n\r\n    $('#campaignGetCodeModal').on('hidden.bs.modal', function (e) {\r\n        $('#iframeCustomCodeBtn').hide();\r\n        $('#customCodeCollapse').collapse('hide');\r\n        // $('#sampleCode4Custom').text('');\r\n    });\r\n});\r\n"]}