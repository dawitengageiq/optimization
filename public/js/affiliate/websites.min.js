$(document).ready(function(){$.ajaxSetup({headers:{"X-CSRF-Token":$('meta[name="_token"]').attr("content")}});var e=null;$(document).on("submit",".this_form",function(a){a.preventDefault();var t=$(this),i=t.serialize(),o=t.attr("action"),r=!0;""!=$(this).data("confirmation")&&(r=confirm(t.data("confirmation"))),r===!0&&(t.find(".this_modal_submit").attr("disabled","true"),$.ajax({type:"POST",data:i,url:o,error:function(e){var a=e.responseJSON,i=t.data("process");"add_contact"!=i&&"edit_contact"!=i||void 0!=a.advertiser_id&&(a.advertiser_id[0]=""),console.log(a),t.find(".this_errors").html(""),t.find(".this_error_wrapper").show(),t.find(".this_errors").show();var o="<ul>";$.each(a,function(e,a){""!=a&&(o+='<li> <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> '+a[0]+"</li>"),$('label[for="'+e+'"]').addClass("error_label error"),$("#"+e).addClass("error_field error")}),o+="</ul>",console.log(o),t.find(".this_errors").append(o),t.find(".this_modal_submit").removeAttr("disabled")},success:function(a){t.find(".error").each(function(){$(this).removeClass("error"),$(this).removeClass("error_field"),$(this).removeClass("error_label")}),$(".this_error_wrapper").hide(),e=a.id,console.log("SUCCESS "+e);var i=$("#websites-table").DataTable();i.draw(),$("#websiteModal").modal("hide"),$(".this_modal_submit").removeAttr("disabled")}}))});$("#websites-table").DataTable({responsive:!0,autoWidth:!1,processing:!0,serverSide:!0,order:[[0,"desc"]],columns:[null,null,{orderable:!1},null,null,{orderable:!1}],ajax:{url:$("#baseUrl").html()+"/affiliate/get_websites",type:"post",error:function(e){console.log(e)},dataSrc:function(e){return e.data}},drawCallback:function(a){console.log(e),null!=e&&($("#afWeb-"+e+"-name").parent().parent().css("background-color","rgba(0, 188, 212, 0.16)"),setTimeout(function(){$("#afWeb-"+e+"-name").parent().parent().css("background-color",""),e=null},2e3))}});$("#websiteModal").on("hide.bs.modal",function(){var e=$("#websiteModal"),a=e.find("form"),t=$("#websiteModalPreSubmit"),i=$("#websiteModalSubmit");$("#this_id").val(""),$("#website_id").val(""),$("#name").val(""),$("#description").val(""),$("#status").val(""),t.show(),i.hide(),a.find(".this_modal_close").html("Close"),$("#websiteModalConfirm").hide()})}),$(document).on("click",".editAffiliateWebsite",function(){var e=$(this).data("id"),a=($(this),$("#websiteModal"));a.find("form");$("#this_id").val(e),$("#website_id").val(e),$("#name").val($("#afWeb-"+e+"-name").html()),$("#description").val($("#afWeb-"+e+"-desc").html()),$("#status").val($("#afWeb-"+e+"-status").html()),a.modal("show")}),$(document).on("click","#websiteModalPreSubmit",function(){var e=$("#websiteModal"),a=e.find("form"),t=$(this),i=$("#websiteModalSubmit");t.hide(),i.show(),a.find(".this_modal_close").html("Cancel"),$("#websiteModalConfirm").show()});
//# sourceMappingURL=websites.min.js.map
