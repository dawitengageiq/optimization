function processIdentifier(a,e){switch(a){case"add_affiliate":addAffiliateProcess(e);break;case"edit_affiliate":editAffiliateProcess(e);break;case"add_contact":addContactProcess(e);break;case"edit_contact":editContactProcess(e);break;case"add_advertiser":addAdvertiserProcess(e);break;case"edit_advertiser":editAdvertiserProcess(e);break;case"add_filter_type":addFilterTypeProcess(e);break;case"edit_filter_type":editFilterTypeProcess(e);break;case"add_campaign":addCampaignProcess(e);break;case"edit_campaign":editCampaignProcess(e);break;case"update_lead_details":updateLeadDetails(e);break;case"add_campaign_payout":addCampaignPayoutProcess(e);break;case"edit_campaign_payout":editCampaignPayoutProcess(e);break;case"edit_campaign_config":editCampaignConfigProcess(e);break;case"edit_campaign_long_content":editCampaignLongContentProcess(e);break;case"edit_campaign_stack_content":editCampaignStackContentProcess(e);break;case"edit_campaign_high_paying_content":editCampaignHighPayingContentProcess(e);break;case"edit_campaign_posting_instruction":editCampaignPostingInstructionProcess(e);break;case"add_revenue_tracker":addRevenueTrackerProcess(e);break;case"edit_revenue_tracker":editRevenueTrackerProcess(e);break;case"update_revenue_tracker_campaign_order":updateRevenueTrackerCampaignOrderProcess(e);break;case"update_revenue_tracker_mixed_coreg_campaign_order":updateRevenueTrackerMixedCoregCampaignOrderProcess(e);break;case"add_gallery_image":addGalleryImageProcess(e);break;case"add_user":addUserProcess(e);break;case"edit_user":editUserProcess(e);break;case"add_campaign_affiliate":addCampaignAffiliateProcess(e);break;case"edit_campaign_affiliate":editCampaignAffiliateProcess(e);break;case"add_campaign_filter_group":addCampaignFilterGroupProcess(e);break;case"edit_campaign_filter_group":editCampaignFilterGroupProcess(e);break;case"add_campaign_filter":addCampaignFilterProcess(e);break;case"edit_campaign_filter":editCampaignFilterProcess(e);break;case"update_user_profile":updateUserProfileProcess(e);break;case"change_user_password":changePasswordProcess(e);break;case"add_category":addCategoryProcess(e);break;case"edit_category":editCategoryProcess(e);break;case"edit_account_contact_info":editAccountContactInfo(e);break;case"change_password_contact_info":changePasswordContactInfo(e);break;case"report_bug":reportBugProcess(e);break;case"update_settings":updateSettingsProcess(e);break;case"upload_affiliate_reports":uploadAffiliateReportsProcess(e);break;case"add_path":addPathProcess(e);break;case"edit_path":editPathProcess(e);break;case"add_affiliate_website":addAffiliateWebsiteProcess(e);break;case"affiliate_website_payout":affiliateWebsitePayoutProcess(e);break;case"upload_campaign_payout":uploadCampaignPayoutProcess(e);break;case"campaign_config_interface":campaignConfigInterface(e);break;case"campaign_affiliate_management":campaignAffiliateManagement(e);break;case"rev_tracker_to_exit_page_list":revTrackerToExitPageList(e);break;case"add_notes_category":addNotesCategoryProcess(e);break;case"edit_notes_category":editNotesCategoryProcess(e);break;case"add_note":addNoteProcess(e);break;case"edit_note":editNoteProcess(e);break;case"add_banned_lead":addBannedLeadProcess(e);break;case"edit_banned_lead":editBannedLeadProcess(e);break;case"update_lead_rejection_rate_settings":alert("Settings Updated");break;default:alert("unknown process!")}}function uploadCampaignPayoutProcess(a){$(".this_error_wrapper").show(),console.log(a);var e=$(".alert-danger-wrapper"),t=$(".alert-warning-wrapper"),i=$(".alert-success-wrapper"),n=$(".alert-danger-content"),l=$(".alert-warning-content"),s=$(".alert-success-content");switch(e.hide(),t.hide(),i.hide(),a.status){case"file_problem":e.show(),n.html(""),n.append(a.message);break;case"upload_warning":t.show(),l.html(""),l.append(a.message);break;case"upload_fail":e.show(),n.html(""),n.append(a.message);break;default:i.show(),s.html(""),s.append(a.message);var r=$("#campaign-table").DataTable();r.ajax.reload()}}function uploadAffiliateReportsProcess(a){$(".this_error_wrapper").show(),console.log(a.status),console.log(a.message);var e=$(".alert-danger-wrapper"),t=$(".alert-warning-wrapper"),i=$(".alert-success-wrapper"),n=$(".alert-danger-content"),l=$(".alert-warning-content"),s=$(".alert-success-content");switch(e.hide(),t.hide(),i.hide(),a.status){case"file_problem":e.show(),n.html(""),n.append(a.message);break;case"upload_warning":t.show(),l.html(""),l.append(a.message);break;case"upload_fail":e.show(),n.html(""),n.append(a.message);break;default:i.show(),s.html(""),s.append(a.message)}}function changePasswordProcess(a){console.log(a),$("#changePasswordModal").modal("hide"),alert(a.message),window.location.href=$("#baseUrl").val()+"/auth/logout"}function updateUserProfileProcess(a){console.log(a);var e=$("#title").val(),t=$("#first_name").val(),i=$("#middle_name").val(),n=$("#last_name").val(),l=$("#gender").val(),s=$("#address").val(),r=$("#position").val(),d=$("#email").val(),o=$("#mobile_number").val(),c=$("#phone_number").val(),p=$("#instant_messaging").val();$("#current_full_name").html(e+" "+t+" "+i+" "+n),$("#current_gender").html(l),$("#current_address").html(s),$("#current_position").html(r),$("#current_email").html(d),$("#current_mobile_number").html(o),$("#current_phone_number").html(c),$("#current_im").html(p),$("#editProfileModal").modal("hide")}function addUserProcess(a){console.log(a);var e=a.id,t="user-"+e+"-",i=$("#title").val()+" "+$("#first_name").val()+" "+$("#middle_name").val()+" "+$("#last_name").val(),n='<input id="'+t+'id" name="user_id" type="hidden" value="'+e+'">';n+='<input id="'+t+'gender" name="gender" type="hidden" value="'+$("#gender").val()+'">',n+='<input id="'+t+'address" name="address" type="hidden" value="'+$("#address").val()+'">',n+='<input id="'+t+'instant_messaging" name="instant_messaging" type="hidden" value="'+$("#instant_messaging").val()+'">',n+='<button class="editUser btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-pencil"></span></button>',n+='<button class="deleteRole btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-remove"></span></button>';var l=[e,i,$("#email").val(),$("#mobile_number").val(),$("#phone_number").val(),$("#role_name").text(),n],s=$("#users-table").DataTable(),r=s.row.add(l).draw().node(),d=$(r);d.attr("id","row-user-"+e),d.find("td:nth-child(0)").attr("id",t+"id"),d.find("td:nth-child(1)").attr("id",t+"full_name"),d.find("td:nth-child(2)").attr("id",t+"email"),d.find("td:nth-child(3)").attr("id",t+"mobile_number"),d.find("td:nth-child(4)").attr("id",t+"phone_number"),d.find("td:nth-child(5)").attr("id",t+"role_name"),$(".this_field").val(""),$("#userModal").modal("hide")}function editUserProcess(a){var e=a.id,t="#user-"+e+"-",i=$("#title").val()+" "+$("#first_name").val()+" "+$("#middle_name").val()+" "+$("#last_name").val();$(t+"full_name").html(i),$(t+"gender").val($("#gender").val()),$(t+"position").val($("#position").val()),$(t+"address").val($("#address").val());var n=$("#role_id").val(),l=$("#role_id option:selected").text();console.log(n),console.log(l),$(t+"role_id").val(n),$(t+"role_name").html(l),$(t+"instant_messaging").val($("#instant_messaging").val()),$(t+"email").html($("#email").val()),$(t+"mobile_number").html($("#mobile_number").val()),$(t+"phone_number").html($("#phone_number").val()),$(".this_field").val(""),$("#userModal").modal("hide")}function getCitiesByState(a,e){var t=$("#baseUrl").val()+"/get_cities_for_state";$.ajax({type:"POST",data:{name:a},url:t,success:function(a){e(a)}})}function imgPreview(a,e){var t=new FileReader;t.onload=function(a){e.attr("src",a.target.result)},t.readAsDataURL(a[0].files[0])}function refreshTable(a){var e=a.dataTable({order:[[0,"desc"]],bFilter:!1,bSort:!0,bInfo:!1,bPaginate:!1,bDestroy:!0,responsive:!0});e.fnDraw()}function addAffiliateProcess(a){var e=a.id,t=$('input[name="status"]:checked'),i='<span id="aff-'+e+'-type" data-type="'+$("#type").val()+'">'+$("#type option:selected").html()+"</span>",n='<a href="'+$("#website").val()+'" target="_blank"><span id="aff-'+e+'-web">'+$("#website").val()+"</span></td>",l='<span class="glyphicon glyphicon-envelope"></span> ';l+='<span id="aff-'+e+'-add">'+$("#address").val()+"</span><br>",l+='<span id="aff-'+e+'-cty">'+$("#city :selected").val()+'</span>, <span id="aff-'+e+'-ste">'+$("#state :selected").val()+"</span>",l+=' <span id="aff-'+e+'-zip">'+$("#zip").val()+"</span><br>",l+='<span class="glyphicon glyphicon-phone-alt"></span>',l+=' <span id="aff-'+e+'-phn">'+$("#phone").val()+"</span><br>";var s='<input type="hidden" id="aff-'+e+'-desc" value="'+$("#description").val()+'" />';a.canEdit&&(s+='<button class="editAffiliate btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-pencil"></span></button>'),a.canDelete&&(s+='<button class="deleteAffiliate btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-trash"></span></button>');var r=[e,$("#company").val(),"",i,n,l,t.data("label"),s],d=$("#affiliate-table").DataTable(),o=d.row.add(r).draw().node();$(o);$("#AffFormModal").modal("hide")}function editAffiliateProcess(a){var e=a.id;$("#aff-"+e+"-comp").html($("#company").val()),$("#aff-"+e+"-user").html(a.user),$("#aff-"+e+"-type").html($("#type :selected").html()).attr("data-type",$("#type").val()).data("type",$("#type").val()),$("#aff-"+e+"-web").html($("#website").val()),$("#aff-"+e+"-web").parent("a").attr("href",$("#website").val()),$("#aff-"+e+"-phn").html($("#phone").val()),$("#aff-"+e+"-add").html($("#address").val()),$("#aff-"+e+"-cty").html($("#city :selected").val()),$("#aff-"+e+"-ste").html($("#state :selected").val()),$("#aff-"+e+"-zip").html($("#zip").val()),$("#aff-"+e+"-desc").val($("#description").val());var t=$('input[name="status"]:checked');$("#aff-"+e+"-stat").html(t.data("label")),$("#aff-"+e+"-stat").data("status",t.val()),$("#aff-"+e+"-stat").attr("data-status",t.val()),$("#AffFormModal").modal("hide")}function addAdvertiserProcess(a){var e=a.id,t=$("#website_url").val(),i=$('input[name="status"]:checked'),n='<a href="'+t+'" target="_blank"><span id="adv-'+e+'-web">'+t+"</span></td>",l='<span class="glyphicon glyphicon-envelope"></span> ';l+='<span id="adv-'+e+'-add">'+$("#address").val()+"</span><br>",l+='<span id="adv-'+e+'-cty">'+$("#city :selected").val()+'</span>, <span id="adv-'+e+'-ste">'+$("#state :selected").val()+"</span>",l+=' <span id="adv-'+e+'-zip">'+$("#zip").val()+"</span><br>",l+='<span class="glyphicon glyphicon-phone-alt"></span>',l+=' <span id="adv-'+e+'-phn">'+$("#phone").val()+"</span><br>";var s='<input type="hidden" id="adv-'+e+'-desc" value="'+$("#description").val()+'" />';a.canEdit&&(s+='<button class="editAdvertiser btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-pencil"></span></button>'),a.canDelete&&(s+='<button class="deleteAdvertiser btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-trash"></span></button>');var r=[e,$("#company").val(),"",n,l,i.data("label"),s],d=$("#advertiser-table").DataTable(),o=d.row.add(r).draw().node(),c=$(o),p="adv-"+e+"-";c.find("td:nth-child(2)").attr("id",p+"comp"),c.find("td:nth-child(3)").attr("id",p+"user"),c.find("td:nth-child(6)").attr("id",p+"stat"),c.find("td:nth-child(6)").attr("data-status",i.val()),$("#AdvFormModal").modal("hide")}function editAdvertiserProcess(a){var e=a.id,t=$("#website_url").val(),i=$("#adv-"+e+"-web"),n=$("#adv-"+e+"-stat");$("#adv-"+e+"-comp").html($("#company").val()),i.html(t),i.parent("a").attr("html",t),i.parent("a").attr("href",t),$("#adv-"+e+"-phn").html($("#phone").val()),$("#adv-"+e+"-add").html($("#address").val()),$("#adv-"+e+"-cty").html($("#city :selected").val()),$("#adv-"+e+"-ste").html($("#state :selected").val()),$("#adv-"+e+"-zip").html($("#zip").val()),$("#adv-"+e+"-desc").html($("#description").val());var l=$('input[name="status"]:checked');n.html(l.data("label")),n.data("status",l.val()),n.attr("data-status",l.val()),$("#AdvFormModal").modal("hide"),console.log("Advertiser Record has been updated")}function addContactProcess(a){console.log(a);var e=a.id,t="contact-"+e+"-",i=$("#title").val()+" "+$("#first_name").val()+" "+$("#middle_name").val()+" "+$("#last_name").val(),n='<input id="'+t+'affiliate_id" name="affiliate_id" type="hidden" value="'+$("#affiliate_id").val()+'">';n+='<input id="'+t+'advertiser_id" name="advertiser_id" type="hidden" value="'+$("#advertiser_id").val()+'">',n+='<input id="'+t+'gender" name="gender" type="hidden" value="'+$("#gender").val()+'">',n+='<input id="'+t+'address" name="address" type="hidden" value="'+$("#address").val()+'">',n+='<input id="'+t+'instant_messaging" name="instant_messaging" type="hidden" value="'+$("#instant_messaging").val()+'">',a.canEdit&&(n+='<button class="edit-contact btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-pencil"></span></button>'),a.canDelete&&(n+='<button class="delete-contact btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-trash"></span></button>');var l="",s=$("#affiliate_id option:selected").text(),r=$("#advertiser_id option:selected").text();l=null==s||""==s?s:null==r||""==r?r:s+", "+r;var d=[i,$("#position").val(),l,$("#email").val(),$("#mobile_number").val(),$("#phone_number").val(),n],o=$("#contacts-table").DataTable(),c=o.row.add(d).draw().node(),p=$(c);p.attr("id","row-contact-"+e),p.find("td:nth-child(1)").attr("id",t+"full_name"),p.find("td:nth-child(2)").attr("id",t+"position"),p.find("td:nth-child(3)").attr("id",t+"company"),p.find("td:nth-child(4)").attr("id",t+"email"),p.find("td:nth-child(5)").attr("id",t+"mobile_number"),p.find("td:nth-child(6)").attr("id",t+"phone_number"),$(".this_field").val(""),$("#contacts_form_modal").modal("hide"),alert("Contact was added successfully!")}function editContactProcess(a){var e=a.id,t="#contact-"+e+"-",i=$("#affiliate_id"),n=$("#advertiser_id"),l=i.prop("disabled"),s=n.prop("disabled"),r=$("#affiliate_id option:selected").text(),d=$("#advertiser_id option:selected").text();l?($(t+"affiliate_id").val(""),r=""):$(t+"affiliate_id").val(i.val()),s?($(t+"advertiser_id").val(""),d=""):$(t+"advertiser_id").val(n.val()),$(t+"gender").val($("#gender").val()),$(t+"address").val($("#address").val()),$(t+"instant_messaging").val($("#instant_messaging").val());var o=$("#title").val()+" "+$("#first_name").val()+" "+$("#middle_name").val()+" "+$("#last_name").val();$(t+"full_name").html(o),$(t+"position").html($("#position").val()),""!=r&&""!=d?$(t+"company").html(r+", "+d):""!=r&&""==d?$(t+"company").html(r):$(t+"company").html(d),$(t+"email").html($("#email").val()),$(t+"mobile_number").html($("#mobile_number").val()),$(t+"phone_number").html($("#phone_number").val()),$(".this_field").val(""),$(".password-fields-container").show(),$(".password-fields").prop("required",!0),$("#contacts_form_modal").modal("hide")}function addFilterTypeProcess(a){var e=a.id,t=$('input[name="status"]:checked'),i="";a.canEdit&&(i='<button class="edit-filtertype btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-pencil"></span></button>'),a.canDelete&&(i+='<button class="delete-filtertype btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-trash"></span></button>');var n=[$("#type").val(),$("#name").val(),t.data("label"),i],l=$("#filtertypes-table").DataTable();console.log(n);l.row.add(n).draw().node();$("#filtertype_form_modal").modal("hide")}function editFilterTypeProcess(a){var e=a.id,t="#filtertype-"+e+"-",i=$('input[name="status"]:checked');$(t+"type").html($("#type").val()),$(t+"name").html($("#name").val()),$(t+"status").html(i.data("label")).data("status",i.val()),$(t+"image").html(a.image),$("#name.this_field").val(""),$("#filtertype_form_modal").modal("hide")}function addCampaignProcess(a){var e=a.id,t="";if(""==a.img||null==a.img){t="none";var i=$("#baseUrl").html()+"/images/img_unavailable.jpg"}else var i=a.img;var n='<span id="cmp-'+e+'-prio">'+a.priority+"</span>",l='<span class="imgPreTbl" id="cmp-'+e+'-img" data-img="'+t+'"><img src="'+i+'"><span>',s='<span id="cmp-'+e+'-name">'+$("#name").val()+"</span>",r='<span id="cmp-'+e+'-adv" data-adv="'+$("#advertiser").val()+'">'+$("#advertiser :selected").html()+"</span>",d='<span id="cmp-'+e+'-lct" data-type="'+$("#lead_type").val()+'">'+$("#lead_type :selected").html()+"</span>",o='<span id="cmp-'+e+'-lcv">'+$("#lead_value").val()+"</span>",c='<span id="cmp-'+e+'-drcv">'+$("#default_received").val()+"</span>",p='<span id="cmp-'+e+'-type" data-type=">'+$("#campaign_type").val()+'">'+$("#campaign_type :selected").html()+"</span>",m='<span id="cmp-'+e+'-stat" data-status="'+$('input[name="status"]:checked').val()+'">'+$('input[name="status"]:checked').data("label")+"</span>",f='<span id="cmp-'+e+'-rate">'+$("#rate").val()+"</span>",u='<textarea id="cmp-'+e+'-notes" class="hidden" disabled="">'+$("#notes").val()+"</textarea>";u+='<textarea id="cmp-'+e+'-desc" class="hidden" disabled>'+$("#description").val()+"</textarea>",u+='<input type="hidden" id="cmp-'+e+'-dpyt" value="'+$("#default_payout").val()+'"/>',u+='<input type="hidden" id="cmp-'+e+'-ctgry" value="'+$("#category").val()+'"/>',u+='<input type="hidden" id="cmp-'+e+'-lnkOutOffer" value="'+$("#linkout_offer_id").val()+'"/>',u+='<input type="hidden" id="cmp-'+e+'-prgId" value="'+$("#program_id").val()+'"/>',u+='<input type="hidden" id="cmp-'+e+'-advEmail" value="'+$("#advertiser_email").val()+'"/>',a.canEdit&&(u+='<button class="editCampaign btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-pencil"></span></button>'),a.canDelete&&(u+='<button class="deleteCampaign btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-trash"></span></button></td>');var g=[n,e,l,s,r,p,d,o,c,f,m,u],v=$("#campaign-table").DataTable(),h=v.row.add(g).draw().node(),b=$(h);b.click(),$("#info_tab form").find("#priority").append('<option value="'+a.priority+'">'+a.priority+"</option>"),$("#addCmpFormModal").modal("hide")}function editCampaignProcess(a){console.log(a);var e=a.id,t=$("#editCmpFormModal div.modal-dialog div.modal-content div.modal-body div.tab-content div#info_tab");if(a.status){var i='<span id="cmp-'+e+'-prio">'+t.find("#priority").val()+"</span>";null==a.image?(img_link=$("#baseUrl").html()+"/images/img_unavailable.jpg",img_exists="none"):(img_link=a.image,img_exists="");var n='<span class="imgPreTbl" id="cmp-'+e+'-img" data-img="'+img_exists+'"><img src="'+img_link+'"></span>',l='<span id="cmp-'+e+'-name">'+t.find("#name").val()+"</span>",s='<span id="cmp-'+e+'-adv" data-adv="'+t.find("#advertiser").val()+'">'+t.find("#advertiser :selected").html()+"</span>",r='<span id="cmp-'+e+'-type" data-type="'+t.find("#campaign_type").val()+'">'+t.find("#campaign_type :selected").html()+"</span>",d='<span id="cmp-'+e+'-lct" data-type="'+t.find("#lead_type").val()+'">'+t.find("#lead_type :selected").html()+"</span>",o='<span id="cmp-'+e+'-drcv">'+t.find("#default_received").val()+"</span>",c='<span id="cmp-'+e+'-rate">'+t.find("#rate").val()+"</span>";0==t.find("#lead_type").val()?lead_value=0:lead_value=t.find("#lead_value").val();var p='<span id="cmp-'+e+'-lcv">'+lead_value+"</span>",m='<span id="cmp-'+e+'-stat" data-status="'+t.find('input[name="status"]:checked').val()+'">'+t.find('input[name="status"]:checked').data("label")+"</span>";$("#cmp-"+e+"-notes").html(t.find("#notes").val()),$("#cmp-"+e+"-desc").html(t.find("#description").val()),$("#cmp-"+e+"-dpyt").val(t.find("#default_payout").val()),$("#cmp-"+e+"-ctgry").val(t.find("#category").val()),$("#cmp-"+e+"-lnkOutOffer").val(t.find("#linkout_offer_id").val()),$("#cmp-"+e+"-prgId").val(t.find("#program_id").val()),$("#cmp-"+e+"-rate").val(t.find("#rate").val()),$("#cmp-"+e+"-advEmail").val(t.find("#advertiser_email").val()),$("#modal-campaign-title").html(e+" - "+t.find("#name").val()),alert("Campaign modification saved!"),t.find(".this_modal_submit").html("Save");var f=$("#campaign-table").DataTable();try{f.cell($("#cmp-"+e+"-prio").parent("td")).data(i),f.cell($("#cmp-"+e+"-img").parent("td")).data(n),f.cell($("#cmp-"+e+"-name").parent("td")).data(l),f.cell($("#cmp-"+e+"-adv").parent("td")).data(s),f.cell($("#cmp-"+e+"-type").parent("td")).data(r),f.cell($("#cmp-"+e+"-lct").parent("td")).data(d),f.cell($("#cmp-"+e+"-lcv").parent("td")).data(p),f.cell($("#cmp-"+e+"-drcv").parent("td")).data(o),f.cell($("#cmp-"+e+"-stat").parent("td")).data(m),f.cell($("#cmp-"+e+"-rate").parent("td")).data(c)}catch(u){console.log("Not Existing 1")}var g=a.affected;g&&$.each(g,function(a,e){if(0!=$("#cmp-"+e+"-prio").length){var t='<span id="cmp-'+e+'-prio">'+a+"</span>";f.cell($("#cmp-"+e+"-prio").parent("td")).data(t).draw()}});var v=$("#campaignPayoutsHistory-table").DataTable();v.ajax.reload()}else{t.find(".this_modal_submit").html("Not Saved");var h='<div class="alert alert-danger" role="alert"><b>Error!</b> Campaign changes not saved due to error encountered in campaign stack. Please review code.</div>';h+='<table class="table table-bordered"><tr><th>Errors</th></tr>',$.each(a.errors,function(a,e){"object"==typeof e&&(e='<textarea class="form-control" rows="3">'+JSON.stringify(e)+"</textarea>"),h+="<tr><td>"+e+"</td></tr>"}),h+="</table>",$("#campaignErrorModal .modal-body").html(h),$("#campaignErrorModal").modal("show")}}function updateLeadDetails(a){$("#lead_details_modal").modal("hide")}function addCampaignPayoutProcess(a){console.log(a);var e=($("#payout_tab form"),$('select[name="payout[]"] option:selected')),t=$("#payout_receivable").val(),i=$("#payout_payable").val(),n=0,l=$("#campaign-payout-table").DataTable();$.each(e,function(){var e=($(this).val(),$(this).html()),s=a[n];$(this).remove();var r='<input name="select_payout[]" class="selectCampaignPayout" value="'+s+'" data-name="'+e+'" type="checkbox">',d='<span id="cp-'+s+'-receivable">'+t+"</span>",o='<span id="cp-'+s+'-payable">'+i+"</span>",c='<button id="cp-'+s+'-edit-button" class="btn btn-default editCampaignPayout" type="button" data-id="'+s+'"><span class="glyphicon glyphicon-pencil"></span></button>';c+='<button id="cp-'+s+'-delete-button" class="btn btn-default deleteCampaignPayout" type="button" data-id="'+s+'"><span class="glyphicon glyphicon-trash"></span></button>';var p=[r,e,d,o,c],m=l.row.add(p).draw().node();$(m);n++}),$("#campaignPayoutForm").collapse("hide")}function editCampaignPayoutProcess(a){console.log(a);var e=$("#edit_payout_receivable").val(),t=$("#edit_payout_payable").val();$.each(a,function(a,i){$("#cp-"+i+"-receivable").html(e),$("#cp-"+i+"-payable").html(t)}),$(".selectCampaignPayout").prop("checked",!1),$("#editCampaignPayoutForm").collapse("hide"),$("#editPytAff").attr("disabled",!0),$("#deletePytAff").attr("disabled",!0)}function editCampaignConfigProcess(a){$("#cmpCfg-url").html($("#cmpCfg-url-txt input").val()),$("#cmpCfg-hdr").text($("#cmpCfg-hdr-txt textarea").val()).html(),$("#cmpCfg-dta").text($("#cmpCfg-dta-txt textarea").val()).html(),$("#cmpCfg-dta-fv").text($("#cmpCfg-dta-fv-txt textarea").val()).html(),$("#cmpCfg-map").text($("#cmpCfg-map-txt textarea").val()).html(),$("#cmpCfg-mtd").html($("#cmpCfg-mtd-txt select").val()),$("#cmpCfg-scs").text($("#cmpCfg-scs-txt input").val()).html(),$("#cmpCfg-purl").html($("#cmpCfg-purl-txt input").val()),$("#cmpCfg-pscs").text($("#cmpCfg-pscs-txt input").val()).html();var e="NO";1==$("#if_ftp_sent").val()&&(e="YES"),$("#cmpCfg-ftps").html(e),$("#cmpCfg-ftpp").html($('#cmpCfg-ftpp-txt select option[value="'+$("#cmpCfg-ftpp-txt select").val()+'"]').html()),$("#cmpCfg-ftpu").html($("#cmpCfg-ftpu-txt input").val()),$("#cmpCfg-ftppw").html($("#cmpCfg-ftppw-txt input").val()),$("#cmpCfg-ftph").html($("#cmpCfg-ftph-txt input").val()),$("#cmpCfg-ftppt").html($("#cmpCfg-ftppt-txt input").val()),$("#cmpCfg-ftpto").html($("#cmpCfg-ftpto-txt input").val()),$("#cmpCfg-ftpdirectory").html($("#cmpCfg-ftpdirectory-txt input").val()),$("#cmpCfg-email").html(1==$("#if_email_sent").val()?"YES":"NO"),$("#cmpCfg-emailTo").html($("#cmpCfg-emailTo-txt input").val()),$("#cmpCfg-emailTitle").html($("#cmpCfg-emailTitle-txt input").val()),$("#cmpCfg-emailBody").html($("#cmpCfg-emailBody-txt textarea").val());var t=$("#editCmpConfig");t.html('<span class="glyphicon glyphicon-pencil"></span>'),t.attr("data-config","show").data("config","show"),$("#campConfigDiv").addClass("hidden"),$(".cmpCfg-form").addClass("hidden"),$(".cmpCfg-dsply").removeClass("hidden")}function editCampaignLongContentProcess(a){var e=$("#editCampaignLongContent");e.html('<span class="glyphicon glyphicon-pencil"></span>'),e.attr("data-config","show").data("config","show"),$(".cmpLngCnt-form-wrapper").addClass("hidden"),$("#cmpCnt-long-content").attr("disabled",!0),$("#cmpCnt-long-actual").val($("#cmpCnt-long-content").val())}function editCampaignStackContentProcess(a){if(console.log(a),a.status){var e=$("#editCampaignStackContent");e.html('<span class="glyphicon glyphicon-pencil"></span>'),e.attr("data-config","show").data("config","show"),$(".cmpStkCnt-form-wrapper").addClass("hidden"),$("#cmpCnt-stack-content").attr("disabled",!0),$("#cmpCnt-stack-actual").val($("#cmpCnt-stack-content").val());var t=$(".CodeMirror")[0].CodeMirror;t.getDoc().setValue($("#cmpCnt-stack-actual").val()),setTimeout(function(){t.refresh(),t.setOption("readOnly",!0)},100)}else{$('#campaignStackForm [type="submit"]').removeAttr("disabled");var i='<div class="alert alert-danger" role="alert"><b>Error!</b> Campaign changes not saved due to error encountered in campaign stack. Please review code.</div>';i+='<table class="table table-bordered"><tr><th>Errors</th></tr>',$.each(a.errors,function(a,e){"object"==typeof e&&(e='<textarea class="form-control" rows="3">'+JSON.stringify(e)+"</textarea>"),i+="<tr><td>"+e+"</td></tr>"}),i+="</table>",$("#campaignErrorModal .modal-body").html(i),$("#campaignErrorModal").modal("show")}}function editCampaignHighPayingContentProcess(a){var e=$("#editCampaignHighPayingContent");e.html('<span class="glyphicon glyphicon-pencil"></span>'),e.attr("data-config","show").data("config","show"),$(".cmpHPCnt-form-wrapper").addClass("hidden"),$("#cmpCnt-hp-content").attr("disabled",!0),$("#cmpCnt-hp-actual").val($("#cmpCnt-hp-content").val())}function editCampaignPostingInstructionProcess(a){var e=$("#editPostingInstruction");e.html('<span class="glyphicon glyphicon-pencil"></span>'),e.attr("data-config","show").data("config","show"),$(".cmpPI-form-wrapper").addClass("hidden"),$("#cmp-posting-instruction-actual").val($("#cmp-posting-instruction").val()),$("#cmp-sample-code").attr("disabled",!0),$("#cmp-sample-code-actual").val($("#cmp-sample-code").val()),$("#cmp-posting-instruction").ckeditorGet().setReadOnly()}function addRevenueTrackerProcess(a){var e=a.id,t='<span id="trk-'+e+'-web">'+$("#website").val()+"</span>",i='<span id="trk-'+e+'-aff" data-affiliate="'+$("#affiliate").val()+'">'+$("#affiliate :selected").html()+"</span>",n='<span id="trk-'+e+'-ofr">'+$("#offer").val()+"</span>",l='<span id="trk-'+e+'-cmp">'+$("#campaign").val()+"</span>",s='<span id="trk-'+e+'-rti">'+$("#revenue_tracker").val()+"</span>",r='<span id="trk-'+e+'-s1">'+$("#s1").val()+"</span>",d='<span id="trk-'+e+'-s2">'+$("#s2").val()+"</span>",o='<span id="trk-'+e+'-s3">'+$("#s3").val()+"</span>",c='<span id="trk-'+e+'-s4">'+$("#s4").val()+"</span>",p='<span id="trk-'+e+'-s5">'+$("#s5").val()+"</span>",m='<input type="hidden" id="trk-'+e+'-crglmt" value="'+$("#crg_limit").val()+'"/>';m+='<input type="hidden" id="trk-'+e+'-extlmt" value="'+$("#ext_limit").val()+'"/>',m+='<input type="hidden" id="trk-'+e+'-lnklmt" value="'+$("#lnk_limit").val()+'"/>',m+='<input type="hidden" id="trk-'+e+'-lnk" value="'+$("#link").val()+'"/>',m+='<input type="hidden" id="trk-'+e+'-nts" value="'+$("#notes").val()+'"/>',m+='<input type="hidden" id="trk-'+e+'-type" value="'+$("#type").val()+'"/>',a.canEdit&&(m+='<button class="editTracker btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-pencil"></span></button>'),a.canDelete&&(m+='<button class="deleteTracker btn btn-default" data-id="'+e+'"><span class="glyphicon glyphicon-trash"></span></button>');var f=[t,i,l,n,s,r,d,o,c,p,0==a.subid_breakdown?"Disabled":"Enabled",m],u=$("#tracker-table").DataTable();u.row.add(f).draw().node();$("#TrkFormModal").modal("hide")}function editRevenueTrackerProcess(a){console.log(a),$("#trk-"+a+"-web").html($("#website").val()),$("#trk-"+a+"-aff").attr("data-affiliate",$("#affiliate").val()).data("affiliate",$("#affiliate").val()),$("#trk-"+a+"-aff").html($("#affiliate option:selected").html()),$("#trk-"+a+"-ofr").html($("#offer").val()),$("#trk-"+a+"-cmp").html($("#campaign").val()),$("#trk-"+a+"-rti").html($("#revenue_tracker").val()),$("#trk-"+a+"-s1").html($("#s1").val()),$("#trk-"+a+"-s2").html($("#s2").val()),$("#trk-"+a+"-s3").html($("#s3").val()),$("#trk-"+a+"-s4").html($("#s4").val()),$("#trk-"+a+"-s5").html($("#s5").val()),$("#trk-"+a+"-lnk").val($("#link").val()),$("#trk-"+a+"-crglmt").val($("#crg_limit").val()),$("#trk-"+a+"-extlmt").val($("#ext_limit").val()),$("#trk-"+a+"-lnklmt").val($("#lnk_limit").val()),$("#trk-"+a+"-nts").val($("#notes").val()),$("#trk-"+a+"-type").val($("#type").val()),$("#trk-"+a+"-fire").val($("#fire").val()),$("#trk-"+a+"-pixel").text($("#pixel").val());var e=$("#tracker-table").DataTable();e.draw(),$("#TrkFormModal").modal("hide")}function updateRevenueTrackerMixedCoregCampaignOrderProcess(a){console.log(a);var e=$("#mixed_coreg_campaign_order_form");$("#trk-"+a+"-mixed_coreg_order_by").val(e.find("#mixed_coreg_order_by").val()),$("#trk-"+a+"-mixed_coreg_order_status").val(e.find("#mixed_coreg_reorder").val()),$("#trk-"+a+"-mixed_coreg_campaign_views").val(e.find("#mixed_coreg_views").val()),$("#trk-"+a+"-default_order").val(e.find("#default_order").val()),$("#trk-"+a+"-mixed_coreg_campaign_limit").val(e.find("#mixed_coreg_limit").val())}function updateRevenueTrackerCampaignOrderProcess(a){var e=($("#campaign_order_form"),a.id);$("#trk-"+e+"-details").html(JSON.stringify(a.tracker)),a.change_ref_date&&$("#CmpOrdrFormModal").modal("hide")}function addGalleryImageProcess(a){refreshGallery(a),$("#addGalImgModal").modal("hide")}function refreshGallery(a){var e=$("#baseUrl").html(),t=$("#gallery-table").DataTable();t.clear().draw(),$.each(a,function(a,i){var n=[];$.each(i,function(a,t){if(""!=t){var i=e+"/"+t,l=t.split("/").pop(),s='<div><div class="gal-wrap">';s+='<div class="gal-img-wrp">',s+='<img src="'+i+'" class="gal-img"/>',s+="</div>",s+='<div class="gal-img-name">'+l+"</div>",s+='<div class="gal-img-actn btn-group" role="group" aria-label="...">',s+='<button type="button" class="btn btn-default copyUrlToClipboard" data-clipboard-text="'+i+'" data-toggle="tooltip" data-placement="bottom" title="copied"><span class="glyphicon glyphicon-duplicate"></span></button>',s+='<button type="button" class="btn btn-default viewGalImg" data-url="'+i+'"><span class="glyphicon glyphicon-eye-open"></span></button>',s+='<button type="button" class="btn btn-default deleteGalImg" data-img = "'+t+'"><span class="glyphicon glyphicon-trash"></span></button>',s+="</div>",s+="</div></div>"}else var s='<td class="no-content"></td>';n.push(s)});t.row.add(n).draw().node()})}function addCampaignAffiliateProcess(a){console.log(a);var e=$('select[name="affiliates[]"] option:selected'),t=0,i=$("#campaign-affiliate-table").DataTable(),n=$("#eiq_iframe_id").val(),l=!1,s=$("#this_id.this_campaign").val();""!=n&&n>0&&n==s&&(l=!0),$.each(e,function(){var e=$(this).val(),n=$(this).html(),s=a[t],r=$("#lead_cap_type").val(),d=$("#lead_cap_type :selected").html(),o=$("#lead_cap_value").val();$(this).remove();var c='<input name="select_affiliate[]" class="selectCampaignAffiliate" value="'+s+'" data-name="'+n+'" type="checkbox"> ',p='<span id="ca-'+s+'-type" data-id="'+r+'">'+d+"</span>",m='<span id="ca-'+s+'-value">'+o+"</span>",f='<button id="ca-'+s+'-edit-button" class="btn btn-default editCampaignAffiliate" type="button" data-id="'+s+'"><span class="glyphicon glyphicon-pencil"></span></button>';l?(f+=' <button id="ca-'+e+'-status-button" class="btn btn-danger eiqFrameStatus" type="button" data-id="'+e+'" data-status="0"><span class="glyphicon glyphicon-remove-circle"></span></button>',
f+=' <button id="ca-'+e+'-iframe-button" class="btn btn-default eiqFrameTraffic" type="button" data-id="'+e+'">Iframe Traffic</button>'):f+=' <button id="ca-'+s+'-delete-button" class="btn btn-default deleteCampaignAffiliate" type="button" data-id="'+s+'"><span class="glyphicon glyphicon-trash"></span></button>';var u=[c,n,p,m,f],g=i.row.add(u).draw().node();$(g);t++}),$("#campaignAffiliateForm").collapse("hide"),$("#lead_cap_type").val(0),$("#lead_cap_value").val("");var r=$('select[name="affiliates[]"] option').length;r<=10&&$('select[name="affiliates[]"]').attr("size",r)}function editCampaignAffiliateProcess(a){var e=$("#edit_lead_cap_type").val(),t=$("#edit_lead_cap_value").val();$.each(a,function(a,i){0==e&&(t=0),0!=e&&""==t&&(t=0),$("#ca-"+i+"-type").attr("data-id",e).data("id",e).html($("#edit_lead_cap_type :selected").html()),$("#ca-"+i+"-value").html(t)});var i=$("#campaign-affiliate-table");refreshTable(i),$(".selectCampaignAffiliate").prop("checked",!1),$("#editCampaignAffiliateForm").collapse("hide"),$("#editAffilatesBtn").attr("disabled",!0),$("#deleteAffiliatesBtn").attr("disabled",!0)}function addCampaignFilterGroupProcess(a){var e=$("#filter_group_name").val(),t=$("#filter_group_description").val(),i=$('input[type="radio"][name="filter_group_status"]:checked'),n='<span id="cfg-'+a+'-name">'+e+"</span>",l='<span id="cfg-'+a+'-desc">'+t+"</span>",s='<span id="cfg-'+a+'-stat" data-status="'+i.val()+'">'+i.data("label")+"</span>",r='<button id="cfg-'+a+'-view-button" class="btn btn-default viewCampaignFilterGroup" type="button" data-id="'+a+'"><span class="glyphicon glyphicon-eye-open"></span></button>';r+='<button id="cfg-'+a+'-edit-button" class="btn btn-default editCampaignFilterGroup" type="button" data-id="'+a+'"><span class="glyphicon glyphicon-pencil"></span></button>',r+='<button id="cfg-'+a+'-delete-button" class="btn btn-default deleteCampaignFilterGroup" type="button" data-id="'+a+'"><span class="glyphicon glyphicon-trash"></span></button>';var d=[n,l,s,r],o=$("#campaign-filter-group-table").DataTable();o.row.add(d).draw().node();$(".filterGroupList").append('<option value="'+a+'">'+e+"</option>");var c=$(".viewCampaignFilterGroup").length;c>0?($(".filterGroupList").attr("size",c),$("#addCmpFilter").removeAttr("disabled")):$("#addCmpFilter").attr("disabled",!0),$("#campaignFilterGroupForm").collapse("hide")}function editCampaignFilterGroupProcess(a){var e=$("#campaignFilterGroupForm"),t=e.find("form"),i=t.find("#this_id").val(),n=$("#filter_group_name").val(),l=$("#filter_group_description").val(),s=$('input[type="radio"][name="filter_group_status"]:checked'),r=$("#campaign-filter-group-table").DataTable(),d='<span id="cfg-'+i+'-name">'+n+"</span>",o='<span id="cfg-'+i+'-desc">'+l+"</span>",c='<span id="cfg-'+i+'-stat" data-status="'+s.val()+'">'+s.data("label")+"</span>";r.cell($("#cfg-"+i+"-name").parent("td")).data(d).draw(),r.cell($("#cfg-"+i+"-desc").parent("td")).data(o).draw(),r.cell($("#cfg-"+i+"-stat").parent("td")).data(c).draw(),$('.filterGroupList [value="'+i+'"]').html(n),e.collapse("hide")}function addCampaignFilterProcess(a){var e=$('[name="filter_group[]"]').val();$.each(e,function(a,e){console.log(e);var t=$("#cfg-"+e+"-table");t.DataTable();1==$("#cfg-"+e+"-no-table").length&&($("#cfg-"+e+"-view-button").trigger("click"),$("#cfg-"+e+"-view-button").trigger("click")),1==t.length?($("#cfg-"+e+"-view-button").trigger("click"),$("#cfg-"+e+"-view-button").trigger("click")):$("#cfg-"+e+"-view-button").trigger("click"),$("#campaignFilterForm").collapse("hide")})}function editCampaignFilterProcess(a){console.log(a);var e=($("#campaignFilterForm form"),$('[name="filter_group[]"]').val());$.each(e,function(a,e){filter_group_table=$("#cfg-"+e+"-table"),filter_group_table_dt=$("#cfg-"+e+"-table").DataTable(),1==$("#cfg-"+e+"-no-table").length&&($("#cfg-"+e+"-view-button").trigger("click"),$("#cfg-"+e+"-view-button").trigger("click")),1==filter_group_table.length?($("#cfg-"+e+"-view-button").trigger("click"),$("#cfg-"+e+"-view-button").trigger("click")):$("#cfg-"+e+"-view-button").trigger("click")}),$("#campaignFilterForm").collapse("hide")}function addCategoryProcess(a){var e=$('input[name="status"]:checked'),t=$("#description").val();t.length>75?preview=t.substr(0,75)+"...":preview=t;var i='<span id="cat-'+a+'-name">'+$("#name").val()+"</span>",n='<span id="cat-'+a+'-desc-preview">'+preview+"</span>",l='<span id="cat-'+a+'-status" data-id="'+e.val()+'">'+e.data("label")+"</span>",s='<textarea id="cat-'+a+'-desc" class="hidden" disabled>'+t+"</textarea>";s+='<button class="editCategory btn btn-primary" data-id="'+a+'"><span class="glyphicon glyphicon-pencil"></span></button>',s+=' <button class="deleteCategory btn btn-danger" data-id="'+a+'"><span class="glyphicon glyphicon-trash"></span></button>';var r=[i,n,l,s],d=$("#categories-table").DataTable();d.row.add(r).draw().node();$("#category_form_modal").modal("hide")}function editCategoryProcess(a){var e=$("#name").val(),t=$('input[name="status"]:checked'),i=$("#description").val();i.length>75?preview=i.substr(0,75)+"...":preview=i;var n=$("#categories-table").DataTable(),l='<span id="cat-'+a+'-name">'+e+"</span>",s='<span id="cat-'+a+'-desc-preview">'+preview+"</span>",r='<span id="cat-'+a+'-status" data-status="'+t.val()+'">'+t.data("label")+"</span>";$("#cat-"+a+"-desc").html(i),n.cell($("#cat-"+a+"-name").parent("td")).data(l).draw(),n.cell($("#cat-"+a+"-desc-preview").parent("td")).data(s).draw(),n.cell($("#cat-"+a+"-status").parent("td")).data(r).draw(),$("#category_form_modal").modal("hide")}function addNotesCategoryProcess(a){var e=$("#notes_category_form"),t=$(e).find('[name="name"]').val(),i='<button data-id="'+a+'" class="editNoteCategoryBtn btn btn-primary btn-xs" type="button" style="margin-right:5px"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>',n='<button data-id="'+a+'" class="deleteNoteCategoryBtn btn btn-danger btn-xs" type="button"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>',l=[a,t,i+n],s=$("#notes_category-table").DataTable();s.row.add(l).draw().node();$("#noteCategoryCollapse").collapse("hide"),$("#notesCategoryList").append('<a href="#" data-id="'+a+'" class="list-group-item">'+t+' <span class="badge"></span></a>')}function editNotesCategoryProcess(a){console.log(a);var e=$("#notes_category_form"),t=$(e).find('[name="name"]').val();$('.editNoteCategoryBtn[data-id="'+a+'"]').closest("tr").find("td:nth-child(2)").html(t);var i=$("#notes_category-table").DataTable();i.draw(),$('#notesCategoryList a[data-id="'+a+'"]').html(t),$("#noteCategoryCollapse").collapse("hide")}function addNoteProcess(a){console.log(a),$("#notesList a.isEmpty").remove(),$("#notesList").prepend('<a href="#" data-id="'+a.id+'" data-cat="'+a.category_id+'" class="list-group-item">'+a.subject+"</a>"),theNotes[a.category_id][a.id]=a,$('#notesList a[data-id="'+a.id+'"]').trigger("click")}function editNoteProcess(a){console.log(a),theNotes[a.category_id][a.id]=a,$('#notesList a[data-id="'+a.id+'"]').html(a.subject)}function editAccountContactInfo(a){console.log(a),$("#updateContactBtn").val("Done!!!"),setTimeout(function(){$("#updateContactBtn").val("Update")},1e3),alert("Contact Info has been successfully updated...")}function changePasswordContactInfo(a){console.log(a),$("#changePasswordBtn").val("Done!!!"),setTimeout(function(){$("#changePasswordBtn").val("Update")},1e3),alert("Password has been successfully updated...")}function reportBugProcess(a){$("#notificationModal").modal("show"),$("#bugReportDropdown").removeClass("open"),$("#report_bug_form").find("#bug_summary").val(""),$("#report_bug_form").find("#bug_description").val(""),$("#final_list_of_files").val(""),$('[name="bug_evidence_files[]"]').val(""),$('[name="bug_evidence_files[]"]:not([id])').remove(),$("#bugFileList").empty().append('<li class="list-group-item" style="height:34px"></li>'),$("#bugReportSubmitBtn").html("Submit"),bugFiles=[],setTimeout(function(){$("#notificationModal").modal("hide")},5e3)}function updateSettingsProcess(a){if(alert("Settings Successfully Updated!"),$("#stack_page_order").val(""),"undefined"!=typeof a.new_rates){var e=a.new_rates;$("#update_rejection_rate").val(0),$("#min_high_reject_rate_hidden").val(e[0]),$("#max_high_reject_rate_hidden").val(e[1])}}function addPathProcess(a){var e='<span id="sp-'+a+'-name">'+$("#name").val()+"</span>",t='<a id="sp-'+a+'-url" href="'+$("#url").val()+'" target="_blank">'+$("#url").val()+"</a>",i='<button class="editPath btn btn-primary" data-id="'+a+'"><span class="glyphicon glyphicon-pencil"></span></button>';i+=' <button class="deletePath btn btn-danger" data-id="'+a+'"><span class="glyphicon glyphicon-trash"></span></button>';var n=[e,t,i],l=$("#paths-table").DataTable();l.row.add(n).draw().node();$("#path_form_modal").modal("hide")}function editPathProcess(a){var e=$("#name").val(),t=$("#url").val(),i=$("#paths-table").DataTable(),n='<span id="sp-'+a+'-name">'+e+"</span>",l='<a id="sp-'+a+'-url" target="_blank" href="'+t+'">'+t+"</a>";i.cell($("#sp-"+a+"-name").parent("td")).data(n).draw(),i.cell($("#sp-"+a+"-url").parent("td")).data(l).draw(),$("#path_form_modal").modal("hide")}function addAffiliateWebsiteProcess(a){var e=$("#affiliate-website-table").DataTable();e.draw(),$("#editAffilateWebsitesBtn").attr("disabled",!0),$("#deleteAffiliateWebsitesBtn").attr("disabled",!0),$("#affiliateWebsiteForm").collapse("hide")}function affiliateWebsitePayoutProcess(a){var e=$("#affiliate-website-table").DataTable();e.draw(),$(".selectAllAffiliateWebsite").prop("checked",!1),$("#affiliateWebsitePayoutForm").collapse("hide")}function campaignConfigInterface(a){console.log(a),$("#cmpCfg-url").html(a.post_url),$("#cmpCfg-url-txt input").val(a.post_url),$("#cmpCfg-hdr").text(a.post_header).html(),$("#cmpCfg-hdr-txt textarea").val(a.post_header),$("#cmpCfg-dta").text(a.post_data).html(),$("#cmpCfg-dta-txt textarea").val(a.post_data),$("#cmpCfg-dta-fv").text(a.post_data_fixed_value).html(),$("#cmpCfg-dta-fv-txt textarea").val(a.post_data_fixed_value),$("#cmpCfg-map").text(a.post_data_map).html(),$("#cmpCfg-map-txt textarea").val(a.post_data_map),$("#cmpCfg-mtd").html(a.post_method),$("#cmpCfg-mtd-txt select").val(a.post_method),$("#cmpCfg-scs").text(a.post_success).html(),$("#cmpCfg-scs-txt input").val(a.post_success),$("#cmpCfg-purl").text(a.ping_url).html(),$("#cmpCfg-purl-txt input").val(a.ping_url),$("#cmpCfg-pscs").text(a.ping_success).html(),$("#cmpCfg-pscs-txt input").val(a.ping_success),$("#cmpConfigAutomationModal").modal("hide"),$("#cmpConfigAutomationTable").show()}function campaignAffiliateManagement(a){console.log(a);var e=$("#cmpAffMgmt-table").DataTable();e.draw(),$(".camAddAff-div").find('[name="lead_cap_type"]').val(0).trigger("change"),$("#allCAMTblcampaigns-chkbx").prop("checked",!1).trigger("change"),$("#allCAMcampaigns-chkbx").prop("checked",!1).trigger("change")}function revTrackerToExitPageList(a){$("#exit_page_rev_tracker_selection").val(null).trigger("change");var e=$("#exitPageTracker-table").DataTable();e.search("").draw()}function addBannedLeadProcess(a){console.log(a);var e=$("#leads-table").DataTable();e.draw(),$("#banned_form_modal").modal("hide")}function editBannedLeadProcess(a){console.log(a);var e=$("#leads-table").DataTable();e.draw(),$("#banned_form_modal").modal("hide")}function escapeHTML(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var bugFiles=[],bugFileSizeChecker=[];$(document).ready(function(){$("#side-menu").metisMenu({toggle:!1}),$("div.alert").not(".alert-important").delay(3e3).slideUp(),$.ajaxSetup({headers:{"X-CSRF-Token":$('meta[name="_token"]').attr("content")}}),$(document).on("submit",".this_form",function(a){a.preventDefault();var e=$(this),t=e.serialize(),i=e.attr("action"),n=!0;""!=$(this).data("confirmation")&&(n=confirm(e.data("confirmation"))),n===!0&&(e.find(".this_modal_submit").attr("disabled","true"),e.find('[type="submit"]').attr("disabled","true"),$.ajax({type:"POST",data:t,url:i,error:function(a){var t=a.responseJSON,i=e.data("process");"add_contact"!=i&&"edit_contact"!=i||void 0!=t.advertiser_id&&(t.advertiser_id[0]=""),console.log(t),e.find(".error").each(function(){$(this).removeClass("error"),$(this).removeClass("error_field"),$(this).removeClass("error_label")}),e.find(".this_errors").html(""),e.find(".this_error_wrapper").show(),e.find(".this_errors").show();var n="<ul>";$.each(t,function(a,e){""!=e&&(n+='<li> <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> '+e[0]+"</li>"),$('label[for="'+a+'"]').addClass("error_label error"),$("#"+a).addClass("error_field error")}),n+="</ul>",console.log(n),e.find(".this_errors").append(n),e.find(".this_modal_submit").removeAttr("disabled"),e.find('[type="submit"]').removeAttr("disabled")},success:function(a){e.find(".error").each(function(){$(this).removeClass("error"),$(this).removeClass("error_field"),$(this).removeClass("error_label")}),$(".this_error_wrapper").hide(),processIdentifier(e.data("process"),a),e.find(".this_modal_submit").removeAttr("disabled"),e.find('[type="submit"]').removeAttr("disabled")}}))}),$(document).on("submit","#profileImageForm",function(a){a.preventDefault();var e=$("#uploadImageIcon"),t=$(this),i=t.attr("action"),n=new FormData(this);e.attr("disabled","true"),e.removeClass().addClass("fa fa-spin fa-spinner"),$.ajax({type:"POST",data:n,url:i,cache:!1,contentType:!1,processData:!1,error:function(a){var i=a.responseJSON;console.log(i);var n=$("#profileImageErrorContainer");n.html(""),n.show();var l="<ul>";$.each(i,function(a,e){l+='<li> <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> '+e[0]+"</li>",t.find('label[for="'+a+'"]').addClass("error_label error"),t.find("#"+a).addClass("error_field error")}),l+="</ul>",n.append(l),e.attr("disabled","false"),e.removeClass().addClass("fa fa-save fa-fw fa-lg"),alert(a.message)},success:function(a){$("#profileImageErrorContainer").empty(),e.attr("disabled","false"),e.removeClass().addClass("fa fa-save fa-fw fa-lg"),alert(a.message)}})}),$(document).on("submit",".form_with_file",function(a){a.preventDefault();var e=$(this),t=e.attr("action"),i=new FormData(this),n=!0,l=$(".form_with_file").find(".this_modal_submit");console.log(l.html()),""!=$(this).data("confirmation")&&(n=confirm(e.data("confirmation"))),n===!0&&(l.attr("disabled","true"),l.html('<i class="fa fa-spin fa-spinner"></i>'),$.ajax({type:"POST",data:i,url:t,cache:!1,contentType:!1,processData:!1,error:function(a){var t=a.responseJSON;console.log(t),$(".this_errors").html(""),$(".this_error_wrapper").show(),$(".this_errors").show();var i="<ul>";$.each(t,function(a,t){i+='<li> <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> '+t[0]+"</li>",e.find('label[for="'+a+'"]').addClass("error_label error"),e.find("#"+a).addClass("error_field error")}),i+="</ul>",$(".this_errors").append(i),l.html("Save"),l.removeAttr("disabled")},success:function(a){e.find(".error").each(function(){$(this).removeClass("error"),$(this).removeClass("error_field"),$(this).removeClass("error_label")}),$(".this_error_wrapper").hide(),l.html("Saved!"),l.removeAttr("disabled"),processIdentifier(e.data("process"),a)}}))}),$(document).on("submit",".form_with_file_not_modal",function(a){a.preventDefault();var e=$(this),t=e.attr("action"),i=new FormData(this),n=!0,l=$(".form_with_file_not_modal").find(".this_modal_submit"),s=l.html();""!=$(this).data("confirmation")&&(n=confirm(e.data("confirmation"))),n===!0&&(l.attr("disabled","true"),l.html('<i class="fa fa-spin fa-spinner"></i>'),$.ajax({type:"POST",data:i,url:t,cache:!1,contentType:!1,processData:!1,error:function(a){var t=a.responseJSON;console.log(a),$(".this_error_wrapper").show(),$(".this_errors").html(""),$(".this_errors").show();var i="<ul>";$.each(t,function(a,t){i+='<li> <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span> '+t[0]+"</li>",e.find('label[for="'+a+'"]').addClass("error_label error"),e.find("#"+a).addClass("error_field error")}),i+="</ul>",$(".this_errors").append(i),l.html(s),l.removeAttr("disabled")},success:function(a){e.find("#file").val(""),$(".this_error_wrapper").hide(),l.html(s),l.removeAttr("disabled"),processIdentifier(e.data("process"),a)}}))}),$("#attachBugFilesBtn").click(function(){$("#bug_evidence_files").trigger("click")}),$("#bugReportSubmitBtn").click(function(){var a=$("#report_bug_form"),e=a.find("#bug_summary"),t=a.find("#bug_description"),i=0;""==e.val()?(e.addClass("error_field error"),i++):e.removeClass("error_field error"),""==t.val()?(t.addClass("error_field error"),i++):t.removeClass("error_field error"),$(".bug-file-name").parent("li").css("background-color","#fff"),bugFiles.length>0&&$(bugFiles).each(function(a,e){bugFileSizeChecker[a]>25e4&&(e.length>20?name=e.substring(0,20)+"...":name=e,$('.bug-file-name:contains("'+name+'")').parent("li").css("background-color","#dfb8b8"),i++)}),0==i&&$("#report_bug_form").submit()}),$(document).on("change","#bug_evidence_files",function(){1==$("#bugFileList li").length&&$("#bugFileList li").is(":empty")&&$("#bugFileList").empty();var a=$(this)[0].files;$(a).each(function(a,e){var t=.001*e.size;e.name.length>20?name=e.name.substring(0,20)+"...":name=e.name,file_size="("+t.toFixed(2)+"K)";var i='<li class="list-group-item">';i+='<span class="bug-file-name">'+name+"</span>",file_size.length+1+name.length>20&&(i+="<br>"),i+=' <span class="bug-file-size">'+file_size+"</span>",i+='<button type="button" class="close removeBugFileBtn" data-name="'+e.name+'"><span aria-hidden="true">&times;</span></button></li>',$("#bugFileList").append(i),bugFiles.push(e.name),bugFileSizeChecker.push(e.size)}),$("#final_list_of_files").val(JSON.stringify(bugFiles)),$(this).removeAttr("id"),$(this).parent("div").append('<input id="bug_evidence_files" class="hidden" multiple="true" name="bug_evidence_files[]" type="file" accept="image/*">')}),$(document).on("click",".removeBugFileBtn",function(){$(this).parent("li").remove(),0==$("#bugFileList li").length&&$("#bugFileList").is(":empty")&&$("#bugFileList").append('<li class="list-group-item" style="height:34px"></li>');var a=bugFiles.indexOf($(this).data("name"));a>-1&&(bugFiles.splice(a,1),bugFileSizeChecker.splice(a,1)),$("#final_list_of_files").val(JSON.stringify(bugFiles))}),$("#bugReportDropdown").on("hide.bs.dropdown",function(){var a=$("#report_bug_form"),e=a.find("#bug_summary"),t=a.find("#bug_description"),i=a.find("#final_list_of_files");""==e.val()&&e.removeClass("error_field error"),""==t.val()&&t.removeClass("error_field error"),"[]"==i.val()&&(i.val(""),$('[name="bug_evidence_files[]"]').val(""),$('[name="bug_evidence_files[]"]:not([id])').remove())}),$(".modal").on("hidden.bs.modal",function(a){$(".modal").hasClass("in")&&$("body").addClass("modal-open")})});
//# sourceMappingURL=commons.min.js.map
