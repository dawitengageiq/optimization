!function(t){var e=!1,n=[];t.validator.messages.required="*",t(function(){t("form").each(function(e){t("input[name=phone], input[name=phone1]").mask("9999999999"),t("input[name=phone], input[name=phone1]").on("blur",function(){var e=t(this).val().substr(t(this).val().indexOf("-")+1);if(5==e.length){var n=t(this).val().substr(t(this).val().indexOf("-")+1,1),a=e.substr(1,4),i=t(this).val().substr(0,9);t(this).val(i+n+"-"+a)}})}),t(".yes-no-mobile .class-yes").click(function(){t(".yes-no-mobile").fadeOut(500),t("#formtable").fadeIn(500),t("html, body").animate({scrollTop:t("#formtable").offset().top},500)}),t(document).on("click",".submit_stack_campaign",function(e){t(this).closest("form")}).on("click",".show_custom_questions",function(e){var n=t(this).closest("form");n.find("#custom_questions").css("display","block")}).on("click",".hide_custom_questions",function(e){var n=t(this).closest("form");n.find("#custom_questions").css("display","none")}).on("change",'input[name="address"]',function(){var e=t(this).val();t('input[name="address"]').val(e),t(this).hasClass("valid")&&t('input[name="address"]').attr("class","valid").attr("aria-required","false").next().hide().text("")}).on("change",'input[name="phone"]',function(){var e=t(this).val();t('input[name="phone"]').val(e),t(this).hasClass("valid")&&t('input[name="phone"]').attr("class","valid").attr("aria-required","false").next().hide().text("")}).on("click","#skip_btn",function(){o()}).on("click","#submit_stack_button",function(n){n.preventDefault(),t(this).html("Sending").attr("disabled",!0).prop("disabled",!0);var a=t(".submit_stack_campaign:checked").length,i=0;return t("#error_validation_counter").val(0),0===a?void o():(t("form").each(function(){"true"!==t(this).attr("data-sent")?t(this).find(".submit_stack_campaign").is(":checked")&&t(this).valid()&&(t(this).submit(),i++):i++}),a==i?(e=!0,t("#skip_btn").remove(),t('<a id="skip_btn" style="text-decoration: none; cursor: pointer; display: block; color: #4285f4;">Skip</a>').insertAfter("#submit_stack_button"),void o()):(console.log("Not Submit"),void t(this).attr("disabled",!1)))}).on("submit",".stack_survey_form",function(e){e.preventDefault();var o=t(this);return s(o),""!=o.attr("action")?(a(o,i,n),console.log("SENT"),void console.log(o.attr("action")+"?"+o.serialize())):void console.log("SKIP")})});var a=function(t,e,n){console.log("ajaxProcess");var a=t.attr("action")+"?"+t.serialize(),o="eq_callback_"+Math.round(1e5*Math.random());window[o]=function(e){delete window[o],document.body.removeChild(s),i(t,e,"sucess",n)};var s=document.createElement("script");s.src=a+(a.indexOf("?")>=0?"&":"?")+"callback="+o,document.body.appendChild(s),s.onerror=function(t){i("",t,"error",n)}},i=function(t,e,n,a){t&&t.attr("data-sent","true").data("sent","true"),console.log(n+": ",e)},o=function(){console.log("Next Stack");var e=t("#redirect_url").val();e&&("false"!==t("#reload_parent_frame").val()?(console.log("parent_not_top"),window.location.href=e):(console.log("top"),window.top.location.href=e)),t("#submit_stack_button").html("Submit").attr("disabled",!1).prop("disabled",!1)},s=function(e){if(""==t("#user_phone").val()||""==t("#user_address").val()){if(1==e.find('input[name="phone"]').length&&""==t("#user_phone").val()){var n=e.find('input[name="phone"]').val();n=n.replace(/\D/g,""),t("#user_phone").val(n)}if((1==e.find('input[name="address"]').length||1==e.find('input[name="address1"]').length)&&""==t("#user_address").val()){if(1==e.find('input[name="address1"]').length)var a=e.find('input[name="address1"]').val();else var a=e.find('input[name="address"]').val();t("#user_address").val(a)}}};t.validator.setDefaults({focusInvalid:!1,invalidHandler:function(e,n){n.numberOfInvalids()&&(t("#submit_stack_button").html("Submit").attr("disabled",!1).prop("disabled",!1),t('input[name="eiq_campaign_id"]').length>1?(0==parseInt(t("#error_validation_counter").val())&&t(n.errorList[0].element).focus(),t("#error_validation_counter").val(parseInt(t("#error_validation_counter").val())+1)):t(n.errorList[0].element).focus())}}),t.validator.addMethod("letterswithspace",function(t,e){return this.optional(e)||/^[a-z\s]+$/i.test(t)},"letters only")}(jQuery);
//# sourceMappingURL=campaigns_custom_script.min.js.map
