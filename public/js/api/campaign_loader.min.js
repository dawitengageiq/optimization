!function(e){var r=!1,t=!0,i={},o={src:{screen_view:"1",submitBtn:"",submit:"",first_name:"",last_name:"",email:"",zip:"",birthdate:"",dobmonth:"",dobday:"",dobyear:"",gender:"",address:"",phone:"",phone1:"",phone2:"",phone3:"",ethnicity:"",source_url:"",image:"",affiliate_id:"",website_id:"",offer_id:"",campaign_id:"",s1:"",s2:"",s3:"",s4:"",s5:"",cs1:"",cs2:"",cs3:"",cs4:"",cs5:"",q2:"",redirect_url:""},appendTo:"body",targetUrl:"http://leadreactor.engageiq.com/",ifrWidth:"100%",ifrBorder:"none",skipTimeout:6e3,submitBtntext:"Submit",initiateResizerBeforeIframeContentLoad:!0,loaderText:"Please wait while we fetch offers to match your profile.",loaderTextColor:"#53A653",loaderWrapperBackgroundColor:"#fff",loaderTop:"175px",loaderMarginTop:"-175px",toReloadParentFrame:!1},n=function(e,t){for(var i in e)if(t.hasOwnProperty(i))if("object"==typeof t[i])for(var o in e[i])t[i].hasOwnProperty(o)&&(e[i][o]=t[i][o]);else e[i]=t[i];return t.loaderDebug&&(r=t.loaderDebug),e};window.addEventListener("error",function(r){if("error"===r.type){if("mobile_detect"!=r.target.id)return;if(e.appendTo.indexOf("#")!==-1)var t=document.getElementById(e.appendTo.substring(1));else if(e.appendTo.indexOf(".")!==-1)var t=document.getElementsByClassName(e.appendTo.substring(1))[0];else var t=document.getElementsByTagName(e.appendTo)[0];var i='<span style="font-size: 20px; font-family: Verdana, Arial, Helvetica, sans-serif; color:'+o.loaderTextColor+'">There is a problem loading the script from EIQ website. <br /> Please report to  EIQ about this error.</span>';e.src.redirect_url&&(i+='<br /><br /><span id="skip_error" style="font-size: 20px; font-family: Verdana, Arial, Helvetica, sans-serif; color:#2fa4e7; cursor: pointer">Skip</span>'),t.innerHTML=i}},!0),window.addEventListener("click",function(r){"skip_error"===r.target.id&&("false"!==e.toReloadParentFrame?window.location.href=e.src.redirect_url:window.top.location.href=e.src.redirect_url)}),window.onload=function(){i=n(o,e);var r=document.getElementsByTagName("html")[0],t=document.createElement("script");t.type="text/javascript",t.id="mobile_detect",t.src=i.targetUrl+"js/api/mobile_detect.min.js",r.addEventListener("load",function(e){"mobile_detect"===e.target.id&&b("http://postleads.engageiq.com/myipaddress.php",w)},!0),r.appendChild(t)};var s=function(e){var r="";for(var t in e)r+="&"+t+"="+escape(e[t]);return r.substring(1)},a=function(e){ifr_src=e.targetUrl+"frame/get_campaign_list_by_api?"+s(e.src),console.log(ifr_src);var i=e.appendTo;if(i.indexOf("#")!==-1)var o=document.getElementById(i.substring(1));else if(i.indexOf(".")!==-1)var o=document.getElementsByClassName(i.substring(1))[0];else var o=document.getElementsByTagName(i)[0];l(o,e);var n=document.createElement("iframe");n.src=ifr_src,n.width=e.ifrWidth,n.style.border=e.ifrBorder,n.onload=function(){var i=document.getElementById("loader_text_wrapper");if(r||i&&i.remove(),r||e.initiateResizerBeforeIframeContentLoad||iFrameResize(),e.src.redirect_url){t=!1;var o=document.getElementById("parent_skip");r||o&&o.remove()}},o.appendChild(n),d(e.src.redirect_url,e.skipTimeout,o)},d=function(e,r,i){e&&setTimeout(function(){var r=document.createElement("a");if(r.id="parent_skip",r.href=e,r.style.cssText="color: #2fa4e7; cursor: pointer; display: block; margin: 30px 0 15px; text-align: center; font-family: Verdana, Arial, Helvetica, sans-serif; text-decoration: none;",t){i.appendChild(r);var o=document.createTextNode("Skip");r.appendChild(o)}},r)},c=function(){var e=document.createElement("style");e.type="text/css";var r="@keyframes spin {                0% { transform: rotate(0deg); }                100% { transform: rotate(360deg); }            }";e.styleSheet?e.styleSheet.cssText=r:e.appendChild(document.createTextNode(r)),document.getElementsByTagName("head")[0].appendChild(e)},l=function(e,r){var t=document.createTextNode(r.loaderText),i=document.createElement("div");i.style.cssText="border: 8px solid #f3f3f3; border-radius: 50%; width: 25px; height: 25px; animation: spin 2s linear infinite; margin: 0 auto 10px;",i.style.borderTopColor=r.loaderTextColor;var o=document.createElement("div");o.style.cssText="display:  table-cell; vertical-align: middle; font-size: 20px; font-family: Verdana, Arial, Helvetica, sans-serif;",o.style.color=r.loaderTextColor,o.appendChild(i),o.appendChild(t);var n=document.createElement("div");n.id="loader_text_wrapper",n.style.cssText="display: table; position: relative; width: 100%; top: "+r.loaderTop+"; margin-top: "+r.loaderMarginTop+"; height: 175px; overflow: hidden;",n.style.backgroundColor=r.loaderWrapperBackgroundColor,n.appendChild(o),e.appendChild(n),c()},p=function(e,r){var t=document.createElement("script");t.type="text/javascript",t.id="irame_resizer",t.src=e+"js/api/iframeResizer.min.js",t.onload=function(){r&&iFrameResize()},document.getElementsByTagName("html")[0].appendChild(t)},m=function(){var e,r,t,i={os:"",os_version:"",browser:"",browser_version:"",user_agent:window.navigator.userAgent},o={isMobile:"",isTablet:"",isDesktop:"",type:""},n=navigator.appVersion,s=navigator.userAgent,a=navigator.appName,d=""+parseFloat(navigator.appVersion),c=parseInt(navigator.appVersion,10);(r=s.indexOf("Opera"))!=-1?(a="Opera",d=s.substring(r+6),(r=s.indexOf("Version"))!=-1&&(d=s.substring(r+8))):(r=s.indexOf("MSIE"))!=-1?(a="Microsoft Internet Explorer",d=s.substring(r+5)):(r=s.indexOf("Chrome"))!=-1?(a="Chrome",d=s.substring(r+7)):(r=s.indexOf("Safari"))!=-1?(a="Safari",d=s.substring(r+7),(r=s.indexOf("Version"))!=-1&&(d=s.substring(r+8))):(r=s.indexOf("Firefox"))!=-1?(a="Firefox",d=s.substring(r+8)):(e=s.lastIndexOf(" ")+1)<(r=s.lastIndexOf("/"))&&(a=s.substring(e,r),d=s.substring(r+1),a.toLowerCase()==a.toUpperCase()&&(a=navigator.appName)),(t=d.indexOf(";"))!=-1&&(d=d.substring(0,t)),(t=d.indexOf(" "))!=-1&&(d=d.substring(0,t)),(t=d.indexOf(")"))!=-1&&(d=d.substring(0,t)),c=parseInt(""+d,10),isNaN(c)&&(d=""+parseFloat(navigator.appVersion),c=parseInt(navigator.appVersion,10));var l=(/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(n),"unknown"),p=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 3.11",r:/Win16/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var m in p){var f=p[m];if(f.r.test(s)){l=f.s;break}}var u="unknown";switch(/Windows/.test(l)&&(u="Windows "+/Windows (.*)/.exec(l)[1],l="Windows"),l){case"Mac OS X":u=/Mac OS X (10[\.\_\d]+)/.exec(s)[1];break;case"Android":u=/Android ([\.\_\d]+)/.exec(s)[1];break;case"iOS":u=/OS (\d+)_(\d+)_?(\d+)?/.exec(n),u=u[1]+"."+u[2]+"."+(0|u[3])}var b=new MobileDetect(window.navigator.userAgent),w=1;return o.isDesktop=1,o.type="desktop",i.browser=a,i.browser_version=d,i.os=o.os?o.os:l,i.os_version=u,b.mobile()&&b.phone()&&(w=2,o.isMobile=1,o.isDesktop="",o.type=b.phone()),(b.tablet()||b.mobile()&&!b.phone())&&(w=3,o.isTablet=1,o.isDesktop="",o.type=b.tablet()),{screen_view:w,browser:i,device:o}},f=function(e,r,t){return e+"-"+r+"-"+t},u=function(e){return"male"==e||"m"==e?"M":"F"},b=function(e,r){var t="jsonp_callback_"+Math.round(1e5*Math.random());window[t]=function(e){delete window[t],document.body.removeChild(i),r(e.ip)};var i=document.createElement("script");i.src=e+(e.indexOf("?")>=0?"&":"?")+"callback="+t,document.body.appendChild(i),i.onerror=function(e){r("")}},w=function(e){var r=m();i.src.ip=e,i.src.screen_view=r.screen_view,i.src.os=r.browser.os,i.src.os_version=r.browser.os_version,i.src.browser=r.browser.browser,i.src.browser_version=r.browser.browser_version,i.src.user_agent=r.browser.user_agent,i.src.is_mobile=r.device.isMobile,i.src.is_tablet=r.device.isTablet,i.src.is_desktop=r.device.isDesktop,i.src.type=r.device.type,i.src.birthdate=f(i.src.dobyear,i.src.dobmonth,i.src.dobday),i.src.gender=u(i.src.gender.toLowerCase()),i.src.source_url=window.location.href;var t=i.src.phone.replace(/\D/g,"");i.src.phone=t,i.src.phone1=t.substr(0,3),i.src.phone2=t.substr(3,3),i.src.phone3=t.substr(6,4),i.src.submitBtn=i.submitBtntext,i.src.submit="engageiq_iframeapi_post_data",i.src.target_url=i.targetUrl,i.src.reload_parent_frame=i.toReloadParentFrame,a(i),p(i.targetUrl,i.initiateResizerBeforeIframeContentLoad)}}(options);
//# sourceMappingURL=campaign_loader.min.js.map
